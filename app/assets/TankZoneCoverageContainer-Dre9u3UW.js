import{j as e,k as W,l as h,aQ as X,aR as ae,aS as ne,aT as se,aU as O,aV as oe,aW as re,B as g,aX as ue,aY as Z,aZ as pe,a_ as ge,a$ as he,b0 as ie,b1 as H,b2 as le,b3 as ce,b4 as me,b5 as xe,b6 as fe,r as b,b7 as ve,b8 as be,R as Y,b9 as ye}from"./index-CU1xQazK.js";import{S as je,P as ke,C as Te,A as Ce,a as Se,M as we,E as Ae,D as Ie}from"./A11yProvider-DkntMPxM.js";import{c as de,T as l,P as F,u as Re}from"./Typography-Co4hclXV.js";import{L as Q}from"./LocalFireDepartment-D9TF0Emd.js";import{h as ze,i as L,T as $,M as S,L as _,l as q,m as Le,n as J,C as K,p as Me,g as D,A as B,k as Ee,f as M,D as Fe,E as De,q as Be}from"./Settings-B-nTGn6o.js";import{B as I}from"./Button-BiJIdxB9.js";import{A as Pe,D as Ze,S as E,a as $e}from"./Delete-CYNyx019.js";import{F as Ge,L as We}from"./FilterList-9IFI73Q_.js";import{A as Oe}from"./Assessment-Be-GHZ-i.js";import{D as ee}from"./Download-eu-OzrkH.js";import{l as T,u as Ue,F as Ve,a as Ne}from"./leaflet-BNWm_6Ez.js";const He=de(e.jsx("path",{d:"M8 5v14l11-7z"})),te=de(e.jsx("path",{d:"M5 20h14v-2H5zm0-10h4v6h6v-6h4l-7-7z"})),_e=({mode:r})=>{const n=W(),p=h(X),m=h(ae);h(ne);const x=h(se),i=h(O),s=h(oe),f=h(re),C=(t,c)=>{n(ue(c))},w=()=>{if(p.length===0){alert("Please add at least one tank before running analysis.");return}n(xe()),console.log("🔬 Starting coverage analysis for",p.length,"tanks..."),setTimeout(()=>{var c;const t={totalTanks:p.length,coveragePercentage:75+Math.random()*20,gapAreas:[{id:"gap-1",area:160934,severity:"critical",geometry:[],nearestTank:{tankId:((c=p[0])==null?void 0:c.id)||"tank-1",distance:2100,accessTime:8},riskAssessment:"high"}],redundancyAreas:[],recommendations:[{id:"rec-1",type:"new-tank",priority:"high",title:"Add Tank in Northern Coverage Gap",description:"Critical coverage gap identified in northern sector requiring additional water supply.",estimatedCost:75e3,expectedBenefit:"Reduce response time by 4 minutes for 150 properties",implementation:"Install 25,000 gallon tank with road access"}],generatedAt:new Date,analysisParameters:s};n(fe(t)),console.log("✅ Analysis complete:",t)},2e3)},d=t=>{i.selectedTanks.includes(t)?n(le(t)):n(ce(t))},a=t=>{n(me(t))},o=()=>{const t={name:`Tank ${p.length+1}`,location:{latitude:39.8283+(Math.random()-.5)*.1,longitude:-98.5795+(Math.random()-.5)*.1},capacity:1e4+Math.floor(Math.random()*5e4),type:["municipal","private","emergency"][Math.floor(Math.random()*3)],accessRating:["excellent","good","fair"][Math.floor(Math.random()*3)],operationalStatus:"active",owner:"Sample Owner",notes:"Added via Add Tank button"};n(ie(t)),console.log("🎯 Tank added:",t)},v=()=>{const t=document.createElement("input");t.type="file",t.accept=".csv",t.onchange=c=>{var z;const k=(z=c.target.files)==null?void 0:z[0];k&&(console.log("📁 CSV file selected:",k.name),alert(`CSV Import selected: ${k.name}

CSV parsing will be implemented in the next development phase.`))},t.click()},y=t=>{const c=t.target.value;n(H({tankTypes:c==="all"?[]:[c]})),console.log("🔍 Tank type filter changed:",c)},u=t=>{const c=t.target.value;n(H({operationalStatus:c==="all"?[]:[c]})),console.log("🔍 Status filter changed:",c)},j=(t,c)=>{const k=Array.isArray(c)?c:[0,c];n(H({capacityRange:k})),console.log("🔍 Capacity range changed:",k)},A=()=>e.jsxs(g,{sx:{p:2},children:[e.jsxs(g,{sx:{mb:2,display:"flex",gap:1},children:[e.jsx(I,{variant:"outlined",startIcon:e.jsx(Pe,{}),size:"small",fullWidth:!0,onClick:o,children:"Add Tank"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(te,{}),size:"small",fullWidth:!0,onClick:v,children:"Import CSV"})]}),e.jsxs(F,{variant:"outlined",sx:{p:2,mb:2},children:[e.jsxs(l,{variant:"subtitle2",gutterBottom:!0,children:[e.jsx(Ge,{sx:{mr:1,verticalAlign:"middle"}}),"Filters"]}),e.jsxs($,{select:!0,size:"small",label:"Tank Type",fullWidth:!0,margin:"dense",value:i.filterCriteria.tankTypes[0]||"all",onChange:y,children:[e.jsx(S,{value:"all",children:"All Types"}),e.jsx(S,{value:"municipal",children:"Municipal"}),e.jsx(S,{value:"private",children:"Private"}),e.jsx(S,{value:"emergency",children:"Emergency"})]}),e.jsxs($,{select:!0,size:"small",label:"Status",fullWidth:!0,margin:"dense",value:i.filterCriteria.operationalStatus[0]||"all",onChange:u,children:[e.jsx(S,{value:"all",children:"All Status"}),e.jsx(S,{value:"active",children:"Active"}),e.jsx(S,{value:"inactive",children:"Inactive"}),e.jsx(S,{value:"maintenance",children:"Maintenance"})]}),e.jsx(l,{variant:"caption",display:"block",sx:{mt:1,mb:1},children:"Capacity Range (gallons)"}),e.jsx(je,{size:"small",value:i.filterCriteria.capacityRange,onChange:j,min:0,max:1e5,step:5e3,valueLabelDisplay:"auto",marks:[{value:0,label:"0"},{value:5e4,label:"50K"},{value:1e5,label:"100K"}]})]}),e.jsxs(l,{variant:"subtitle2",gutterBottom:!0,children:["Water Tanks (",m.length,")"]}),e.jsx(_,{dense:!0,children:m.map(t=>e.jsxs(q,{button:!0,selected:i.selectedTanks.includes(t.id),onClick:()=>d(t.id),sx:{border:1,borderColor:"divider",mb:1,borderRadius:1},children:[e.jsx(Le,{children:e.jsx(Q,{color:t.operationalStatus==="active"?"primary":"disabled"})}),e.jsx(J,{primary:t.name,secondary:e.jsxs(g,{children:[e.jsxs(l,{variant:"caption",display:"block",children:[t.capacity.toLocaleString()," gal • ",t.type]}),e.jsx(K,{size:"small",label:t.accessRating,color:t.accessRating==="excellent"?"success":"default"})]})}),e.jsx(Me,{children:e.jsx(D,{size:"small",onClick:c=>{c.stopPropagation(),a(t.id)},children:e.jsx(Ze,{})})})]},t.id))}),m.length===0&&e.jsx(B,{severity:"info",sx:{mt:2},children:"No tanks found. Add tanks or adjust filters."})]}),R=()=>e.jsxs(g,{sx:{p:2},children:[e.jsxs(F,{variant:"outlined",sx:{p:2,mb:2},children:[e.jsxs(l,{variant:"subtitle2",gutterBottom:!0,children:[e.jsx(Ee,{sx:{mr:1,verticalAlign:"middle"}}),"Analysis Parameters"]}),e.jsx($,{size:"small",label:"Max Effective Distance (ft)",fullWidth:!0,margin:"dense",type:"number",value:s.maxEffectiveDistance,onChange:t=>n(Z({maxEffectiveDistance:parseInt(t.target.value)||1500}))}),e.jsx($,{size:"small",label:"Min Flow Rate (GPM)",fullWidth:!0,margin:"dense",type:"number",value:s.minimumFlowRate,onChange:t=>n(Z({minimumFlowRate:parseInt(t.target.value)||250}))}),e.jsx(M,{control:e.jsx(E,{checked:s.terrainFactor,onChange:t=>n(Z({terrainFactor:t.target.checked}))}),label:"Consider Terrain"}),e.jsx(M,{control:e.jsx(E,{checked:s.seasonalFactors,onChange:t=>n(Z({seasonalFactors:t.target.checked}))}),label:"Seasonal Factors"})]}),e.jsx(I,{variant:"contained",startIcon:e.jsx(He,{}),fullWidth:!0,size:"large",onClick:w,disabled:p.length===0||f,sx:{mb:2},children:f?"Analyzing...":"Analyze Coverage"}),f&&e.jsx(We,{sx:{mb:2}}),e.jsxs(F,{variant:"outlined",sx:{p:2,mb:2},children:[e.jsx(l,{variant:"subtitle2",gutterBottom:!0,children:"Display Options"}),e.jsx(M,{control:e.jsx(E,{checked:i.showCoverageZones,onChange:()=>n(pe())}),label:"Coverage Zones"}),e.jsx(M,{control:e.jsx(E,{checked:i.showGapAreas,onChange:()=>n(ge())}),label:"Gap Areas"}),e.jsx(M,{control:e.jsx(E,{checked:i.showRedundancyAreas,onChange:()=>n(he())}),label:"Redundancy Areas"})]}),x&&e.jsxs(F,{variant:"outlined",sx:{p:2},children:[e.jsxs(l,{variant:"subtitle2",gutterBottom:!0,children:[e.jsx(Oe,{sx:{mr:1,verticalAlign:"middle"}}),"Analysis Results"]}),e.jsxs(l,{variant:"body2",gutterBottom:!0,children:["Coverage: ",x.coveragePercentage.toFixed(1),"%"]}),e.jsxs(l,{variant:"body2",gutterBottom:!0,children:["Tanks: ",x.totalTanks]}),e.jsxs(l,{variant:"body2",gutterBottom:!0,children:["Critical Gaps: ",x.gapAreas.filter(t=>t.severity==="critical").length]}),e.jsx(I,{variant:"outlined",size:"small",startIcon:e.jsx(ee,{}),fullWidth:!0,sx:{mt:1},children:"Export Report"})]})]}),U=()=>e.jsxs(g,{sx:{p:2},children:[e.jsx(l,{variant:"subtitle2",gutterBottom:!0,children:"Coverage Gaps"}),x?e.jsx(_,{dense:!0,children:x.gapAreas.map(t=>e.jsx(q,{sx:{border:1,borderColor:"divider",mb:1,borderRadius:1},children:e.jsx(J,{primary:`Gap ${t.id}`,secondary:e.jsxs(g,{children:[e.jsxs(l,{variant:"caption",display:"block",children:["Severity: ",e.jsx(K,{size:"small",label:t.severity,color:t.severity==="critical"?"error":t.severity==="high"?"warning":"default"})]}),e.jsxs(l,{variant:"caption",display:"block",children:["Area: ",(t.area/43560).toFixed(1)," acres"]})]})})},t.id))}):e.jsx(B,{severity:"info",children:"Run coverage analysis to identify gaps."})]}),V=()=>e.jsxs(g,{sx:{p:2},children:[e.jsx(l,{variant:"subtitle2",gutterBottom:!0,children:"Recommendations"}),x?e.jsx(_,{dense:!0,children:x.recommendations.map(t=>e.jsx(q,{sx:{border:1,borderColor:"divider",mb:1,borderRadius:1},children:e.jsx(J,{primary:t.title,secondary:e.jsxs(g,{children:[e.jsx(l,{variant:"body2",gutterBottom:!0,children:t.description}),e.jsx(K,{size:"small",label:t.priority,color:t.priority==="critical"?"error":t.priority==="high"?"warning":"default"}),t.estimatedCost&&e.jsxs(l,{variant:"caption",display:"block",sx:{mt:1},children:["Est. Cost: $",t.estimatedCost.toLocaleString()]})]})})},t.id))}):e.jsx(B,{severity:"info",children:"Run coverage analysis to see recommendations."})]}),P=()=>e.jsxs(g,{sx:{p:2},children:[e.jsx(l,{variant:"subtitle2",gutterBottom:!0,children:"Data Import"}),e.jsx(B,{severity:"info",sx:{mb:2},children:"Import tank locations from CSV or place manually on map."}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(te,{}),fullWidth:!0,sx:{mb:2},children:"Upload Tank Data (CSV)"}),e.jsx(l,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"CSV should include: Name, Latitude, Longitude, Capacity, Type, Owner"}),e.jsx(Fe,{sx:{my:2}}),e.jsx(l,{variant:"subtitle2",gutterBottom:!0,children:"Export Data"}),e.jsx(I,{variant:"outlined",startIcon:e.jsx(ee,{}),fullWidth:!0,disabled:p.length===0,children:"Export Tank Data"})]});return e.jsxs(g,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(g,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[e.jsxs(l,{variant:"h6",component:"div",sx:{display:"flex",alignItems:"center"},children:[e.jsx(Q,{sx:{mr:1}}),"Tank Coverage"]}),r&&e.jsxs(l,{variant:"caption",color:"text.secondary",children:["Mode: ",r]})]}),e.jsxs(ze,{value:i.sidebarTab,onChange:C,variant:"scrollable",scrollButtons:"auto",sx:{borderBottom:1,borderColor:"divider"},children:[e.jsx(L,{label:"Tanks",value:"tanks"}),e.jsx(L,{label:"Analysis",value:"analysis"}),e.jsx(L,{label:"Gaps",value:"gaps"}),e.jsx(L,{label:"Recommendations",value:"recommendations"}),e.jsx(L,{label:"Import",value:"import"})]}),e.jsxs(g,{sx:{flexGrow:1,overflow:"auto"},children:[i.sidebarTab==="tanks"&&A(),i.sidebarTab==="analysis"&&R(),i.sidebarTab==="gaps"&&U(),i.sidebarTab==="recommendations"&&V(),i.sidebarTab==="import"&&P()]})]})},qe=({map:r})=>{const n=W(),p=h(ae),m=h(O),x=h(oe),i=b.useRef(null),s=b.useRef(null),f=b.useRef(new Map);b.useEffect(()=>{if(r)return i.current=T.layerGroup().addTo(r),s.current=T.layerGroup().addTo(r),()=>{i.current&&r.removeLayer(i.current),s.current&&r.removeLayer(s.current)}},[r]);const C=a=>{const o=()=>{switch(a.operationalStatus){case"active":return"#2196f3";case"inactive":return"#9e9e9e";case"maintenance":return"#ff9800";default:return"#2196f3"}},y=(()=>{const R=Math.min(Math.max(a.capacity/25e3,.7),2);return Math.round(24*R)})(),u=o(),j=`
      <svg width="${y}" height="${y}" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="10" fill="${u}" stroke="#ffffff" stroke-width="2"/>
        <path d="M8 10h8v6a2 2 0 01-2 2h-4a2 2 0 01-2-2v-6z" fill="#ffffff"/>
        <path d="M7 8h10v2H7z" fill="#ffffff"/>
        <circle cx="12" cy="6" r="1" fill="#ffffff"/>
      </svg>
    `;return T.divIcon({html:j,className:"tank-marker",iconSize:[y,y],iconAnchor:[y/2,y/2],popupAnchor:[0,-y/2]})},w=a=>{const o=a.capacity.toLocaleString();return`
      <div style="min-width: 200px;">
        <h4 style="margin: 0 0 8px 0; color: #1976d2;">${a.name}</h4>
        <p style="margin: 4px 0;"><strong>Capacity:</strong> ${o} gallons</p>
        <p style="margin: 4px 0;"><strong>Type:</strong> ${a.type}</p>
        <p style="margin: 4px 0;"><strong>Access:</strong> ${a.accessRating}</p>
        <p style="margin: 4px 0;"><strong>Status:</strong> ${a.operationalStatus}</p>
        <p style="margin: 4px 0;"><strong>Owner:</strong> ${a.owner}</p>
        ${a.notes?`<p style="margin: 4px 0;"><strong>Notes:</strong> ${a.notes}</p>`:""}
        <div style="margin-top: 8px; font-size: 12px; color: #666;">
          Lat: ${a.location.latitude.toFixed(6)}, Lng: ${a.location.longitude.toFixed(6)}
        </div>
      </div>
    `},d=a=>{if(!m.showCoverageZones)return null;const o=x.maxEffectiveDistance*.3048;return T.circle([a.location.latitude,a.location.longitude],{radius:o,fillColor:"#2196f3",fillOpacity:.1,color:"#1976d2",weight:2,opacity:.6})};return b.useEffect(()=>{if(!(!r||!i.current||!s.current)){if(i.current.clearLayers(),s.current.clearLayers(),f.current.clear(),p.forEach(a=>{const o=C(a),v=T.marker([a.location.latitude,a.location.longitude],{icon:o,draggable:!0,riseOnHover:!0});v.bindPopup(w(a)),v.on("click",u=>{var j;(j=u.originalEvent)==null||j.stopPropagation(),m.selectedTanks.includes(a.id)?n(le(a.id)):n(ce(a.id)),console.log("🎯 Tank selected:",a.name)}),v.on("dragend",u=>{const j=u.target.getLatLng(),A={...a,location:{latitude:j.lat,longitude:j.lng},modified:new Date};n(ve(A)),console.log("🚛 Tank moved:",a.name,"to",j)}),m.selectedTanks.includes(a.id)&&v.setZIndexOffset(1e3),i.current.addLayer(v),f.current.set(a.id,v);const y=d(a);y&&s.current.addLayer(y)}),p.length>0){const o=new T.FeatureGroup(Array.from(f.current.values())).getBounds();o.isValid()&&r.fitBounds(o,{padding:[20,20],maxZoom:16})}console.log("🗺️ Tank markers updated:",p.length,"tanks displayed")}},[p,m.selectedTanks,m.showCoverageZones,x.maxEffectiveDistance,n,r]),b.useEffect(()=>{!s.current||!r||(m.showCoverageZones?r.hasLayer(s.current)||r.addLayer(s.current):r.hasLayer(s.current)&&r.removeLayer(s.current))},[m.showCoverageZones,r]),null},Je=T.icon({iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});T.Marker.prototype.options.icon=Je;const Ke=()=>{const r=W(),n=h(X),p=h(O),m=b.useRef(null),[x,i]=b.useState(!1),[s,f]=b.useState({latitude:39.8283,longitude:-98.5795,zoom:4}),C=b.useCallback(d=>{if(m.current=d,i(!0),d.on("click",a=>{if(p.selectedTanks.length===0){const o={name:`Tank ${n.length+1}`,location:{latitude:a.latlng.lat,longitude:a.latlng.lng},capacity:25e3,type:"municipal",accessRating:"good",operationalStatus:"active",owner:"Fire Department",notes:"Placed via map click"};r(ie(o)),console.log("🎯 Tank placed via map click:",o.name,"at",a.latlng)}}),d.on("move",()=>{const a=d.getCenter(),o=d.getZoom();f({latitude:a.lat,longitude:a.lng,zoom:o})}),n.length>0){const a=T.latLngBounds(n.map(o=>[o.location.latitude,o.location.longitude]));d.fitBounds(a,{padding:[20,20],maxZoom:16})}else d.setView([39.8283,-98.5795],4);console.log("🗺️ Tank map initialized with",n.length,"tanks")},[n,p.selectedTanks.length,r]),w=b.useCallback(d=>{console.error("Tank map error:",d)},[]);return b.useEffect(()=>{if(!m.current||n.length===0)return;const d=m.current,a=T.latLngBounds(n.map(o=>[o.location.latitude,o.location.longitude]));a.isValid()&&d.fitBounds(a,{padding:[50,50],maxZoom:16,animate:!0,duration:.5})},[n.length]),e.jsxs(g,{sx:{height:"100%",width:"100%",position:"relative",overflow:"hidden"},children:[e.jsx(ke,{onMapReady:C,onError:w,center:[s.latitude,s.longitude],zoom:s.zoom}),x&&e.jsx(qe,{map:m.current}),e.jsx(Te,{latitude:s.latitude,longitude:s.longitude,zoom:s.zoom,sx:{position:"absolute",bottom:8,left:8,zIndex:1e3,bgcolor:"rgba(255, 255, 255, 0.9)",p:1,borderRadius:1,fontSize:"0.75rem"}}),e.jsxs(g,{sx:{position:"absolute",top:8,left:8,zIndex:1e3,bgcolor:"rgba(33, 150, 243, 0.9)",color:"white",p:1,borderRadius:1,fontSize:"0.875rem",fontWeight:"medium"},children:[n.length," ",n.length===1?"Tank":"Tanks"]}),n.length===0&&e.jsxs(g,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",zIndex:1e3,bgcolor:"rgba(255, 255, 255, 0.95)",p:3,borderRadius:2,textAlign:"center",maxWidth:300,boxShadow:2},children:[e.jsx(l,{variant:"h6",gutterBottom:!0,color:"primary",children:"Welcome to Tank Zone Coverage"}),e.jsx(l,{variant:"body2",color:"text.secondary",children:'Click anywhere on the map to place a water tank, or use the "Add Tank" button in the sidebar.'})]})]})},G=320,lt=({initialTanks:r=[],initialAnalysisParams:n,onAnalysisComplete:p,onTankUpdate:m,mode:x="analysis"})=>{const i=W(),s=Re(),f=Ue(s.breakpoints.down("md"));b.useEffect(()=>{document.title="FireEMS Tank Zone Coverage"},[]);const C=h(X),w=h(ne),d=h(se);h(O);const a=h(re),o=h(be),[v,y]=Y.useState(!f),[u,j]=Y.useState(!1);b.useEffect(()=>{r.length>0&&console.log("Loading initial tanks:",r),n&&console.log("Loading initial analysis parameters:",n)},[r,n]),b.useEffect(()=>{d&&p&&p(d)},[d,p]);const A=()=>{y(!v)},R=()=>{j(!u),u?document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen&&document.documentElement.requestFullscreen()},U=()=>{const c={tanks:C,coverageZones:w,activeAnalysis:d,timestamp:new Date};localStorage.setItem("tankZoneCoverage_autosave",JSON.stringify(c)),console.log("Tank zone coverage data saved")},V=()=>{if(d){const c={analysis:d,tanks:C,exportedAt:new Date},k=new Blob([JSON.stringify(c,null,2)],{type:"application/json"}),z=URL.createObjectURL(k),N=document.createElement("a");N.href=z,N.download=`tank-coverage-analysis-${new Date().toISOString().split("T")[0]}.json`,N.click(),URL.revokeObjectURL(z)}},P=()=>{i(ye())},t={marginLeft:!f&&v?`${G}px`:0,width:!f&&v?`calc(100% - ${G}px)`:"100%",height:u?"100vh":"calc(100vh - 64px)",transition:s.transitions.create(["margin","width"],{easing:s.transitions.easing.sharp,duration:s.transitions.duration.leavingScreen})};return e.jsx(Ce,{children:e.jsxs(g,{sx:{display:"flex",height:"100vh",overflow:"hidden",bgcolor:"background.default",position:u?"fixed":"relative",top:u?0:"auto",left:u?0:"auto",right:u?0:"auto",bottom:u?0:"auto",zIndex:u?1300:"auto"},role:"main","aria-label":"Tank Zone Coverage Analysis Tool",children:[!u&&e.jsx(Se,{position:"fixed",sx:{zIndex:s.zIndex.drawer+1,bgcolor:"primary.main"},children:e.jsxs(De,{children:[e.jsx(D,{color:"inherit","aria-label":"toggle sidebar",onClick:A,edge:"start",sx:{mr:2},children:e.jsx(we,{})}),e.jsx(Q,{sx:{mr:1}}),e.jsxs(l,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:["Tank Zone Coverage Analysis",x==="planning"&&" - Planning Mode",x==="presentation"&&" - Presentation Mode"]}),e.jsxs(g,{sx:{display:"flex",gap:1},children:[e.jsx(D,{color:"inherit",onClick:U,title:"Save Analysis",children:e.jsx($e,{})}),e.jsx(D,{color:"inherit",onClick:V,title:"Export Results",disabled:!d,children:e.jsx(Ae,{})}),e.jsx(D,{color:"inherit",onClick:R,title:"Toggle Fullscreen",children:u?e.jsx(Ve,{}):e.jsx(Ne,{})})]})]})}),e.jsx(Ie,{variant:f?"temporary":"persistent",anchor:"left",open:v,onClose:A,sx:{width:G,flexShrink:0,"& .MuiDrawer-paper":{width:G,boxSizing:"border-box",marginTop:u?0:"64px",height:u?"100vh":"calc(100vh - 64px)",borderRight:`1px solid ${s.palette.divider}`}},ModalProps:{keepMounted:!0,disablePortal:!1,hideBackdrop:!f,disableAutoFocus:!0,disableEnforceFocus:!0,disableRestoreFocus:!0},PaperProps:{"aria-hidden":!1,role:"complementary","aria-label":"Tank Zone Coverage Tools"},children:e.jsx(_e,{mode:x})}),e.jsxs(g,{component:"main",sx:{flexGrow:1,position:"relative",...t},children:[e.jsx(F,{elevation:0,sx:{height:"100%",width:"100%",borderRadius:0,overflow:"hidden",position:"relative",minHeight:"500px",display:"flex",flexDirection:"column","& .leaflet-container":{background:"transparent !important",outline:"none"},"& .leaflet-tile-pane":{opacity:"1 !important",visibility:"visible !important"},"& .leaflet-tile":{opacity:"1 !important",visibility:"visible !important",display:"block !important",imageRendering:"auto",transform:"translateZ(0)",backfaceVisibility:"hidden"},"& .leaflet-layer":{opacity:"1 !important",visibility:"visible !important"}},children:e.jsx(Ke,{})}),a&&e.jsx(g,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"rgba(255, 255, 255, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsx(l,{variant:"h6",children:"Analyzing Tank Coverage..."})})]}),e.jsx(Be,{open:!!o,autoHideDuration:6e3,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:e.jsx(B,{onClose:P,severity:"error",sx:{width:"100%"},children:o})})]})})};export{lt as default};
