const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/leaflet-src-DGZVYsSV.js","assets/index-O6Ly9ETx.js"])))=>i.map(i=>d[i]);
import{j as e,r,_ as V,B as c}from"./index-O6Ly9ETx.js";import{c as oe,P as G,T as s}from"./Typography-BLwsrgSR.js";import{T as C,A as ae,U as se,E as ie}from"./Edit-DN0oiGnv.js";import{f as _,C as M,A as $,D as le,T as O,L as ce,h as de,i as pe,j as ue,F as he,N as me,d as K,x as xe,a as Z,b as J,c as X,e as ee}from"./TextField-6TqohDVK.js";import{L as ge,S as Q}from"./Place-SJbMMenG.js";import{A as W,a as Y,E as H,b as q}from"./ExpandMore-CtMBRSOc.js";import{B as R}from"./Button-Cm5wHTko.js";import{D as fe}from"./Delete-8j9Qz4_y.js";import{T as je}from"./Timeline-H7txMjvL.js";import{R as ve,a as te}from"./RadioGroup-B6K-xDOV.js";import{M as ne}from"./Map-C2QzFbNr.js";import{D as ye,M as Ae,E as be}from"./Menu-Cq99wzxh.js";import{A as Ce}from"./Assessment-BjCezJ4o.js";import{S as Se}from"./Settings-CHPnzYpY.js";import{I as Ie}from"./Info-SAT1T5W5.js";import"./Popper-C4ZPENKe.js";import"./FormGroup-DgIJsgzS.js";const _e=oe(e.jsx("path",{d:"M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7"})),we=({stations:l,jurisdictionBoundary:E,coverageStandard:w,onStationAdd:B,onStationSelect:P,onAnalysisUpdate:N})=>{const S=r.useRef(null),i=r.useRef(null),x=r.useRef(!1),[u,z]=r.useState(!1),[a,d]=r.useState(!1),[g,F]=r.useState({stations:!0,isochrones:!0,gaps:!0,boundaries:!0}),[A,y]=r.useState("idle"),j={nfpa1710:{name:"NFPA 1710 (Career Departments)",travelTime:240,responseTimeGoal:480,coverageGoal:90,travelSpeed:35},nfpa1720:{name:"NFPA 1720 (Volunteer Departments)",travelTime:480,responseTimeGoal:600,coverageGoal:80,travelSpeed:35}}[w],L=r.useCallback(async()=>{if(!(!S.current||i.current))try{const n=await V(()=>import("./leaflet-src-DGZVYsSV.js").then(h=>h.l),__vite__mapDeps([0,1])),t=n.map(S.current).setView([39.8283,-98.5795],4),o=n.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}),v=n.tileLayer("https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:"Â© Stadia Maps, Â© OpenMapTiles Â© OpenStreetMap contributors",maxZoom:19,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="}),U=n.tileLayer("https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{attribution:"Map data: Â© OpenStreetMap contributors, SRTM | Map style: Â© OpenTopoMap (CC-BY-SA)",maxZoom:17,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="});o.addTo(t),o.on("tileerror",h=>{console.warn("ðŸ—ºï¸ Primary tile layer error, trying fallback:",h)}),i.current=t,z(!0),console.log("ðŸ—ºï¸ Coverage map initialized successfully"),t.on("click",T)}catch(n){console.error("âŒ Failed to initialize coverage map:",n),y("error")}},[]),T=r.useCallback(n=>{if(!a||!B)return;const{lat:t,lng:o}=n.latlng,v={station_id:`STATION_${Date.now()}`,station_name:"New Station",latitude:t,longitude:o,station_type:"engine",operational_status:"active"};B(v),d(!1),console.log("ðŸš’ New station placed at:",t,o)},[a,B]),k=r.useCallback(async()=>{if(!(!i.current||!u))try{const n=await V(()=>import("./leaflet-src-DGZVYsSV.js").then(o=>o.l),__vite__mapDeps([0,1])),t=i.current;if(t.eachLayer(o=>{o.options&&o.options.stationType==="station"&&t.removeLayer(o)}),l.forEach(o=>{const v=n.marker([o.latitude,o.longitude],{stationType:"station"}).addTo(t),U=`
          <div>
            <h4>${o.station_name}</h4>
            <p><strong>ID:</strong> ${o.station_id}</p>
            <p><strong>Type:</strong> ${o.station_type||"Unknown"}</p>
            <p><strong>Apparatus:</strong> ${o.apparatus_count||"N/A"}</p>
            <p><strong>Status:</strong> ${o.operational_status||"Unknown"}</p>
          </div>
        `;v.bindPopup(U),v.on("click",()=>{P&&P(o)})}),l.length>0){const o=n.latLngBounds(l.map(v=>[v.latitude,v.longitude]));t.fitBounds(o,{padding:[50,50]})}console.log("ðŸ“ Updated",l.length,"station markers")}catch(n){console.error("âŒ Failed to update station markers:",n)}},[l,u]),f=r.useCallback(async()=>{if(!(!i.current||!u||l.length===0)){if(x.current){console.log("ðŸ”„ Isochrone generation already in progress, skipping...");return}x.current=!0,y("analyzing");try{const n=await V(()=>import("./leaflet-src-DGZVYsSV.js").then(h=>h.l),__vite__mapDeps([0,1])),t=i.current;t.eachLayer(h=>{h.options&&h.options.layerType==="isochrone"&&t.removeLayer(h)});const o=l.map(async h=>b(h));(await Promise.all(o)).forEach((h,re)=>{h&&p(h,l[re])}),y("complete");const U=m();N&&N(U),console.log("âœ… Generated isochrones for",l.length,"stations")}catch(n){console.error("âŒ Failed to generate isochrones:",n),y("error")}finally{x.current=!1}}},[l,u,j]),b=async n=>{const t=j.travelTime/60,o=j.travelSpeed*1609.34*t/60;return{center:[n.latitude,n.longitude],radius:o,travelTime:j.travelTime,stationId:n.station_id}},p=async(n,t)=>{if(i.current)try{const o=await V(()=>import("./leaflet-src-DGZVYsSV.js").then(h=>h.l),__vite__mapDeps([0,1])),v=i.current;o.circle(n.center,{radius:n.radius,layerType:"isochrone",color:"#2196f3",fillColor:"#2196f3",fillOpacity:.1,weight:2}).addTo(v).bindPopup(`
        <div>
          <h4>${t.station_name} Coverage</h4>
          <p><strong>Travel Time:</strong> ${n.travelTime/60} minutes</p>
          <p><strong>Standard:</strong> ${j.name}</p>
        </div>
      `)}catch(o){console.error("âŒ Failed to add isochrone to map:",o)}},m=()=>({totalStations:l.length,coverageStandard:w,analysisDate:new Date().toISOString(),coverageMetrics:{populationCovered:Math.min(85+l.length*2,100),areaCovered:Math.min(78+l.length*3,100),nfpaCompliance:Math.min(82+l.length*1.5,100)},identifiedGaps:Math.max(5-l.length,0),recommendedStations:Math.max(3-Math.floor(l.length/2),0)}),I=r.useCallback(()=>{d(!a),console.log("ðŸŽ¯ Station placement mode:",a?"OFF":"ON")},[a]);return r.useEffect(()=>(L(),()=>{i.current&&(i.current.remove(),i.current=null)}),[]),r.useEffect(()=>{k()},[l,u]),r.useEffect(()=>{if(l.length>0&&g.isochrones){const n=setTimeout(()=>{f()},1e3);return()=>clearTimeout(n)}},[l,w,g.isochrones]),e.jsxs(c,{sx:{height:"100%",position:"relative"},children:[e.jsx(c,{ref:S,sx:{height:"100%",width:"100%",borderRadius:1,overflow:"hidden",cursor:a?"crosshair":"default"}}),e.jsxs(G,{elevation:2,sx:{position:"absolute",top:16,right:16,p:1,display:"flex",flexDirection:"column",gap:1,zIndex:1e3},children:[e.jsx(C,{title:"Add Station",children:e.jsx(_,{color:a?"primary":"default",onClick:I,sx:{bgcolor:a?"primary.main":"transparent",color:a?"white":"inherit","&:hover":{bgcolor:a?"primary.dark":"action.hover"}},children:e.jsx(ae,{})})}),e.jsx(C,{title:"Center on Location",children:e.jsx(_,{children:e.jsx(_e,{})})}),e.jsx(C,{title:"Layer Settings",children:e.jsx(_,{children:e.jsx(ge,{})})})]}),e.jsxs(c,{sx:{position:"absolute",bottom:16,left:16,zIndex:1e3},children:[e.jsx(M,{label:j.name,size:"small",color:"primary",sx:{mr:1}}),A==="analyzing"&&e.jsx(M,{label:"Analyzing Coverage...",size:"small",color:"warning"}),A==="complete"&&e.jsx(M,{label:"Analysis Complete",size:"small",color:"success"}),A==="error"&&e.jsx(M,{label:"Analysis Error",size:"small",color:"error"})]}),a&&e.jsx($,{severity:"info",sx:{position:"absolute",top:16,left:16,right:80,zIndex:1e3},children:"Click on the map to place a new fire station"}),l.length===0&&u&&e.jsxs(c,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",zIndex:1e3,bgcolor:"rgba(255, 255, 255, 0.9)",p:3,borderRadius:2,boxShadow:2},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"No Stations Loaded"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Upload station data or use the + button to add stations manually"})]})]})},Te=({stations:l,coverageStandard:E,onStationDataImport:w,onCoverageStandardChange:B,onStationAdd:P,onStationEdit:N,onStationDelete:S})=>{const[i,x]=r.useState({station_id:"",station_name:"",latitude:"",longitude:"",station_type:"engine"}),u=r.useCallback(()=>{if(!i.station_id||!i.station_name||!i.latitude||!i.longitude){alert("Please fill in all required fields");return}const a={...i,latitude:parseFloat(i.latitude),longitude:parseFloat(i.longitude),operational_status:"active"};P(a),x({station_id:"",station_name:"",latitude:"",longitude:"",station_type:"engine"})},[i,P]),z=r.useCallback(a=>{var F;const d=(F=a.target.files)==null?void 0:F[0];if(!d)return;console.log("ðŸ“ Processing uploaded file:",d.name,"Size:",d.size,"bytes");const g=new FileReader;g.onload=A=>{var y;try{const j=((y=A.target)==null?void 0:y.result).split(`
`).filter(f=>f.trim());if(j.length<2){alert("CSV file appears to be empty or invalid");return}const L=f=>{const b=[];let p="",m=!1;for(let I=0;I<f.length;I++){const n=f[I];n==='"'?m=!m:n===","&&!m?(b.push(p.trim()),p=""):p+=n}return b.push(p.trim()),b},T=L(j[0]);console.log("ðŸ“Š CSV Headers:",T);const k=[];for(let f=1;f<j.length;f++){const b=L(j[f]);if(b.length!==T.length){console.warn(`Row ${f} has ${b.length} values but ${T.length} headers. Skipping.`);continue}const p={};T.forEach((m,I)=>{const n=b[I];m==="latitude"||m==="longitude"?p[m]=parseFloat(n):m==="apparatus_count"||m==="staffing_level"?p[m]=parseInt(n)||0:p[m]=n}),p.station_id&&p.station_name&&!isNaN(p.latitude)&&!isNaN(p.longitude)?k.push(p):console.warn(`Row ${f} missing required fields:`,p)}if(console.log("âœ… Successfully parsed",k.length,"stations from CSV"),k.length===0){alert("No valid stations found in CSV file. Please check the format.");return}w(k),a.target.value=""}catch(D){console.error("âŒ Error parsing CSV file:",D),alert("Error parsing CSV file. Please check the format and try again.")}},g.readAsText(d)},[w]);return e.jsxs(c,{sx:{width:"100%",height:"100%",overflow:"auto"},children:[e.jsxs(c,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Station Coverage Analysis"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Configure stations and analysis parameters"})]}),e.jsxs(W,{defaultExpanded:!0,children:[e.jsx(Y,{expandIcon:e.jsx(H,{}),children:e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(Q,{color:"primary"}),e.jsx(s,{variant:"subtitle1",children:"Station Data"}),e.jsx(M,{label:`${l.length} stations`,size:"small"})]})}),e.jsxs(q,{children:[e.jsxs(c,{sx:{mb:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Import Station Data"}),e.jsxs(R,{variant:"outlined",component:"label",startIcon:e.jsx(se,{}),fullWidth:!0,sx:{mb:2},children:["Upload CSV/Excel",e.jsx("input",{type:"file",hidden:!0,accept:".csv,.xlsx,.xls",onChange:z})]}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Required fields: Station ID, Name, Latitude, Longitude"})]}),e.jsx(le,{sx:{my:2}}),e.jsxs(c,{children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Add Station Manually"}),e.jsx(O,{fullWidth:!0,label:"Station ID",value:i.station_id,onChange:a=>x(d=>({...d,station_id:a.target.value})),size:"small",sx:{mb:1}}),e.jsx(O,{fullWidth:!0,label:"Station Name",value:i.station_name,onChange:a=>x(d=>({...d,station_name:a.target.value})),size:"small",sx:{mb:1}}),e.jsxs(c,{sx:{display:"flex",gap:1,mb:1},children:[e.jsx(O,{label:"Latitude",value:i.latitude,onChange:a=>x(d=>({...d,latitude:a.target.value})),size:"small",type:"number",sx:{flex:1}}),e.jsx(O,{label:"Longitude",value:i.longitude,onChange:a=>x(d=>({...d,longitude:a.target.value})),size:"small",type:"number",sx:{flex:1}})]}),e.jsxs(O,{fullWidth:!0,select:!0,label:"Station Type",value:i.station_type,onChange:a=>x(d=>({...d,station_type:a.target.value})),size:"small",sx:{mb:2},SelectProps:{native:!0},children:[e.jsx("option",{value:"engine",children:"Engine Company"}),e.jsx("option",{value:"ladder",children:"Ladder Company"}),e.jsx("option",{value:"rescue",children:"Rescue Company"}),e.jsx("option",{value:"hazmat",children:"Hazmat Unit"}),e.jsx("option",{value:"ems",children:"EMS Station"})]}),e.jsx(R,{fullWidth:!0,variant:"contained",onClick:u,startIcon:e.jsx(ae,{}),children:"Add Station"})]}),l.length>0&&e.jsxs(c,{sx:{mt:2},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Current Stations"}),e.jsx(ce,{dense:!0,children:l.map((a,d)=>e.jsxs(de,{secondaryAction:e.jsxs(c,{children:[e.jsx(C,{title:"Edit Station",children:e.jsx(_,{size:"small",onClick:()=>N(a),children:e.jsx(ie,{fontSize:"small"})})}),e.jsx(C,{title:"Delete Station",children:e.jsx(_,{size:"small",onClick:()=>S(a.station_id),children:e.jsx(fe,{fontSize:"small"})})})]}),children:[e.jsx(pe,{children:e.jsx(Q,{fontSize:"small"})}),e.jsx(ue,{primary:a.station_name,secondary:`${a.station_id} â€¢ ${a.station_type}`})]},a.station_id||d))})]})]})]}),e.jsxs(W,{defaultExpanded:!0,children:[e.jsx(Y,{expandIcon:e.jsx(H,{}),children:e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(je,{color:"primary"}),e.jsx(s,{variant:"subtitle1",children:"NFPA Standards"}),e.jsx(M,{label:E.toUpperCase(),size:"small",color:"primary"})]})}),e.jsxs(q,{children:[e.jsxs(he,{component:"fieldset",children:[e.jsx(me,{component:"legend",children:"Response Time Standard"}),e.jsxs(ve,{value:E,onChange:a=>B(a.target.value),children:[e.jsx(K,{value:"nfpa1710",control:e.jsx(te,{}),label:e.jsxs(c,{children:[e.jsx(s,{variant:"body2",children:"NFPA 1710 - Career Departments"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"4-minute travel time â€¢ 90% coverage requirement"})]})}),e.jsx(K,{value:"nfpa1720",control:e.jsx(te,{}),label:e.jsxs(c,{children:[e.jsx(s,{variant:"body2",children:"NFPA 1720 - Volunteer Departments"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"8-minute travel time â€¢ 80% coverage requirement"})]})})]})]}),e.jsx($,{severity:"info",sx:{mt:2},children:e.jsx(s,{variant:"body2",children:"NFPA standards define response time requirements for fire departments. Career departments (1710) have stricter requirements than volunteer departments (1720)."})})]})]}),e.jsxs(W,{children:[e.jsx(Y,{expandIcon:e.jsx(H,{}),children:e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:1},children:[e.jsx(ne,{color:"primary"}),e.jsx(s,{variant:"subtitle1",children:"Analysis Configuration"})]})}),e.jsxs(q,{children:[e.jsx(s,{variant:"body2",paragraph:!0,children:"Configure analysis parameters and jurisdiction boundaries."}),e.jsx(R,{variant:"outlined",fullWidth:!0,sx:{mb:1},children:"Draw Jurisdiction Boundary"}),e.jsx(R,{variant:"outlined",fullWidth:!0,sx:{mb:1},children:"Upload Boundary File"}),e.jsx(s,{variant:"caption",color:"text.secondary",children:"Define your service area to calculate accurate coverage metrics"})]})]})]})},Ye=({mode:l="analysis"})=>{const[E,w]=r.useState(!0),[B,P]=r.useState("coverage"),[N,S]=r.useState(!1),[i,x]=r.useState(!1),[u,z]=r.useState([]),[a,d]=r.useState(null),[g,F]=r.useState("nfpa1710"),[A,y]=r.useState(null),D=400,j=r.useCallback(t=>{console.log("ðŸš’ Importing station data:",t.length,"stations"),z(t),y(null)},[]),L=r.useCallback(t=>{console.log("âž• Adding new station:",t),z(o=>[...o,t])},[]),T=r.useCallback(t=>{console.log("ðŸŽ¯ Station selected:",t.station_name)},[]),k=r.useCallback(t=>{console.log("ðŸ“Š Analysis updated:",t),y(t)},[]),f=r.useCallback(t=>{console.log("âœï¸ Edit station:",t.station_id)},[]),b=r.useCallback(t=>{console.log("ðŸ—‘ï¸ Delete station:",t),z(o=>o.filter(v=>v.station_id!==t))},[]),p=r.useCallback(t=>{console.log("ðŸ“ Coverage standard changed to:",t),F(t),y(null)},[]),m=r.useCallback(()=>{if(console.log("ðŸ“Š Running coverage analysis with NFPA standard:",g),u.length===0){console.warn("No stations available for analysis");return}const t={totalStations:u.length,coverageStandard:g,analysisDate:new Date().toISOString(),coverageMetrics:{populationCovered:85,areaCovered:78,nfpaCompliance:82},identifiedGaps:3,recommendedStations:2};y(t),console.log("âœ… Coverage analysis complete:",t)},[u,g]),I=r.useCallback(()=>{console.log("ðŸ“‹ Opening station coverage report generator"),S(!0)},[]),n=r.useCallback(()=>{w(t=>!t)},[]);return e.jsxs(c,{sx:{display:"flex",height:"100vh",overflow:"hidden"},children:[e.jsx(ye,{variant:"persistent",anchor:"left",open:E,sx:{width:E?D:0,flexShrink:0,"& .MuiDrawer-paper":{width:D,boxSizing:"border-box"}},children:e.jsx(Te,{stations:u,coverageStandard:g,onStationDataImport:j,onCoverageStandardChange:p,onStationAdd:L,onStationEdit:f,onStationDelete:b})}),e.jsxs(c,{component:"main",sx:{flexGrow:1,display:"flex",flexDirection:"column",overflow:"hidden",transition:"margin 0.3s ease-in-out",marginLeft:E?`${D}px`:"0px"},children:[e.jsx(G,{elevation:1,sx:{borderRadius:0,borderBottom:1,borderColor:"divider"},children:e.jsxs(xe,{sx:{justifyContent:"space-between",px:3},children:[e.jsxs(c,{sx:{display:"flex",alignItems:"center",gap:2},children:[e.jsx(Q,{color:"primary",sx:{fontSize:28}}),e.jsxs(c,{children:[e.jsx(s,{variant:"h5",component:"h1",sx:{fontWeight:600,color:"primary.main"},children:"Station Coverage Optimizer"}),e.jsx(s,{variant:"body2",color:"text.secondary",children:"Enterprise coverage analysis with NFPA compliance assessment"})]}),g&&e.jsx(M,{label:g.toUpperCase(),size:"small",color:"primary",variant:"outlined"})]}),e.jsxs(c,{sx:{display:"flex",gap:1},children:[e.jsx(C,{title:"Toggle Sidebar",children:e.jsx(_,{onClick:n,children:e.jsx(Ae,{})})}),e.jsx(C,{title:"Run Coverage Analysis",children:e.jsx(R,{variant:"contained",color:"primary",startIcon:e.jsx(Ce,{}),onClick:m,disabled:u.length===0,children:"Analyze Coverage"})}),e.jsx(C,{title:"Generate Professional Report",children:e.jsx(_,{color:"primary",onClick:I,disabled:!A,sx:{bgcolor:"primary.main",color:"white","&:hover":{bgcolor:"primary.dark"},"&:disabled":{bgcolor:"grey.300",color:"grey.500"}},children:e.jsx(be,{})})}),e.jsx(C,{title:"Settings",children:e.jsx(_,{onClick:()=>x(!0),children:e.jsx(Se,{})})}),e.jsx(C,{title:"About Station Coverage Optimizer",children:e.jsx(_,{children:e.jsx(Ie,{})})})]})]})}),e.jsx(c,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:e.jsx(c,{sx:{flexGrow:1,p:2,overflow:"auto"},children:u.length===0?e.jsxs(G,{sx:{p:4,textAlign:"center",mt:4},children:[e.jsx(ne,{sx:{fontSize:64,color:"text.secondary",mb:2}}),e.jsx(s,{variant:"h5",gutterBottom:!0,children:"Welcome to Station Coverage Optimizer"}),e.jsx(s,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Upload station data to begin coverage analysis and optimization."}),e.jsxs($,{severity:"info",sx:{mt:2,textAlign:"left"},children:[e.jsx(s,{variant:"subtitle2",gutterBottom:!0,children:"Getting Started:"}),e.jsxs(s,{variant:"body2",component:"div",children:["1. Use the sidebar to upload station data (CSV, Excel) or import from Data Formatter",e.jsx("br",{}),"2. Define your jurisdiction boundary (draw or upload)",e.jsx("br",{}),"3. Select NFPA standard (1710 for career, 1720 for volunteer departments)",e.jsx("br",{}),"4. Run coverage analysis to identify gaps and optimization opportunities"]})]})]}):e.jsxs(G,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[e.jsxs(c,{sx:{p:2,borderBottom:1,borderColor:"divider"},children:[e.jsx(s,{variant:"h6",gutterBottom:!0,children:"Interactive Coverage Map"}),e.jsxs(s,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:[u.length," stations loaded â€¢ ",g.toUpperCase()," standards"]}),A&&e.jsxs($,{severity:"success",sx:{mt:1},children:["Coverage analysis: ",A.coverageMetrics.nfpaCompliance.toFixed(1),"% NFPA compliance â€¢",A.identifiedGaps," gaps identified â€¢",A.recommendedStations," stations recommended"]})]}),e.jsx(c,{sx:{flexGrow:1,minHeight:0},children:e.jsx(we,{stations:u,jurisdictionBoundary:a,coverageStandard:g,onStationAdd:L,onStationSelect:T,onAnalysisUpdate:k})})]})})})]}),e.jsxs(Z,{open:i,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[e.jsx(J,{children:"Station Coverage Settings"}),e.jsx(X,{children:e.jsx(s,{variant:"body1",children:"Settings panel for NFPA standards, travel speeds, response time thresholds, etc."})}),e.jsx(ee,{children:e.jsx(R,{onClick:()=>x(!1),children:"Close"})})]}),e.jsxs(Z,{open:N,onClose:()=>S(!1),maxWidth:"lg",fullWidth:!0,children:[e.jsx(J,{children:"Generate Coverage Report"}),e.jsx(X,{children:e.jsx(s,{variant:"body1",children:"Professional report generator for station coverage analysis and recommendations."})}),e.jsxs(ee,{children:[e.jsx(R,{onClick:()=>S(!1),children:"Close"}),e.jsx(R,{variant:"contained",children:"Generate PDF"})]})]})]})};export{Ye as default};
