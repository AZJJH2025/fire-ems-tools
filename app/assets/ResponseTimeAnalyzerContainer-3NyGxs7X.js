var Xa=Object.defineProperty;var Ka=(e,n,t)=>n in e?Xa(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var U=(e,n,t)=>Ka(e,typeof n!="symbol"?n+"":n,t);import{i as Za,E as Ja,F as eo,T as to,R as Pr,H as v,j as a,a as Le,g as Ne,r as f,u as no,c as He,s as K,d as yn,b as Ie,m as us,l as De,B as A,k as xt,I as ro,J as so,K as yt,L as kt,M as pt,h as Wt,N as ao,O as En,P as oo,Q as An,S as Fn,C as hs,_ as Sr,U as io,V as lo,W as co,X as uo,Y as ho}from"./index-BYEEFh-2.js";import{L as Rt,F as mo,a as fo,u as ms,v as po,C as er}from"./leaflet-gg4WJcpF.js";import{_ as go,W as xo,X as se,Y as yo,c as Ye,d as Mr,Z as fs,T as P,G,D as Ht,P as Ee,s as on,A as Nt,F as ps,I as gs,i as bo,M as Vn,C as Qe,j as xs,k as ys,l as wo,z as kr,t as St,H as vo,$ as Y,f as tt,a0 as Pn,a1 as To,a2 as Do,u as we,a3 as Ln,a4 as Po,e as Yt,g as Sn,B as ze,q as So,K as qn,L as Gn,a as bs,r as Mo,a5 as bn,a6 as Bt,a7 as ws,m as ko,a8 as Cr,n as Co,w as jo,x as Io,E as Oo,y as Ro,v as tr,N as Eo,O as Ao,U as Fo,V as Vo,o as Lo,p as Gt}from"./Map-Dt_pRVU4.js";import{A as No,T as vs,a as Ts,b as Ds,c as dt,d as X,e as Ps,h as nr,i as rr,L as Ss,C as jr,g as Bo,f as $o,S as zo,F as Ms,D as _o,P as Wo,B as Ho,j as Yo}from"./AccessTime-CXWKauiO.js";var Nn={exports:{}},Bn,Ir;function Uo(){if(Ir)return Bn;Ir=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Bn=e,Bn}var $n,Or;function qo(){if(Or)return $n;Or=1;var e=Uo();function n(){}function t(){}return t.resetWarningCache=n,$n=function(){function r(i,c,l,d,u,x){if(x!==e){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:n};return o.PropTypes=o,o},$n}var Rr;function Go(){return Rr||(Rr=1,Nn.exports=qo()()),Nn.exports}var Qo=Go();const C=Za(Qo),ks=C.oneOfType([C.func,C.object]);function Oe({props:e,name:n}){return Ja({props:e,name:n,defaultTheme:eo,themeId:to})}function Xo(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}function Ko(e,n){e.classList?e.classList.add(n):Xo(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Er(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Zo(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Er(e.className,n):e.setAttribute("class",Er(e.className&&e.className.baseVal||"",n))}var Jo=function(n,t){return n&&t&&t.split(" ").forEach(function(r){return Ko(n,r)})},zn=function(n,t){return n&&t&&t.split(" ").forEach(function(r){return Zo(n,r)})},sr=function(e){go(n,e);function n(){for(var r,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1];r.removeClasses(u,"exit"),r.addClass(u,x?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,l)},r.onEntering=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1],b=x?"appear":"enter";r.addClass(u,b,"active"),r.props.onEntering&&r.props.onEntering(c,l)},r.onEntered=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1],b=x?"appear":"enter";r.removeClasses(u,b),r.addClass(u,b,"done"),r.props.onEntered&&r.props.onEntered(c,l)},r.onExit=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var l=r.resolveArguments(c),d=l[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,l){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,l]},r.getClassNames=function(c){var l=r.props.classNames,d=typeof l=="string",u=d&&l?l+"-":"",x=d?""+u+c:l[c],b=d?x+"-active":l[c+"Active"],m=d?x+"-done":l[c+"Done"];return{baseClassName:x,activeClassName:b,doneClassName:m}},r}var t=n.prototype;return t.addClass=function(s,o,i){var c=this.getClassNames(o)[i+"ClassName"],l=this.getClassNames("enter"),d=l.doneClassName;o==="appear"&&i==="done"&&d&&(c+=" "+d),i==="active"&&s&&xo(s),c&&(this.appliedClasses[o][i]=c,Jo(s,c))},t.removeClasses=function(s,o){var i=this.appliedClasses[o],c=i.base,l=i.active,d=i.done;this.appliedClasses[o]={},c&&zn(s,c),l&&zn(s,l),d&&zn(s,d)},t.render=function(){var s=this.props;s.classNames;var o=se(s,["classNames"]);return Pr.createElement(yo,v({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(Pr.Component);sr.defaultProps={classNames:""};sr.propTypes={};const ei=Ye(a.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function ti(e){return Ne("MuiTableSortLabel",e)}const _n=Le("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),ni=e=>{const{classes:n,direction:t,active:r}=e,s={root:["root",r&&"active",`direction${yn(t)}`],icon:["icon",`iconDirection${yn(t)}`]};return Ie(s,ti,n)},ri=K(fs,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.active&&n.active]}})(us(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${_n.icon}`]:{opacity:.5}},[`&.${_n.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${_n.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),si=K("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.icon,n[`iconDirection${yn(t.direction)}`]]}})(us(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),ai=f.forwardRef(function(n,t){const r=no({props:n,name:"MuiTableSortLabel"}),{active:s=!1,children:o,className:i,direction:c="asc",hideSortIcon:l=!1,IconComponent:d=ei,slots:u={},slotProps:x={},...b}=r,m={...r,active:s,direction:c,hideSortIcon:l,IconComponent:d},h=ni(m),D={slots:u,slotProps:x},[p,g]=Mr("root",{elementType:ri,externalForwardedProps:D,ownerState:m,className:He(h.root,i),ref:t}),[w,M]=Mr("icon",{elementType:si,externalForwardedProps:D,ownerState:m,className:h.icon});return a.jsxs(p,{disableRipple:!0,component:"span",...g,...b,children:[o,l&&!s?null:a.jsx(w,{as:d,...M})]})}),Et=(e,n)=>{if(!e)return null;try{let t=e;if(t.includes("T")){const s=t.split("T");if(s[0].includes("-")){const o=s[0].split("-");if(o.length>=2){if(s.length>1&&s[1].includes("/")){const i=s[1].split(" ")[0];i.split("/").length===3&&(t=i)}else if(o[0].includes(" ")){const c=o[0].split(" ")[0],l=o[1].split("-");if(l.length===2){const d=l[0].padStart(2,"0"),u=l[1].padStart(2,"0");t=`${c}-${d}-${u}`}}}}else s.length>1&&s[0].includes("/")&&(t=s[0])}if(t.length<=8&&t.includes(":")&&!t.includes("-")&&!t.includes("/")){if(!n)return console.warn("Base date is required for time-only strings:",t),null;const s=t.split(":").map(Number),o=s[0]||0,i=s[1]||0,c=s[2]||0;let l;try{if(l=new Date(n),isNaN(l.getTime()))return console.warn("Invalid base date:",n),null}catch(d){return console.warn("Error parsing base date:",n,d),null}return l.setHours(o,i,c),l}if(t.includes("/")){const s=t.split("/");if(s.length===3){let o=s[2];o.includes(" ")&&(o=o.split(" ")[0]);const i=s[0].trim(),c=s[1].trim(),l=parseInt(o,10),d=parseInt(i,10),u=parseInt(c,10);if(!isNaN(l)&&!isNaN(d)&&!isNaN(u)){const x=new Date(l,d-1,u);if(s[2].includes(" ")){const b=s[2].split(" ")[1];if(b&&b.includes(":")){const m=b.split(":").map(Number);x.setHours(m[0]||0,m[1]||0,m[2]||0)}}if(!isNaN(x.getTime()))return x}}}if(t.includes(" ")&&t.includes("-")){const[s,o]=t.split(" "),i=new Date(s);if(!isNaN(i.getTime())&&o&&o.includes(":")){const c=o.split(":").map(Number);return i.setHours(c[0]||0,c[1]||0,c[2]||0),i}}const r=new Date(t);return isNaN(r.getTime())?(console.warn(`Could not parse date string: ${e} (processed as: ${t})`),null):r}catch(t){return console.error(`Error parsing date: ${e}`,t),null}},et=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};try{const t=e.incidentDate;if(!t)return console.warn("No incident date available for parsing time-only strings"),n;console.log("=== Processing incident:",e.incidentId,"==="),console.log("Base Date:",t),console.log("Raw incident data:",{incidentTime:e.incidentTime,dispatchTime:e.dispatchTime,enRouteTime:e.enRouteTime,arrivalTime:e.arrivalTime,clearTime:e.clearTime});let r=null;console.log("=== INCIDENT TIME PROCESSING DEBUG ==="),console.log(`incident.incidentTime value: "${e.incidentTime}" (type: ${typeof e.incidentTime})`),console.log(`incident.incidentTime is null: ${e.incidentTime===null}`),console.log(`incident.incidentTime is undefined: ${e.incidentTime===void 0}`),console.log(`incident.incidentTime is empty string: ${e.incidentTime===""}`),e.incidentTime&&e.incidentTime!==""&&e.incidentTime!==null&&e.incidentTime!==void 0?(r=Et(e.incidentTime,t),console.log(`✓ Parsed incidentTime: "${e.incidentTime}" -> ${(r==null?void 0:r.toISOString())||"null"}`)):(r=Et(t,t),console.log(`⚠️ Using incidentDate as fallback (incidentTime was missing/empty): "${t}" -> ${(r==null?void 0:r.toISOString())||"null"}`)),console.log("=== END INCIDENT TIME PROCESSING DEBUG ===");const s=Et(e.dispatchTime,t);console.log(`Parsed dispatchTime: ${e.dispatchTime} -> ${(s==null?void 0:s.toISOString())||"null"}`);const o=Et(e.enRouteTime,t);console.log(`Parsed enRouteTime: ${e.enRouteTime} -> ${(o==null?void 0:o.toISOString())||"null"}`);const i=Et(e.arrivalTime,t);console.log(`Parsed arrivalTime: ${e.arrivalTime} -> ${(i==null?void 0:i.toISOString())||"null"}`);const c=Et(e.clearTime,t);if(console.log(`Parsed clearTime: ${e.clearTime} -> ${(c==null?void 0:c.toISOString())||"null"}`),r&&s){const l=(s.getTime()-r.getTime())/1e3;l>0&&l<86400?n.dispatchTime=l:console.warn(`Invalid dispatch time interval: ${l} seconds`)}if(s&&o){const l=(o.getTime()-s.getTime())/1e3;l>0&&l<86400?n.turnoutTime=l:console.warn(`Invalid turnout time interval: ${l} seconds`)}if(o&&i){const l=(i.getTime()-o.getTime())/1e3;l>0&&l<86400?n.travelTime=l:console.warn(`Invalid travel time interval: ${l} seconds`)}if(r&&i){const l=(i.getTime()-r.getTime())/1e3;l>0&&l<86400?n.totalResponseTime=l:console.warn(`Invalid total response time interval: ${l} seconds`)}if(i&&c){const l=(c.getTime()-i.getTime())/1e3;l>0&&l<86400*3?n.sceneTime=l:console.warn(`Invalid scene time interval: ${l} seconds`)}if(r&&c){const l=(c.getTime()-r.getTime())/1e3;l>0&&l<86400*3?n.totalIncidentTime=l:console.warn(`Invalid total incident time interval: ${l} seconds`)}}catch(t){console.error("Error calculating metrics for incident",e.incidentId,t)}return console.log("Calculated metrics for incident",e.incidentId,n),n},oi=e=>{if(console.log(`Calculating statistics for ${e.length} incidents`),!e||!e.length)return console.warn("No incidents provided for statistics calculation"),mn();try{const n=e.filter(s=>!s.incidentId||!s.incidentDate?(console.warn(`Skipping incident missing required fields: ${JSON.stringify(s)}`),!1):!0);if(n.length===0)return console.warn("No valid incidents found for statistics calculation"),mn();n.length<e.length&&console.warn(`Filtered out ${e.length-n.length} invalid incidents`);const r=n.map(et).filter(s=>s.dispatchTime!==null||s.turnoutTime!==null||s.travelTime!==null||s.totalResponseTime!==null);return r.length===0?(console.warn("No valid metrics could be calculated"),mn()):(console.log(`Calculated valid metrics for ${r.length} out of ${n.length} incidents`),{mean:Cs(r),median:ii(r),ninetiethPercentile:li(r,90),standardDeviation:ci(r),min:di(r),max:ui(r),count:r.length})}catch(n){return console.error("Error calculating response time statistics:",n),mn()}},mn=()=>{const e={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return{mean:{...e},median:{...e},ninetiethPercentile:{...e},standardDeviation:{...e},min:{...e},max:{...e},count:0}},Cs=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);if(r.length){const s=r.reduce((o,i)=>o+i,0);n[t]=s/r.length}}),n},ii=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null).sort((s,o)=>s-o);if(r.length){const s=Math.floor(r.length/2);n[t]=r.length%2===0?(r[s-1]+r[s])/2:r[s]}}),n},li=(e,n)=>{const t={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(t).forEach(r=>{const s=e.map(o=>o[r]).filter(o=>o!==null).sort((o,i)=>o-i);if(s.length){const o=Math.ceil(n/100*s.length)-1;t[r]=s[Math.max(0,Math.min(o,s.length-1))]}}),t},ci=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null},t=Cs(e);return Object.keys(n).forEach(r=>{const s=t[r];if(s===null)return;const o=e.map(i=>i[r]).filter(i=>i!==null);if(o.length){const c=o.map(l=>Math.pow(l-s,2)).reduce((l,d)=>l+d,0)/o.length;n[r]=Math.sqrt(c)}}),n},di=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);r.length&&(n[t]=Math.min(...r))}),n},ui=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);r.length&&(n[t]=Math.max(...r))}),n},z=(e,n="full")=>{if(e===null)return"N/A";if(n==="seconds")return`${e.toFixed(1)}s`;if(n==="minutes")return`${(e/60).toFixed(1)} min`;const t=Math.floor(e/60),r=Math.round(e%60);return t===0?`${r} sec`:`${t} min ${r} sec`},hi=Ye(a.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"})),mi=Ye(a.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"})),fi=Ye(a.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"})),pi=Ye([a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),gi=Ye(a.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),At=({title:e,value:n,icon:t,secondaryValue:r,secondaryLabel:s,color:o="#1976d2"})=>a.jsx(nr,{variant:"outlined",children:a.jsx(rr,{children:a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:`${o}20`,color:o,borderRadius:"50%",p:1,mr:2,width:40,height:40},children:t}),a.jsxs(A,{children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:e}),a.jsx(P,{variant:"h5",component:"div",children:n}),r&&a.jsxs(P,{variant:"caption",color:"text.secondary",children:[s,": ",r]})]})]})})}),js=()=>{const{responseTimeStats:e}=De(t=>t.analyzer.calculatedMetrics),{incidents:n}=De(t=>t.analyzer.rawData);return!e||!n.length?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Statistics"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No data available for statistical analysis. Please load incident data."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Statistics"}),a.jsxs(P,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:["Based on ",n.length," incidents"]}),a.jsxs(G,{container:!0,spacing:3,sx:{mb:4},children:[a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Total Response Time",value:z(e.mean.totalResponseTime),icon:a.jsx(No,{}),secondaryValue:z(e.ninetiethPercentile.totalResponseTime),secondaryLabel:"90th percentile",color:"#1976d2"})}),a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Dispatch Time",value:z(e.mean.dispatchTime),icon:a.jsx(hi,{}),secondaryValue:z(e.ninetiethPercentile.dispatchTime),secondaryLabel:"90th percentile",color:"#2e7d32"})}),a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Turnout Time",value:z(e.mean.turnoutTime),icon:a.jsx(fi,{}),secondaryValue:z(e.ninetiethPercentile.turnoutTime),secondaryLabel:"90th percentile",color:"#ed6c02"})}),a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Travel Time",value:z(e.mean.travelTime),icon:a.jsx(mi,{}),secondaryValue:z(e.ninetiethPercentile.travelTime),secondaryLabel:"90th percentile",color:"#9c27b0"})}),a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Scene Time",value:z(e.mean.sceneTime),icon:a.jsx(pi,{}),secondaryValue:z(e.median.sceneTime),secondaryLabel:"median",color:"#d32f2f"})}),a.jsx(G,{size:{xs:12,sm:6,md:4},children:a.jsx(At,{title:"Average Total Incident Time",value:z(e.mean.totalIncidentTime),icon:a.jsx(gi,{}),secondaryValue:z(e.median.totalIncidentTime),secondaryLabel:"median",color:"#0288d1"})})]}),a.jsx(Ht,{sx:{mb:4}}),a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Detailed Response Time Statistics"}),a.jsx(vs,{component:Ee,variant:"outlined",sx:{mb:4},children:a.jsxs(Ts,{size:"small",children:[a.jsx(Ds,{children:a.jsxs(dt,{children:[a.jsx(X,{children:"Metric"}),a.jsx(X,{align:"right",children:"Mean"}),a.jsx(X,{align:"right",children:"Median"}),a.jsx(X,{align:"right",children:"90th Percentile"}),a.jsx(X,{align:"right",children:"Min"}),a.jsx(X,{align:"right",children:"Max"}),a.jsx(X,{align:"right",children:"Std Dev"})]})}),a.jsxs(Ps,{children:[a.jsxs(dt,{children:[a.jsx(X,{children:"Dispatch Time"}),a.jsx(X,{align:"right",children:z(e.mean.dispatchTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.median.dispatchTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.ninetiethPercentile.dispatchTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.min.dispatchTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.max.dispatchTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.standardDeviation.dispatchTime,"seconds")})]}),a.jsxs(dt,{children:[a.jsx(X,{children:"Turnout Time"}),a.jsx(X,{align:"right",children:z(e.mean.turnoutTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.median.turnoutTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.ninetiethPercentile.turnoutTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.min.turnoutTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.max.turnoutTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.standardDeviation.turnoutTime,"seconds")})]}),a.jsxs(dt,{children:[a.jsx(X,{children:"Travel Time"}),a.jsx(X,{align:"right",children:z(e.mean.travelTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.median.travelTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.ninetiethPercentile.travelTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.min.travelTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.max.travelTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.standardDeviation.travelTime,"seconds")})]}),a.jsxs(dt,{sx:{bgcolor:"action.hover"},children:[a.jsx(X,{children:a.jsx("strong",{children:"Total Response Time"})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.mean.totalResponseTime,"seconds")})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.median.totalResponseTime,"seconds")})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.ninetiethPercentile.totalResponseTime,"seconds")})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.min.totalResponseTime,"seconds")})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.max.totalResponseTime,"seconds")})}),a.jsx(X,{align:"right",children:a.jsx("strong",{children:z(e.standardDeviation.totalResponseTime,"seconds")})})]}),a.jsxs(dt,{children:[a.jsx(X,{children:"Scene Time"}),a.jsx(X,{align:"right",children:z(e.mean.sceneTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.median.sceneTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.ninetiethPercentile.sceneTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.min.sceneTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.max.sceneTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.standardDeviation.sceneTime,"seconds")})]}),a.jsxs(dt,{children:[a.jsx(X,{children:"Total Incident Time"}),a.jsx(X,{align:"right",children:z(e.mean.totalIncidentTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.median.totalIncidentTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.ninetiethPercentile.totalIncidentTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.min.totalIncidentTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.max.totalIncidentTime,"seconds")}),a.jsx(X,{align:"right",children:z(e.standardDeviation.totalIncidentTime,"seconds")})]})]})]})}),a.jsx(P,{variant:"body2",color:"text.secondary",children:"* All times are shown in seconds for precise comparison."})]})},xi=({count:e,maxCount:n,label:t,color:r,height:s=150,showValue:o=!0})=>{const i=n>0?Math.max(5,e/n*100):0;return a.jsxs(A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[a.jsx(A,{sx:{height:s,display:"flex",alignItems:"flex-end"},children:a.jsx(A,{sx:{width:30,height:`${i}%`,bgcolor:r,borderTopLeftRadius:4,borderTopRightRadius:4,position:"relative","&:hover":{opacity:.8}},children:o&&a.jsx(P,{variant:"caption",sx:{position:"absolute",top:-20,left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap"},children:e})})}),a.jsx(P,{variant:"caption",sx:{mt:1,textAlign:"center"},children:t})]})},Is=()=>{const{incidents:e}=De(i=>i.analyzer.rawData),{responseTimeStats:n}=De(i=>i.analyzer.calculatedMetrics),t=on(),r={fast:t.palette.success.main,average:t.palette.info.main,slow:t.palette.warning.main,verySlow:t.palette.error.main},s=f.useMemo(()=>{if(!e.length||!n)return null;const c=e.map(et).map(x=>x.totalResponseTime).filter(x=>x!==null);if(!c.length)return null;const d=[{min:0,max:240,label:"0-4 min",color:r.fast},{min:240,max:360,label:"4-6 min",color:r.fast},{min:360,max:480,label:"6-8 min",color:r.average},{min:480,max:600,label:"8-10 min",color:r.average},{min:600,max:900,label:"10-15 min",color:r.slow},{min:900,max:1200,label:"15-20 min",color:r.slow},{min:1200,max:1/0,label:"20+ min",color:r.verySlow}].map(x=>{const b=c.filter(m=>m>=x.min&&m<x.max).length;return{...x,count:b}}),u=Math.max(...d.map(x=>x.count));return{buckets:d,maxCount:u,totalCount:c.length}},[e,n,r]),o=f.useMemo(()=>{if(!e.length||!n)return null;const c=e.map(et).map(d=>d.totalResponseTime).filter(d=>d!==null);return c.length?[{max:240,label:"Under 4 min",color:r.fast},{max:480,label:"Under 8 min",color:r.average},{max:600,label:"Under 10 min",color:r.average}].map(d=>{const u=c.filter(b=>b<=d.max).length,x=u/c.length*100;return{...d,count:u,percentage:Math.round(x)}}):null},[e,n,r]);return!s||!o?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Distribution"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for distribution analysis."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Distribution"}),a.jsxs(G,{container:!0,spacing:3,children:[a.jsx(G,{size:{xs:12},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Response Time Frequency"}),a.jsx(A,{sx:{mt:4,display:"flex",justifyContent:"space-between",alignItems:"flex-end",height:200,px:2},children:s.buckets.map((i,c)=>a.jsx(xi,{count:i.count,maxCount:s.maxCount,label:i.label,color:i.color},c))}),a.jsx(A,{sx:{mt:3,textAlign:"center"},children:a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Distribution of ",s.totalCount," incidents by total response time"]})})]})}),a.jsx(G,{size:{xs:12},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Response Time Compliance"}),a.jsx(G,{container:!0,spacing:3,sx:{mt:1},children:o.map((i,c)=>a.jsx(G,{size:{xs:12,sm:4},children:a.jsxs(A,{sx:{bgcolor:"background.default",p:2,borderRadius:1,border:`1px solid ${i.color}`,height:"100%"},children:[a.jsxs(P,{variant:"h5",gutterBottom:!0,sx:{color:i.color,fontWeight:"bold"},children:[i.percentage,"%"]}),a.jsx(P,{variant:"body2",gutterBottom:!0,children:i.label}),a.jsxs(P,{variant:"caption",color:"text.secondary",children:[i.count," of ",s.totalCount," incidents"]})]})},c))}),n&&a.jsx(A,{sx:{mt:3},children:a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Average response time: ",z(n.mean.totalResponseTime)," | Median: ",z(n.median.totalResponseTime)," | 90th percentile: ",z(n.ninetiethPercentile.totalResponseTime)]})})]})})]})]})},Ar={lat:34.0522,lng:-118.2437},Fr=11,yi=({incidents:e,colorBy:n,onIncidentSelect:t})=>{const r=on(),s=f.useRef(null),o=f.useRef(null),i=f.useRef(null),{expandedPanels:c}=De(m=>m.analyzer.ui),l=c.includes("incident-map"),d=f.useMemo(()=>e.map(m=>{const h={...m};return m.Latitude!==void 0&&!m.latitude&&(h.latitude=m.Latitude),m.Longitude!==void 0&&!m.longitude&&(h.longitude=m.Longitude),m.Address!==void 0&&!m.address&&(h.address=m.Address),console.log("HOTFIX: Converted field names for incident:",m.incidentId,"lat:",h.latitude,"lng:",h.longitude),h}),[e]),u=f.useMemo(()=>{if(d.length===0)return Ar;const m=d.filter(p=>p.latitude!=null&&p.longitude!=null);if(m.length===0)return Ar;const h=m.reduce((p,g)=>p+(g.latitude||0),0),D=m.reduce((p,g)=>p+(g.longitude||0),0);return{lat:h/m.length,lng:D/m.length}},[d]),x=f.useMemo(()=>d.filter(m=>m.latitude!=null&&m.longitude!=null).length,[d]),b=m=>{var h,D;if(n==="responseTime"){const g=et(m).totalResponseTime;return g===null?"#9e9e9e":g<4?"#4caf50":g<8?"#2196f3":g<12?"#ff9800":"#f44336"}else if(n==="incidentType"){const p=((h=m.incidentType)==null?void 0:h.toLowerCase())||"other";return p.includes("fire")?"#f44336":p.includes("ems")||p.includes("medical")?"#2196f3":p.includes("rescue")?"#ff9800":"#4caf50"}else if(n==="unit"){const p=((D=m.incidentType)==null?void 0:D.toLowerCase())||"other";return p.includes("engine")?"#f44336":p.includes("ambulance")||p.includes("ems")?"#2196f3":p.includes("truck")?"#ff9800":"#4caf50"}return"#2196f3"};return f.useEffect(()=>{if(!s.current||o.current)return;const m=Rt.map(s.current,{center:[u.lat,u.lng],zoom:Fr,zoomControl:!0,attributionControl:!0});Rt.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:19}).addTo(m);const h=Rt.layerGroup().addTo(m);return o.current=m,i.current=h,()=>{o.current&&(o.current.remove(),o.current=null,i.current=null)}},[]),f.useEffect(()=>{o.current&&x>0&&o.current.setView([u.lat,u.lng],Fr)},[u,x]),f.useEffect(()=>{o.current&&setTimeout(()=>{var m;(m=o.current)==null||m.invalidateSize()},100)},[d]),f.useEffect(()=>{if(!s.current||!o.current)return;const m=new ResizeObserver(()=>{o.current&&setTimeout(()=>{var h;(h=o.current)==null||h.invalidateSize()},150)});return m.observe(s.current),()=>{m.disconnect()}},[]),f.useEffect(()=>{if(!o.current||!i.current)return;i.current.clearLayers();const m=d.filter(h=>h.latitude!=null&&h.longitude!=null);if(m.forEach(h=>{const D=h.latitude,p=h.longitude,g=b(h),w=Rt.divIcon({className:"custom-marker",html:`<div style="
          background-color: ${g};
          width: 20px;
          height: 20px;
          border-radius: 50%;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        "></div>`,iconSize:[20,20],iconAnchor:[10,10]}),M=Rt.marker([D,p],{icon:w}),T=et(h),I=`
        <div style="min-width: 200px;">
          <h4 style="margin: 0 0 8px 0;">Incident ${h.incidentId}</h4>
          <p style="margin: 0 0 4px 0;"><strong>Type:</strong> ${h.incidentType||"Unknown"}</p>
          <p style="margin: 0 0 4px 0;"><strong>Date:</strong> ${h.incidentDate||"Unknown"}</p>
          <p style="margin: 0 0 4px 0;"><strong>Response Time:</strong> ${z(T.totalResponseTime)}</p>
          ${h.address?`<p style="margin: 0 0 4px 0;"><strong>Address:</strong> ${h.address}</p>`:""}
        </div>
      `;M.bindPopup(I),M.on("click",()=>{t&&t(h.incidentId)}),i.current.addLayer(M)}),m.length>0){const h=new Rt.FeatureGroup(i.current.getLayers());o.current.fitBounds(h.getBounds().pad(.1))}},[d,n,t]),x===0?a.jsxs(A,{sx:{position:"relative",height:500,width:"100%",bgcolor:r.palette.grey[100],borderRadius:1,overflow:"hidden",border:`1px solid ${r.palette.divider}`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:3},children:[a.jsx(Ss,{sx:{fontSize:40,color:"text.secondary",mb:2}}),a.jsx(P,{variant:"h6",gutterBottom:!0,children:"No Location Data Available"}),a.jsxs(P,{variant:"body2",color:"text.secondary",align:"center",children:["None of the incidents have valid latitude/longitude coordinates.",a.jsx("br",{}),"Please ensure your data includes location information."]})]}):a.jsxs(A,{sx:{position:"relative",height:l?"calc(100vh - 200px)":"100%",minHeight:{xs:500,sm:600,md:700},width:"100%",maxWidth:"100%",borderRadius:1,overflow:"hidden",border:`1px solid ${r.palette.divider}`,"& .leaflet-container":{width:"100% !important",height:"100% !important"}},children:[a.jsx("div",{ref:s,style:{height:"100%",width:"100%",minWidth:"300px"}}),a.jsxs(A,{sx:{position:"absolute",top:10,right:10,bgcolor:"background.paper",p:1.5,borderRadius:1,boxShadow:2,zIndex:1e3},children:[a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[a.jsx("strong",{children:x})," incidents with location data"]}),a.jsxs(P,{variant:"caption",color:"text.secondary",children:["Center: ",u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}),a.jsxs(A,{sx:{position:"absolute",bottom:10,left:10,bgcolor:"background.paper",p:1.5,borderRadius:1,boxShadow:2,zIndex:1e3},children:[a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[a.jsx("strong",{children:"Color Legend:"}),n==="responseTime"&&" Response Time",n==="incidentType"&&" Incident Type",n==="unit"&&" Responding Unit"]}),a.jsxs(A,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[n==="responseTime"&&a.jsxs(a.Fragment,{children:[a.jsx(Qe,{size:"small",label:"< 4 min",sx:{bgcolor:"#4caf50",color:"white"}}),a.jsx(Qe,{size:"small",label:"4-8 min",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Qe,{size:"small",label:"8-12 min",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Qe,{size:"small",label:"> 12 min",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Qe,{size:"small",label:"No time data",sx:{bgcolor:"#9e9e9e",color:"white"}})]}),n==="incidentType"&&a.jsxs(a.Fragment,{children:[a.jsx(Qe,{size:"small",label:"Fire",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Qe,{size:"small",label:"EMS",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Qe,{size:"small",label:"Rescue",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Qe,{size:"small",label:"Other",sx:{bgcolor:"#4caf50",color:"white"}})]}),n==="unit"&&a.jsxs(a.Fragment,{children:[a.jsx(Qe,{size:"small",label:"Engine",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Qe,{size:"small",label:"Ambulance",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Qe,{size:"small",label:"Truck",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Qe,{size:"small",label:"Other",sx:{bgcolor:"#4caf50",color:"white"}})]})]})]})]})},bi=({incident:e})=>{const n=f.useMemo(()=>et(e),[e]);return a.jsx(nr,{variant:"outlined",sx:{mb:2},children:a.jsxs(rr,{children:[a.jsxs(P,{variant:"h6",gutterBottom:!0,children:["Incident ",e.incidentId]}),a.jsx(A,{sx:{mb:2},children:a.jsxs(G,{container:!0,spacing:2,children:[a.jsxs(G,{xs:12,sm:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Date & Time"}),a.jsxs(P,{variant:"body1",children:[e.incidentDate," ",e.incidentTime?`at ${e.incidentTime}`:""]})]}),a.jsxs(G,{xs:12,sm:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Type"}),a.jsx(P,{variant:"body1",children:e.incidentType||"Unknown"})]})]})}),a.jsx(Ht,{sx:{my:1.5}}),a.jsxs(A,{sx:{display:"flex",gap:2,alignItems:"center",mb:1.5},children:[a.jsx(Ss,{color:"primary"}),a.jsx(P,{children:e.latitude!=null&&e.longitude!=null?`${e.latitude.toFixed(6)}, ${e.longitude.toFixed(6)}`:"No coordinates available"})]}),e.address&&a.jsxs(P,{variant:"body2",sx:{ml:4,mb:1.5},children:[e.address,e.city?`, ${e.city}`:"",e.state?`, ${e.state}`:"",e.zipCode?` ${e.zipCode}`:""]}),a.jsx(Ht,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Times:"}),a.jsxs(G,{container:!0,spacing:1,children:[a.jsxs(G,{xs:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Dispatch:"}),a.jsx(P,{variant:"body1",children:z(n.dispatchTime)})]}),a.jsxs(G,{xs:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Turnout:"}),a.jsx(P,{variant:"body1",children:z(n.turnoutTime)})]}),a.jsxs(G,{xs:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Travel:"}),a.jsx(P,{variant:"body1",children:z(n.travelTime)})]}),a.jsxs(G,{xs:6,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total:"}),a.jsx(P,{variant:"body1",children:z(n.totalResponseTime)})]})]})]})})},wi=({incidents:e})=>{const{responseTimeStats:n}=De(s=>s.analyzer.calculatedMetrics),t=f.useMemo(()=>{const s={};return e.forEach(o=>{const i=o.incidentType||"Unknown";s[i]=(s[i]||0)+1}),s},[e]),r=f.useMemo(()=>Object.entries(t).sort((s,o)=>o[1]-s[1]).slice(0,3),[t]);return n?a.jsx(nr,{variant:"outlined",children:a.jsxs(rr,{children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Regional Statistics"}),a.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Based on ",e.length," incidents"]}),a.jsx(Ht,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Times:"}),a.jsxs(G,{container:!0,spacing:1,sx:{mb:2},children:[a.jsxs(G,{xs:12,sm:4,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Average:"}),a.jsx(P,{variant:"body1",children:z(n.mean.totalResponseTime)})]}),a.jsxs(G,{xs:12,sm:4,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Median:"}),a.jsx(P,{variant:"body1",children:z(n.median.totalResponseTime)})]}),a.jsxs(G,{xs:12,sm:4,children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"90th Percentile:"}),a.jsx(P,{variant:"body1",children:z(n.ninetiethPercentile.totalResponseTime)})]})]}),a.jsx(Ht,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Top Incident Types:"}),a.jsx(A,{sx:{mt:1},children:r.map(([s,o])=>a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[a.jsx(P,{variant:"body2",children:s}),a.jsxs(P,{variant:"body2",children:[o," incidents"]})]},s))})]})}):null},Os=()=>{console.log("INCIDENT_MAP_COMPONENT: Component is rendering!");const e=xt(),{incidents:n}=De(d=>d.analyzer.rawData);console.log("INCIDENT_MAP_COMPONENT: Received",(n==null?void 0:n.length)||0,"incidents");const t=De(d=>d.analyzer.ui.selectedIncidentId),[r,s]=f.useState("responseTime"),o=f.useMemo(()=>t&&n.find(d=>d.incidentId===t)||null,[n,t]),i=f.useMemo(()=>n.some(d=>d.latitude!=null&&d.longitude!=null),[n]),c=d=>{s(d.target.value)},l=d=>{e({type:"analyzer/setSelectedIncident",payload:d})};return n.length?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Incident Map"}),!i&&a.jsx(Nt,{severity:"warning",sx:{mb:3},children:"None of the incidents in your dataset have location coordinates (latitude/longitude). The map visualization requires geographic coordinates to display incidents."}),a.jsxs(A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Showing ",n.length," incidents"]}),a.jsxs(ps,{size:"small",sx:{width:200},children:[a.jsx(gs,{id:"color-by-label",children:"Color By"}),a.jsxs(bo,{labelId:"color-by-label",value:r,label:"Color By",onChange:c,children:[a.jsx(Vn,{value:"responseTime",children:"Response Time"}),a.jsx(Vn,{value:"incidentType",children:"Incident Type"}),a.jsx(Vn,{value:"unit",children:"Responding Unit"})]})]})]}),a.jsxs(G,{container:!0,spacing:3,children:[a.jsx(G,{xs:12,md:o?8:12,sx:{width:"100%"},children:a.jsx(A,{sx:{width:"100%",height:"100%",minHeight:{xs:500,sm:600,md:700},display:"flex",flexDirection:"column"},children:a.jsx(A,{sx:{flex:1,minHeight:0},children:a.jsx(yi,{incidents:n,colorBy:r,onIncidentSelect:l})})})}),o&&a.jsxs(G,{xs:12,md:4,children:[a.jsx(bi,{incident:o}),a.jsx(wi,{incidents:n})]})]})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Incident Map"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for mapping."})]})},Wn=Ye(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),ct=[{id:"incidentId",label:"Incident ID",minWidth:120},{id:"incidentDate",label:"Incident Date",minWidth:110},{id:"incidentTime",label:"Time",minWidth:80},{id:"incidentType",label:"Type",minWidth:120},{id:"dispatchTime",label:"Dispatch Time",align:"right",minWidth:100,format:e=>e===null?"N/A":z(e)},{id:"turnoutTime",label:"Turnout Time",align:"right",minWidth:100,format:e=>e===null?"N/A":z(e)},{id:"travelTime",label:"Travel Time",align:"right",minWidth:100,format:e=>e===null?"N/A":z(e)},{id:"totalResponseTime",label:"Total Response Time",align:"right",minWidth:150,format:e=>e===null?"N/A":z(e)},{id:"respondingUnit",label:"Unit",minWidth:80},{id:"address",label:"Location",minWidth:200}],Rs=()=>{const e=xt(),{incidents:n}=De(y=>y.analyzer.rawData),{responseTimeStats:t}=De(y=>y.analyzer.calculatedMetrics),r=De(y=>y.analyzer.ui.selectedIncidentId),[s,o]=f.useState(0),[i,c]=f.useState(10),[l,d]=f.useState("incidentDate"),[u,x]=f.useState("desc"),[b,m]=f.useState(""),h=f.useMemo(()=>n.map(y=>{const k=et(y);return{...y,...k}}),[n]),D=f.useMemo(()=>{if(!b)return h;const y=b.toLowerCase();return h.filter(k=>k.incidentId&&k.incidentId.toLowerCase().includes(y)||k.incidentType&&k.incidentType.toLowerCase().includes(y)||k.respondingUnit&&k.respondingUnit.toLowerCase().includes(y)||k.address&&k.address.toLowerCase().includes(y))},[h,b]),p=f.useMemo(()=>D.length?[...D].sort((y,k)=>{const R=y[l],V=k[l];return R==null&&V==null?0:R==null?u==="asc"?-1:1:V==null?u==="asc"?1:-1:u==="asc"?R<V?-1:R>V?1:0:V<R?-1:V>R?1:0}):[],[D,l,u]),g=f.useMemo(()=>{const y=s*i;return p.slice(y,y+i)},[p,s,i]),w=y=>{x(l===y&&u==="asc"?"desc":"asc"),d(y)},M=(y,k)=>{o(k)},T=y=>{c(parseInt(y.target.value,10)),o(0)},I=y=>{m(y.target.value),o(0)},j=y=>{e(ro(y===r?null:y))},O=y=>{if(y===null||!t)return"unknown";const k=t.ninetiethPercentile.totalResponseTime||0,R=t.mean.totalResponseTime||0;return y>k?"slow":y<R?"fast":"average"};return a.jsxs(A,{sx:{p:3},children:[a.jsxs(A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(P,{variant:"h6",children:["Incident Data",a.jsxs(P,{variant:"body2",color:"text.secondary",component:"span",sx:{ml:1},children:["(",D.length," incidents)"]})]}),a.jsx(xs,{size:"small",variant:"outlined",placeholder:"Search incidents...",value:b,onChange:I,InputProps:{startAdornment:a.jsx(ys,{position:"start",children:a.jsx(wo,{})})},sx:{width:250}})]}),a.jsxs(Ee,{variant:"outlined",children:[a.jsx(vs,{sx:{maxHeight:600},children:a.jsxs(Ts,{stickyHeader:!0,size:"small",children:[a.jsx(Ds,{children:a.jsxs(dt,{children:[ct.map(y=>a.jsx(X,{align:y.align,style:{minWidth:y.minWidth},sortDirection:l===y.id?u:!1,children:a.jsx(ai,{active:l===y.id,direction:l===y.id?u:"asc",onClick:()=>w(y.id),children:y.label})},y.id)),a.jsx(X,{style:{minWidth:50}})]})}),a.jsxs(Ps,{children:[g.map(y=>{const k=O(y.totalResponseTime);return a.jsxs(dt,{hover:!0,selected:y.incidentId===r,onClick:()=>j(y.incidentId),sx:{cursor:"pointer"},children:[a.jsx(X,{children:y.incidentId}),a.jsx(X,{children:y.incidentDate}),a.jsx(X,{children:y.incidentTime}),a.jsx(X,{children:y.incidentType?a.jsx(Qe,{size:"small",label:y.incidentType,color:y.incidentType.toLowerCase().includes("fire")?"error":y.incidentType.toLowerCase().includes("ems")?"primary":"default",variant:"outlined"}):"Unknown"}),a.jsx(X,{align:"right",children:ct[4].format?ct[4].format(y.dispatchTime):y.dispatchTime||"N/A"}),a.jsx(X,{align:"right",children:ct[5].format?ct[5].format(y.turnoutTime):y.turnoutTime||"N/A"}),a.jsx(X,{align:"right",children:ct[6].format?ct[6].format(y.travelTime):y.travelTime||"N/A"}),a.jsx(X,{align:"right",children:a.jsxs(A,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[k==="fast"&&a.jsx(jr,{fontSize:"small",color:"success",sx:{mr:.5}}),k==="average"&&a.jsx(Wn,{fontSize:"small",color:"primary",sx:{mr:.5}}),k==="slow"&&a.jsx(kr,{fontSize:"small",color:"error",sx:{mr:.5}}),ct[7].format?ct[7].format(y.totalResponseTime):y.totalResponseTime||"N/A"]})}),a.jsx(X,{children:y.respondingUnit||"N/A"}),a.jsx(X,{children:y.address&&y.address!=="N/A"?a.jsxs(A,{children:[a.jsx(P,{variant:"body2",children:y.address}),(y.city||y.state)&&a.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.city,y.city&&y.state?", ":"",y.state]}),y.latitude&&y.longitude&&a.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[y.latitude.toFixed(4),", ",y.longitude.toFixed(4)]})]}):y.latitude&&y.longitude?a.jsxs(P,{variant:"caption",color:"text.secondary",children:[y.latitude.toFixed(4),", ",y.longitude.toFixed(4)]}):a.jsx(P,{variant:"body2",color:"text.secondary",children:"No location data"})}),a.jsx(X,{children:a.jsx(St,{size:"small",onClick:R=>{R.stopPropagation(),j(y.incidentId)},children:a.jsx(Wn,{fontSize:"small"})})})]},y.incidentId)}),g.length===0&&a.jsx(dt,{children:a.jsx(X,{colSpan:ct.length+1,align:"center",children:D.length===0&&b?a.jsxs(P,{variant:"body2",sx:{py:2},children:['No matching incidents found for "',b,'". Try a different search term.']}):n.length===0?a.jsx(P,{variant:"body2",sx:{py:2},children:"No incident data available. Please load incident data."}):a.jsx(P,{variant:"body2",sx:{py:2},children:"No incidents to display."})})})]})]})}),a.jsx(Bo,{rowsPerPageOptions:[10,25,50,100],component:"div",count:D.length,rowsPerPage:i,page:s,onPageChange:M,onRowsPerPageChange:T})]}),a.jsx(A,{sx:{mt:2},children:a.jsxs(P,{variant:"caption",color:"text.secondary",children:["* Response time status indicators:",a.jsx(jr,{fontSize:"small",color:"success",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Fast (below average),",a.jsx(Wn,{fontSize:"small",color:"primary",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Average (within normal range),",a.jsx(kr,{fontSize:"small",color:"error",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Slow (above 90th percentile)"]})})]})},Qt=G,fn=({id:e,title:n,children:t,height:r=300})=>{const s=xt(),{expandedPanels:o}=De(l=>l.analyzer.ui),i=o.includes(e),c=()=>{s(so(e))};return a.jsxs(Ee,{sx:{height:i?"calc(100vh - 160px)":r,display:"flex",flexDirection:"column",transition:"height 0.3s ease",position:i?"fixed":"relative",top:i?"70px":"auto",left:i?"20px":"auto",right:i?"20px":"auto",zIndex:i?1200:"auto",width:i?"calc(100% - 40px)":"100%"},elevation:i?8:1,children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:"1px solid",borderColor:"divider"},children:[a.jsx(P,{variant:"h6",children:n}),a.jsxs(A,{children:[a.jsx(St,{size:"small",sx:{mr:1},children:a.jsx(vo,{fontSize:"small"})}),a.jsx(St,{size:"small",onClick:c,children:i?a.jsx(mo,{fontSize:"small"}):a.jsx(fo,{fontSize:"small"})})]})]}),a.jsx(A,{sx:{p:2,overflow:"auto",flexGrow:1,display:"flex",flexDirection:"column"},children:t})]})},vi=()=>{const{activeDashboardPanels:e}=De(n=>n.analyzer.ui);return a.jsx(A,{sx:{p:2},children:a.jsxs(Qt,{container:!0,spacing:3,children:[e.includes("response-time-summary")&&a.jsx(Qt,{size:{xs:12,md:6},children:a.jsx(fn,{id:"response-time-summary",title:"Response Time Summary",children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(js,{})})})}),e.includes("time-distribution")&&a.jsx(Qt,{size:{xs:12,md:6},children:a.jsx(fn,{id:"time-distribution",title:"Response Time Distribution",children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(Is,{})})})}),e.includes("incident-map")&&a.jsx(Qt,{size:{xs:12},children:a.jsx(fn,{id:"incident-map",title:"Incident Map",height:400,children:a.jsx(A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:a.jsx(Os,{})})})}),e.includes("incident-table")&&a.jsx(Qt,{size:{xs:12},children:a.jsx(fn,{id:"incident-table",title:"Incident Data",height:350,children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(Rs,{})})})})]})})},Vr=({incident:e,colors:n,showLabels:t=!0,compact:r=!1})=>{const s=f.useMemo(()=>et(e),[e]),o=s.totalIncidentTime||0;if(o===0)return a.jsx(A,{sx:{height:r?20:40,display:"flex",alignItems:"center",bgcolor:"action.hover",borderRadius:1,px:1},children:a.jsx(P,{variant:"caption",color:"text.secondary",children:"No time data available"})});const i=(s.dispatchTime||0)/o*100,c=(s.turnoutTime||0)/o*100,l=(s.travelTime||0)/o*100,d=(s.sceneTime||0)/o*100;return a.jsxs(A,{sx:{mb:r?.5:2},children:[!r&&t&&a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[e.incidentId," ",e.incidentType?`(${e.incidentType})`:""]}),a.jsxs(A,{sx:{display:"flex",flexDirection:"column"},children:[a.jsxs(A,{sx:{display:"flex",height:r?20:30,borderRadius:1,overflow:"hidden",border:`1px solid ${n.border}`},children:[s.dispatchTime&&s.dispatchTime>0&&a.jsx(A,{sx:{width:`${i}%`,bgcolor:n.dispatch,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"D"})}),s.turnoutTime&&s.turnoutTime>0&&a.jsx(A,{sx:{width:`${c}%`,bgcolor:n.turnout,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"T"})}),s.travelTime&&s.travelTime>0&&a.jsx(A,{sx:{width:`${l}%`,bgcolor:n.travel,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"R"})}),s.sceneTime&&s.sceneTime>0&&a.jsx(A,{sx:{width:`${d}%`,bgcolor:n.scene,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"S"})})]}),!r&&t&&a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mt:.5},children:[a.jsx(P,{variant:"caption",color:"text.secondary",children:z(s.dispatchTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:z(s.turnoutTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:z(s.travelTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:z(s.sceneTime,"seconds")})]})]})]})},Ti=({colors:e})=>a.jsxs(A,{sx:{display:"flex",gap:2,mt:2,mb:3},children:[a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.dispatch,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Dispatch Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.turnout,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Turnout Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.travel,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Travel Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.scene,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Scene Time"})]})]}),Di=()=>{const{incidents:e}=De(c=>c.analyzer.rawData),{responseTimeStats:n}=De(c=>c.analyzer.calculatedMetrics),t=De(c=>c.analyzer.ui.selectedIncidentId),r=on(),s={dispatch:r.palette.info.light,turnout:r.palette.warning.light,travel:r.palette.error.light,scene:r.palette.success.light,border:r.palette.divider,text:r.palette.getContrastText(r.palette.primary.main),background:r.palette.background.paper},o=f.useMemo(()=>t&&e.find(c=>c.incidentId===t)||null,[e,t]),i=f.useMemo(()=>[...e].sort((c,l)=>{const d=new Date(c.incidentDate);return new Date(l.incidentDate).getTime()-d.getTime()}).slice(0,10),[e]);return!e.length||!n?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Timeline"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for timeline visualization."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Timeline"}),a.jsx(Ti,{colors:s}),a.jsxs(G,{container:!0,spacing:3,children:[o&&a.jsx(G,{size:{xs:12},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2,mb:3},children:[a.jsxs(P,{variant:"subtitle1",gutterBottom:!0,children:["Selected Incident: ",o.incidentId]}),a.jsx(A,{sx:{mb:2},children:a.jsxs(G,{container:!0,spacing:2,children:[a.jsxs(G,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Date"}),a.jsx(P,{variant:"body1",children:o.incidentDate})]}),a.jsxs(G,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Time"}),a.jsx(P,{variant:"body1",children:o.incidentTime||"N/A"})]}),a.jsxs(G,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Type"}),a.jsx(P,{variant:"body1",children:o.incidentType||"Unknown"})]}),a.jsxs(G,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Unit"}),a.jsx(P,{variant:"body1",children:o.respondingUnit||"N/A"})]})]})}),a.jsx(Ht,{sx:{my:2}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Timeline"}),a.jsx(Vr,{incident:o,colors:s,showLabels:!0}),a.jsx(A,{sx:{mt:3},children:a.jsxs(G,{container:!0,spacing:2,children:[a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Dispatch Time"}),a.jsx(P,{variant:"body1",children:z(et(o).dispatchTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Turnout Time"}),a.jsx(P,{variant:"body1",children:z(et(o).turnoutTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Travel Time"}),a.jsx(P,{variant:"body1",children:z(et(o).travelTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total Response Time"}),a.jsx(P,{variant:"body1",children:z(et(o).totalResponseTime)})]})]})})]})}),a.jsx(G,{size:{xs:12,md:o?12:6},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Recent Incidents Timeline"}),a.jsxs(A,{sx:{mt:2},children:[i.map(c=>a.jsx(Vr,{incident:c,colors:s,showLabels:!0,compact:!1},c.incidentId)),i.length===0&&a.jsx(P,{variant:"body2",color:"text.secondary",children:"No recent incidents to display."})]})]})}),!o&&a.jsx(G,{size:{xs:12,md:6},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Average Response Time Breakdown"}),a.jsxs(A,{sx:{p:2,mt:2,bgcolor:"background.default",borderRadius:1},children:[a.jsx(P,{variant:"body2",gutterBottom:!0,children:"Average time breakdown:"}),a.jsxs(A,{sx:{display:"flex",height:40,borderRadius:1,overflow:"hidden",mt:1},children:[a.jsx(A,{sx:{width:`${(n.mean.dispatchTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.dispatch,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.dispatchTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.turnoutTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.turnout,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.turnoutTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.travelTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.travel,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.travelTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.sceneTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.scene,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.sceneTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})})]}),a.jsx(A,{sx:{mt:3},children:a.jsxs(G,{container:!0,spacing:2,children:[a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Dispatch"}),a.jsx(P,{variant:"body1",children:z(n.mean.dispatchTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Turnout"}),a.jsx(P,{variant:"body1",children:z(n.mean.turnoutTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Travel"}),a.jsx(P,{variant:"body1",children:z(n.mean.travelTime)})]}),a.jsxs(G,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Total"}),a.jsx(P,{variant:"body1",children:z(n.mean.totalResponseTime)})]})]})})]})]})})]})]})},Xt=(e,n)=>e.length!==n.length?!1:n.every(t=>e.includes(t)),Pi=({openTo:e,defaultOpenTo:n,views:t,defaultViews:r})=>{const s=t??r;let o;if(e!=null)o=e;else if(s.includes(n))o=n;else if(s.length>0)o=s[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:s,openTo:o}},wn=(e,n,t)=>{let r=n;return r=e.setHours(r,e.getHours(t)),r=e.setMinutes(r,e.getMinutes(t)),r=e.setSeconds(r,e.getSeconds(t)),r=e.setMilliseconds(r,e.getMilliseconds(t)),r},rn=({date:e,disableFuture:n,disablePast:t,maxDate:r,minDate:s,isDateDisabled:o,utils:i,timezone:c})=>{const l=wn(i,i.date(void 0,c),e);t&&i.isBefore(s,l)&&(s=l),n&&i.isAfter(r,l)&&(r=l);let d=e,u=e;for(i.isBefore(e,s)&&(d=s,u=null),i.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&i.isAfter(d,r)&&(d=null),u&&i.isBefore(u,s)&&(u=null),d){if(!o(d))return d;d=i.addDays(d,1)}if(u){if(!o(u))return u;u=i.addDays(u,-1)}}return null},Si=(e,n)=>e.isValid(n)?n:null,Lr=(e,n,t)=>n==null||!e.isValid(n)?t:n,Mi=(e,n,t)=>!e.isValid(n)&&n!=null&&!e.isValid(t)&&t!=null?!0:e.isEqual(n,t),ar=(e,n)=>{const r=[e.startOfYear(n)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},Es=(e,n,t)=>t==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),ki=["year","month","day"],Nr=e=>ki.includes(e),or=(e,{format:n,views:t},r)=>{if(n!=null)return n;const s=e.formats;return Xt(t,["year"])?s.year:Xt(t,["month"])?s.month:Xt(t,["day"])?s.dayOfMonth:Xt(t,["month","year"])?`${s.month} ${s.year}`:Xt(t,["day","month"])?`${s.month} ${s.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},Ci=(e,n)=>{const t=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(r=>e.addDays(t,r))},ji=["hours","minutes","seconds"],Ii=e=>ji.includes(e),Br=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),Oi=(e,n)=>(t,r)=>e?n.isAfter(t,r):Br(t,n)>Br(r,n),ut={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Ri=e=>Math.max(...e.map(n=>ut[n.type]??1)),Kt=(e,n,t)=>{if(n===ut.year)return e.startOfYear(t);if(n===ut.month)return e.startOfMonth(t);if(n===ut.day)return e.startOfDay(t);let r=t;return n<ut.minutes&&(r=e.setMinutes(r,0)),n<ut.seconds&&(r=e.setSeconds(r,0)),n<ut.milliseconds&&(r=e.setMilliseconds(r,0)),r},Ei=({props:e,utils:n,granularity:t,timezone:r,getTodayDate:s})=>{let o=s?s():Kt(n,t,Es(n,r));e.minDate!=null&&n.isAfterDay(e.minDate,o)&&(o=Kt(n,t,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,o)&&(o=Kt(n,t,e.maxDate));const i=Oi(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&i(e.minTime,o)&&(o=Kt(n,t,e.disableIgnoringDatePartForTimeValidation?e.minTime:wn(n,o,e.minTime))),e.maxTime!=null&&i(o,e.maxTime)&&(o=Kt(n,t,e.disableIgnoringDatePartForTimeValidation?e.maxTime:wn(n,o,e.maxTime))),o},As=(e,n)=>{const t=e.formatTokenMap[n];if(t==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},Mn=(e,n)=>{const t=[],r=e.date(void 0,"default"),s=e.startOfWeek(r),o=e.endOfWeek(r);let i=s;for(;e.isBefore(i,o);)t.push(i),i=e.addDays(i,1);return t.map(c=>e.formatByString(c,n))},Fs=(e,n,t,r)=>{switch(t){case"month":return ar(e,e.date(void 0,n)).map(s=>e.formatByString(s,r));case"weekDay":return Mn(e,r);case"meridiem":{const s=e.date(void 0,n);return[e.startOfDay(s),e.endOfDay(s)].map(o=>e.formatByString(o,r))}default:return[]}},$r="s",Ai=["0","1","2","3","4","5","6","7","8","9"],Fi=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),$r)==="0"?Ai:Array.from({length:10}).map((r,s)=>e.formatByString(e.setSeconds(n,s),$r))},Mt=(e,n)=>{if(n[0]==="0")return e;const t=[];let r="";for(let s=0;s<e.length;s+=1){r+=e[s];const o=n.indexOf(r);o>-1&&(t.push(o.toString()),r="")}return t.join("")},ir=(e,n)=>n[0]==="0"?e:e.split("").map(t=>n[Number(t)]).join(""),zr=(e,n)=>{const t=Mt(e,n);return t!==" "&&!Number.isNaN(Number(t))},lr=(e,n)=>Number(e).toString().padStart(n,"0"),Vs=(e,n,t,r,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const i=e.setDate(t.longestMonth,n);return e.formatByString(i,s.format)}let o=n.toString();return s.hasLeadingZerosInInput&&(o=lr(o,s.maxLength)),ir(o,r)},cr=(e,n,t)=>{let r=e.value||e.placeholder;const s=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(Mt(r,t)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!s&&r.length===1&&(r=`${r}‎`),n==="input-rtl"&&(r=`⁨${r}⁩`),r},_r=(e,n,t,r)=>e.formatByString(e.parse(n,t),r),Vi=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,Ls=(e,n,t,r)=>{if(n!=="digit")return!1;const s=e.date(void 0,"default");switch(t){case"year":return e.lib==="dayjs"&&r==="YY"?!0:e.formatByString(e.setYear(s,1),r).startsWith("0");case"month":return e.formatByString(e.startOfYear(s),r).length>1;case"day":return e.formatByString(e.startOfMonth(s),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(s),r).length>1;case"hours":return e.formatByString(e.setHours(s,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(s,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(s,1),r).length>1;default:throw new Error("Invalid section type")}},Li=(e,n,t)=>{const r=n.some(l=>l.type==="day"),s=[],o=[];for(let l=0;l<n.length;l+=1){const d=n[l];r&&d.type==="weekDay"||(s.push(d.format),o.push(cr(d,"non-input",t)))}const i=s.join(" "),c=o.join(" ");return e.parse(c,i)},Ni=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),Bi=(e,n,t)=>{const s=e.map(o=>{const i=cr(o,t?"input-rtl":"input-ltr",n);return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return t?`⁦${s}⁩`:s},$i=(e,n,t)=>{const r=e.date(void 0,t),s=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:i,longestMonth:c}=ar(e,r).reduce((l,d)=>{const u=e.getDaysInMonth(d);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:d}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Vi(e,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(s)+1}),day:({currentDate:l})=>({minimum:1,maximum:e.isValid(l)?e.getDaysInMonth(l):i,longestMonth:c}),weekDay:({format:l,contentType:d})=>{if(d==="digit"){const u=Mn(e,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const d=e.getHours(o);return Mt(e.formatByString(e.endOfDay(r),l),n)!==d.toString()?{minimum:1,maximum:Number(Mt(e.formatByString(e.startOfDay(r),l),n))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},zi=(e,n,t,r)=>{switch(n.type){case"year":return e.setYear(r,e.getYear(t));case"month":return e.setMonth(r,e.getMonth(t));case"weekDay":{let s=e.formatByString(t,n.format);n.hasLeadingZerosInInput&&(s=lr(s,n.maxLength));const o=Mn(e,n.format),i=o.indexOf(s),l=o.indexOf(n.value)-i;return e.addDays(t,l)}case"day":return e.setDate(r,e.getDate(t));case"meridiem":{const s=e.getHours(t)<12,o=e.getHours(r);return s&&o>=12?e.addHours(r,-12):!s&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(t));case"minutes":return e.setMinutes(r,e.getMinutes(t));case"seconds":return e.setSeconds(r,e.getSeconds(t));default:return r}},Wr={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Hr=(e,n,t,r,s)=>[...t].sort((o,i)=>Wr[o.type]-Wr[i.type]).reduce((o,i)=>!s||i.modified?zi(e,i,n,o):o,r),_i=()=>navigator.userAgent.toLowerCase().includes("android"),Wi=(e,n)=>{const t={};if(!n)return e.forEach((l,d)=>{const u=d===0?null:d-1,x=d===e.length-1?null:d+1;t[d]={leftIndex:u,rightIndex:x}}),{neighbors:t,startIndex:0,endIndex:e.length-1};const r={},s={};let o=0,i=0,c=e.length-1;for(;c>=0;){i=e.findIndex((l,d)=>{var u;return d>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=e.length-1);for(let l=i;l>=o;l-=1)s[l]=c,r[c]=l,c-=1;o=i+1}return e.forEach((l,d)=>{const u=s[d],x=u===0?null:r[u-1],b=u===e.length-1?null:r[u+1];t[d]={leftIndex:x,rightIndex:b}}),{neighbors:t,startIndex:r[0],endIndex:r[e.length-1]}},Qn=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const t=n.findIndex(r=>r.type===e);return t===-1?null:t}return e},Hi=["value","referenceDate"],ft={emptyValue:null,getTodayValue:Es,getInitialReferenceValue:e=>{let{value:n,referenceDate:t}=e,r=se(e,Hi);return r.utils.isValid(n)?n:t??Ei(r)},cleanValue:Si,areValuesEqual:Mi,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,t)=>t==null?null:e.setTimezone(t,n)},Yi={updateReferenceValue:(e,n,t)=>e.isValid(n)?n:t,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:Ni,getV6InputValueFromSections:Bi,parseValueStr:(e,n,t)=>t(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,t)=>t,clearDateSections:e=>e.map(n=>v({},n,{value:""}))};function Ui(e){return Ne("MuiPickersToolbar",e)}Le("MuiPickersToolbar",["root","title","content"]);const qi=["localeText"],Xn=f.createContext(null),Ns=function(n){const{localeText:t}=n,r=se(n,qi),{utils:s,localeText:o}=f.useContext(Xn)??{utils:void 0,localeText:void 0},i=Oe({props:r,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:l,dateFormats:d,dateLibInstance:u,adapterLocale:x,localeText:b}=i,m=f.useMemo(()=>v({},b,o,t),[b,o,t]),h=f.useMemo(()=>{if(!l)return s||null;const g=new l({locale:x,formats:d,instance:u});if(!g.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return g},[l,x,d,u,s]),D=f.useMemo(()=>h?{minDate:h.date("1900-01-01T00:00:00.000"),maxDate:h.date("2099-12-31T00:00:00.000")}:null,[h]),p=f.useMemo(()=>({utils:h,defaultDates:D,localeText:m}),[D,h,m]);return a.jsx(Xn.Provider,{value:p,children:c})},Bs=f.createContext(()=>!0);function Gi(){return f.useContext(Bs)}const $s=f.createContext(null);function zs(){return f.useContext($s)}const dr=f.createContext(null),qt=()=>{const e=f.useContext(dr);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},_s=f.createContext(null),Ws=f.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Hs(e){const{contextValue:n,actionsContextValue:t,privateContextValue:r,fieldPrivateContextValue:s,isValidContextValue:o,localeText:i,children:c}=e;return a.jsx(dr.Provider,{value:n,children:a.jsx(_s.Provider,{value:t,children:a.jsx(Ws.Provider,{value:r,children:a.jsx($s.Provider,{value:s,children:a.jsx(Bs.Provider,{value:o,children:a.jsx(Ns,{localeText:i,children:c})})})})})})}const qe=()=>f.useContext(Ws);function Ys(){const{ownerState:e}=qe(),n=yt();return f.useMemo(()=>v({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const Qi=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],Xi=e=>Ie({root:["root"],title:["title"],content:["content"]},Ui,e),Ki=K("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Zi=K("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>kt(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Ji=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersToolbar"}),{children:s,className:o,classes:i,toolbarTitle:c,hidden:l,titleId:d,landscapeDirection:u}=r,x=se(r,Qi),b=Ys(),m=Xi(i);return l?null:a.jsxs(Ki,v({ref:t,className:He(m.root,o),ownerState:b},x,{children:[a.jsx(P,{color:"text.secondary",variant:"overline",id:d,className:m.title,children:c}),a.jsx(Zi,{className:m.content,ownerState:b,landscapeDirection:u,children:s})]}))}),el=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:v({},e)}}}}),Us={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},tl=Us;el(Us);const Ct=()=>{const e=f.useContext(Xn);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=f.useMemo(()=>v({},tl,e.localeText),[e.localeText]);return f.useMemo(()=>v({},e,{localeText:n}),[e,n])},Me=()=>Ct().utils,nl=()=>Ct().defaultDates,kn=e=>{const n=Me(),t=f.useRef(void 0);return t.current===void 0&&(t.current=n.date(void 0,e)),t.current},wt=()=>Ct().localeText;function rl(e){return Ne("MuiDatePickerToolbar",e)}Le("MuiDatePickerToolbar",["root","title"]);const Kn=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Zn=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],qs=["minDateTime","maxDateTime"],sl=[...Kn,...Zn,...qs],Gs=e=>sl.reduce((n,t)=>(e.hasOwnProperty(t)&&(n[t]=e[t]),n),{}),al=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],Qs=(e,n)=>f.useMemo(()=>{const t=v({},e),r={},s=o=>{t.hasOwnProperty(o)&&(r[o]=t[o],delete t[o])};return al.forEach(s),n==="date"?Kn.forEach(s):n==="time"?Zn.forEach(s):n==="date-time"&&(Kn.forEach(s),Zn.forEach(s),qs.forEach(s)),{forwardedProps:t,internalProps:r}},[e,n]),ol=({utils:e,format:n})=>{let t=10,r=n,s=e.expandFormat(n);for(;s!==r;)if(r=s,s=e.expandFormat(r),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return s},il=({utils:e,expandedFormat:n})=>{const t=[],{start:r,end:s}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${s}]*\\${s})+`,"g");let i=null;for(;i=o.exec(n);)t.push({start:i.index,end:o.lastIndex-1});return t},ll=(e,n,t,r)=>{switch(t.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return n.fieldMonthPlaceholder({contentType:t.contentType,format:r});case"day":return n.fieldDayPlaceholder({format:r});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:t.contentType,format:r});case"hours":return n.fieldHoursPlaceholder({format:r});case"minutes":return n.fieldMinutesPlaceholder({format:r});case"seconds":return n.fieldSecondsPlaceholder({format:r});case"meridiem":return n.fieldMeridiemPlaceholder({format:r});default:return r}},cl=({utils:e,date:n,shouldRespectLeadingZeros:t,localeText:r,localizedDigits:s,now:o,token:i,startSeparator:c})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=As(e,i),d=Ls(e,l.contentType,l.type,i),u=t?d:l.contentType==="digit",x=e.isValid(n);let b=x?e.formatByString(n,i):"",m=null;if(u)if(d)m=b===""?e.formatByString(o,i).length:b.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxLength' property on it's adapter`);m=l.maxLength,x&&(b=ir(lr(Mt(b,s),m),s))}return v({},l,{format:i,maxLength:m,value:b,placeholder:ll(e,r,l,i),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:u,startSeparator:c,endSeparator:"",modified:!1})},dl=e=>{var m;const{utils:n,expandedFormat:t,escapedParts:r}=e,s=n.date(void 0),o=[];let i="";const c=Object.keys(n.formatTokenMap).sort((h,D)=>D.length-h.length),l=/^([a-zA-Z]+)/,d=new RegExp(`^(${c.join("|")})*$`),u=new RegExp(`^(${c.join("|")})`),x=h=>r.find(D=>D.start<=h&&D.end>=h);let b=0;for(;b<t.length;){const h=x(b),D=h!=null,p=(m=l.exec(t.slice(b)))==null?void 0:m[1];if(!D&&p!=null&&d.test(p)){let g=p;for(;g.length>0;){const w=u.exec(g)[1];g=g.slice(w.length),o.push(cl(v({},e,{now:s,token:w,startSeparator:i}))),i=""}b+=p.length}else{const g=t[b];D&&(h==null?void 0:h.start)===b||(h==null?void 0:h.end)===b||(o.length===0?i+=g:(o[o.length-1].endSeparator+=g,o[o.length-1].isEndFormatSeparator=!0)),b+=1}}return o.length===0&&i.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),o},ul=({isRtl:e,formatDensity:n,sections:t})=>t.map(r=>{const s=o=>{let i=o;return e&&i!==null&&i.includes(" ")&&(i=`⁩${i}⁦`),n==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=s(r.startSeparator),r.endSeparator=s(r.endSeparator),r}),Yr=e=>{let n=ol(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const t=il(v({},e,{expandedFormat:n})),r=dl(v({},e,{expandedFormat:n,escapedParts:t}));return ul(v({},e,{sections:r}))},ur=()=>f.useContext(dr),hl=()=>{const e=f.useContext(_s);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},ml=["toolbarFormat","toolbarPlaceholder","className","classes"],fl=e=>Ie({root:["root"],title:["title"]},rl,e),pl=K(Ji,{name:"MuiDatePickerToolbar",slot:"Root"})({}),gl=K(P,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),xl=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiDatePickerToolbar"}),{toolbarFormat:s,toolbarPlaceholder:o="––",className:i,classes:c}=r,l=se(r,ml),d=Me(),{value:u,views:x,orientation:b}=qt(),m=wt(),h=Ys(),D=fl(c),p=f.useMemo(()=>{if(!d.isValid(u))return o;const g=or(d,{format:s,views:x},!0);return d.formatByString(u,g)},[u,s,o,d,x]);return a.jsx(pl,v({ref:t,toolbarTitle:m.datePickerToolbarTitle,className:He(D.root,i)},l,{children:a.jsx(gl,{variant:"h4",align:b==="landscape"?"left":"center",ownerState:h,className:D.title,children:p})}))}),ln=({props:e,value:n,timezone:t,adapter:r})=>{if(n===null)return null;const{shouldDisableDate:s,shouldDisableMonth:o,shouldDisableYear:i,disablePast:c,disableFuture:l,minDate:d,maxDate:u}=e,x=r.utils.date(void 0,t);switch(!0){case!r.utils.isValid(n):return"invalidDate";case!!(s&&s(n)):return"shouldDisableDate";case!!(o&&o(n)):return"shouldDisableMonth";case!!(i&&i(n)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(n,x)):return"disableFuture";case!!(c&&r.utils.isBeforeDay(n,x)):return"disablePast";case!!(d&&r.utils.isBeforeDay(n,d)):return"minDate";case!!(u&&r.utils.isAfterDay(n,u)):return"maxDate";default:return null}};ln.valueManager=ft;function Xs(e){const{props:n,validator:t,value:r,timezone:s,onError:o}=e,i=Ct(),c=f.useRef(t.valueManager.defaultErrorState),l=t({adapter:i,value:r,timezone:s,props:n}),d=t.valueManager.hasError(l);f.useEffect(()=>{o&&!t.valueManager.isSameError(l,c.current)&&o(l,r),c.current=l},[t,o,l,r]);const u=Y(x=>t({adapter:i,value:x,timezone:s,props:n}));return{validationError:l,hasValidationError:d,getValidationErrorForNewValue:u}}function yl(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return f.useMemo(()=>({valueType:"date",validator:ln,internal_valueManager:ft,internal_fieldValueManager:Yi,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:wl,internal_useOpenPickerButtonAriaLabel:bl}),[n])}function bl(e){const n=Me(),t=wt();return f.useMemo(()=>{const r=n.isValid(e)?n.format(e,"fullDate"):null;return t.openDatePickerDialogue(r)},[e,t,n])}function wl(e){const n=Me(),t=cn(e);return f.useMemo(()=>v({},e,t,{format:e.format??n.formats.keyboardDate}),[e,t,n])}function cn(e){const n=Me(),t=nl();return f.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:Lr(n,e.minDate,t.minDate),maxDate:Lr(n,e.maxDate,t.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,t])}function Ks(e,n){const t=Oe({props:e,name:n}),r=cn(t),s=f.useMemo(()=>{var o;return((o=t.localeText)==null?void 0:o.toolbarTitle)==null?t.localeText:v({},t.localeText,{datePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return v({},t,r,{localeText:s},Pi({views:t.views,openTo:t.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:v({toolbar:xl},t.slots)})}function vl(e){return Ne("MuiPickerPopper",e)}Le("MuiPickerPopper",["root","paper"]);function Tl(e,n){return Array.isArray(n)?n.every(t=>e.indexOf(t)!==-1):e.indexOf(n)!==-1}const Dl=e=>{setTimeout(e,0)},Xe=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Xe(n.shadowRoot):n:null},Pl="@media (pointer: fine)",Sl=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Ml=e=>Ie({root:["root"],paper:["paper"]},vl,e),kl=K(Po,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),Cl=K(Ee,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function jl(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function Il(e,n){const t=f.useRef(!1),r=f.useRef(!1),s=f.useRef(null),o=f.useRef(!1);f.useEffect(()=>{if(!e)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[e]);const i=Y(l=>{if(!o.current)return;const d=r.current;r.current=!1;const u=Ln(s.current);if(!s.current||"clientX"in l&&jl(l,u))return;if(t.current){t.current=!1;return}let x;l.composedPath?x=l.composedPath().indexOf(s.current)>-1:x=!u.documentElement.contains(l.target)||s.current.contains(l.target),!x&&!d&&n(l)}),c=()=>{r.current=!0};return f.useEffect(()=>{if(e){const l=Ln(s.current),d=()=>{t.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",d),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",d)}}},[e,i]),f.useEffect(()=>{if(e){const l=Ln(s.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[e,i]),[s,c,c]}const Ol=f.forwardRef((e,n)=>{const{PaperComponent:t,ownerState:r,children:s,paperSlotProps:o,paperClasses:i,onPaperClick:c,onPaperTouchStart:l}=e,d=se(e,Sl),u=we({elementType:t,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:i,ownerState:r});return a.jsx(t,v({},d,u,{onClick:x=>{var b;c(x),(b=u.onClick)==null||b.call(u,x)},onTouchStart:x=>{var b;l(x),(b=u.onTouchStart)==null||b.call(u,x)},ownerState:r,children:s}))});function Rl(e){const n=Oe({props:e,name:"MuiPickerPopper"}),{children:t,placement:r="bottom-start",slots:s,slotProps:o,classes:i}=n,{open:c,popupRef:l,reduceAnimations:d}=qt(),{dismissViews:u,getCurrentViewMode:x,onPopperExited:b,triggerElement:m,viewContainerRole:h}=qe();f.useEffect(()=>{function N(te){c&&te.key==="Escape"&&u()}return document.addEventListener("keydown",N),()=>{document.removeEventListener("keydown",N)}},[u,c]);const D=f.useRef(null);f.useEffect(()=>{h==="tooltip"||x()==="field"||(c?D.current=Xe(document):D.current&&D.current instanceof HTMLElement&&setTimeout(()=>{D.current instanceof HTMLElement&&D.current.focus()}))},[c,h,x]);const p=Ml(i),{ownerState:g,rootRefObject:w}=qe(),M=v({},g,{popperPlacement:r}),T=Y(()=>{h==="tooltip"?Dl(()=>{var N,te;(N=w.current)!=null&&N.contains(Xe(document))||(te=l.current)!=null&&te.contains(Xe(document))||u()}):u()}),[I,j,O]=Il(c,T),y=f.useRef(null),k=tt(y,l),R=tt(k,I),V=N=>{N.key==="Escape"&&(N.stopPropagation(),u())},S=(s==null?void 0:s.desktopTransition)??d?Pn:To,_=(s==null?void 0:s.desktopTrapFocus)??Do,L=(s==null?void 0:s.desktopPaper)??Cl,E=(s==null?void 0:s.popper)??kl,F=we({elementType:E,externalSlotProps:o==null?void 0:o.popper,additionalProps:{transition:!0,role:h??void 0,open:c,placement:r,anchorEl:m,onKeyDown:V},className:p.root,ownerState:M});return a.jsx(E,v({},F,{children:({TransitionProps:N})=>a.jsx(_,v({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},o==null?void 0:o.desktopTrapFocus,{children:a.jsx(S,v({},N,o==null?void 0:o.desktopTransition,{onExited:te=>{var H,ne,W;b==null||b(),(ne=(H=o==null?void 0:o.desktopTransition)==null?void 0:H.onExited)==null||ne.call(H,te),(W=N==null?void 0:N.onExited)==null||W.call(N)},children:a.jsx(Ol,{PaperComponent:L,ownerState:M,ref:R,onPaperClick:j,onPaperTouchStart:O,paperClasses:p.paper,paperSlotProps:o==null?void 0:o.desktopPaper,children:t})}))}))}))}const El="@media (prefers-reduced-motion: reduce)",$t=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),Ur=$t&&$t[1]?parseInt($t[1],10):null,qr=$t&&$t[2]?parseInt($t[2],10):null,Al=Ur&&Ur<10||qr&&qr<13||!1;function Zs(e){const n=ms(El,{defaultMatches:!1});return e??(n||Al)}const Js={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function Fl(e){const{steps:n,isViewMatchingStep:t,onStepChange:r}=e;return s=>{if(n==null)return Js;const o=n.findIndex(c=>t(s.view,c)),i=o===-1||o===n.length-1?null:n[o+1];return{hasNextStep:i!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{i!=null&&r(v({},s,{step:i}))},areViewsInSameStep:(c,l)=>{const d=n.find(x=>t(c,x)),u=n.find(x=>t(l,x));return d===u}}}}function ea({onChange:e,onViewChange:n,openTo:t,view:r,views:s,autoFocus:o,focusedView:i,onFocusedViewChange:c,getStepNavigation:l}){const d=f.useRef(t),u=f.useRef(s),x=f.useRef(s.includes(t)?t:s[0]),[b,m]=Yt({name:"useViews",state:"view",controlled:r,default:x.current}),h=f.useRef(o?b:null),[D,p]=Yt({name:"useViews",state:"focusedView",controlled:i,default:h.current}),g=l?l({setView:m,view:b,defaultView:x.current,views:s}):Js;f.useEffect(()=>{(d.current&&d.current!==t||u.current&&u.current.some(k=>!s.includes(k)))&&(m(s.includes(t)?t:s[0]),u.current=s,d.current=t)},[t,m,b,s]);const w=s.indexOf(b),M=s[w-1]??null,T=s[w+1]??null,I=Y((k,R)=>{p(R?k:V=>k===V?null:V),c==null||c(k,R)}),j=Y(k=>{I(k,!0),k!==b&&(m(k),n&&n(k))}),O=Y(()=>{T&&j(T)}),y=Y((k,R,V)=>{const S=R==="finish",_=V?s.indexOf(V)<s.length-1:!!T;e(k,S&&_?"partial":R,V);let E=null;if(V!=null&&V!==b?E=V:S&&(E=b),E==null)return;const F=s[s.indexOf(E)+1];F==null||!g.areViewsInSameStep(E,F)||j(F)});return v({},g,{view:b,setView:j,focusedView:D,setFocusedView:I,nextView:T,previousView:M,defaultView:s.includes(t)?t:s[0],goToNextView:O,setValueAndGoToNextView:y})}function Gr(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Vl(e,n){const[t,r]=f.useState(Gr);return pt(()=>{const s=()=>{r(Gr())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),Tl(e,["hours","minutes","seconds"])?"portrait":n??t}const dn=({name:e,timezone:n,value:t,defaultValue:r,referenceDate:s,onChange:o,valueManager:i})=>{const c=Me(),[l,d]=Yt({name:e,state:"value",controlled:t,default:r??i.emptyValue}),u=f.useMemo(()=>i.getTimezone(c,l),[c,i,l]),x=Y(D=>u==null?D:i.setTimezone(c,u,D)),b=f.useMemo(()=>n||u||(s?c.getTimezone(s):"default"),[n,u,s,c]),m=f.useMemo(()=>i.setTimezone(c,b,l),[i,c,b,l]),h=Y((D,...p)=>{const g=x(D);d(g),o==null||o(g,...p)});return{value:m,handleValueChange:h,timezone:b}};function Ll(e){const{props:n,valueManager:t,validator:r}=e,{value:s,defaultValue:o,onChange:i,referenceDate:c,timezone:l,onAccept:d,closeOnSelect:u,open:x,onOpen:b,onClose:m}=n,{current:h}=f.useRef(o),{current:D}=f.useRef(s!==void 0),{current:p}=f.useRef(x!==void 0),g=Me(),{timezone:w,value:M,handleValueChange:T}=dn({name:"a picker component",timezone:l,value:s,defaultValue:h,referenceDate:c,onChange:i,valueManager:t}),[I,j]=f.useState(()=>({open:!1,lastExternalValue:M,clockShallowValue:void 0,lastCommittedValue:M,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:O}=Xs({props:n,validator:r,timezone:w,value:M,onError:n.onError}),y=Y(S=>{const _=typeof S=="function"?S(I.open):S;p||j(L=>v({},L,{open:_})),_&&b&&b(),_||m==null||m()}),k=Y((S,_)=>{const{changeImportance:L="accept",skipPublicationIfPristine:E=!1,validationError:F,shortcut:N,shouldClose:te=L==="accept"}=_??{};let H,ne;!E&&!D&&!I.hasBeenModifiedSinceMount?(H=!0,ne=L==="accept"):(H=!t.areValuesEqual(g,S,M),ne=L==="accept"&&!t.areValuesEqual(g,S,I.lastCommittedValue)),j(ve=>v({},ve,{clockShallowValue:H?void 0:ve.clockShallowValue,lastCommittedValue:ne?M:ve.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let W=null;const ce=()=>(W||(W={validationError:F??O(S)},N&&(W.shortcut=N)),W);H&&T(S,ce()),ne&&d&&d(S,ce()),te&&y(!1)});M!==I.lastExternalValue&&j(S=>v({},S,{lastExternalValue:M,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const R=Y((S,_="partial")=>{if(_==="shallow"){j(L=>v({},L,{clockShallowValue:S,hasBeenModifiedSinceMount:!0}));return}k(S,{changeImportance:_==="finish"&&u?"accept":"set"})});f.useEffect(()=>{if(p){if(x===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");j(S=>v({},S,{open:x}))}},[p,x]);const V=f.useMemo(()=>t.cleanValue(g,I.clockShallowValue===void 0?M:I.clockShallowValue),[g,t,I.clockShallowValue,M]);return{timezone:w,state:I,setValue:k,setValueFromView:R,setOpen:y,value:M,viewValue:V}}const Nl=["className","sx"],ta=({ref:e,props:n,valueManager:t,valueType:r,variant:s,validator:o,onPopperExited:i,autoFocusView:c,rendererInterceptor:l,localeText:d,viewContainerRole:u,getStepNavigation:x})=>{const{views:b,view:m,openTo:h,onViewChange:D,viewRenderers:p,reduceAnimations:g,orientation:w,disableOpenPicker:M,closeOnSelect:T,disabled:I,readOnly:j,formatDensity:O,enableAccessibleFieldDOMStructure:y,selectedSections:k,onSelectedSectionsChange:R,format:V,label:S,autoFocus:_,name:L}=n,{className:E,sx:F}=n,N=se(n,Nl),te=Sn(),H=Me(),ne=Ct(),W=Zs(g),ce=Vl(b,w),{current:ve}=f.useRef(h??null),[xe,Pe]=f.useState(null),oe=f.useRef(null),pe=f.useRef(null),Se=f.useRef(null),de=tt(e,Se),{timezone:re,state:B,setOpen:Z,setValue:$,setValueFromView:ae,value:ue,viewValue:Q}=Ll({props:n,valueManager:t,validator:o}),{view:ge,setView:q,defaultView:ie,focusedView:J,setFocusedView:le,setValueAndGoToNextView:Ue,goToNextStep:Be,hasNextStep:Je,hasSeveralSteps:Ke}=ea({view:m,views:b,openTo:h,onChange:ae,onViewChange:D,autoFocus:c,getStepNavigation:x}),lt=Y(()=>$(t.emptyValue)),It=Y(()=>$(t.getTodayValue(H,re,r))),Ot=Y(()=>$(ue)),he=Y(()=>$(B.lastCommittedValue,{skipPublicationIfPristine:!0})),me=Y(()=>{$(ue,{skipPublicationIfPristine:!0})}),{hasUIView:be,viewModeLookup:ke,timeViewsCount:Ge}=f.useMemo(()=>b.reduce((Ve,ot)=>{const Dr=p[ot]==null?"field":"UI";return Ve.viewModeLookup[ot]=Dr,Dr==="UI"&&(Ve.hasUIView=!0,Ii(ot)&&(Ve.timeViewsCount+=1)),Ve},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[p,b]),$e=ke[ge],nt=Y(()=>$e),[_e,fe]=f.useState($e==="UI"?ge:null);_e!==ge&&ke[ge]==="UI"&&fe(ge),pt(()=>{$e==="field"&&B.open&&(Z(!1),setTimeout(()=>{var Ve,ot;(Ve=pe==null?void 0:pe.current)==null||Ve.setSelectedSections(ge),(ot=pe==null?void 0:pe.current)==null||ot.focusField(ge)}))},[ge]),pt(()=>{if(!B.open)return;let Ve=ge;$e==="field"&&_e!=null&&(Ve=_e),Ve!==ie&&ke[Ve]==="UI"&&ke[ie]==="UI"&&(Ve=ie),Ve!==ge&&q(Ve),le(Ve,!0)},[B.open]);const We=f.useMemo(()=>({isPickerValueEmpty:t.areValuesEqual(H,ue,t.emptyValue),isPickerOpen:B.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:ce,pickerVariant:s}),[H,t,ue,B.open,ce,s,n.disabled,n.readOnly]),Ze=f.useMemo(()=>M||!be?"hidden":I||j?"disabled":"enabled",[M,be,I,j]),at=Y(Be),hn=f.useMemo(()=>T&&!Ke?[]:["cancel","nextOrAccept"],[T,Ke]),rt=f.useMemo(()=>({setValue:$,setOpen:Z,clearValue:lt,setValueToToday:It,acceptValueChanges:Ot,cancelValueChanges:he,setView:q,goToNextStep:at}),[$,Z,lt,It,Ot,he,q,at]),qa=f.useMemo(()=>v({},rt,{value:ue,timezone:re,open:B.open,views:b,view:_e,initialView:ve,disabled:I??!1,readOnly:j??!1,autoFocus:_??!1,variant:s,orientation:ce,popupRef:oe,reduceAnimations:W,triggerRef:Pe,triggerStatus:Ze,hasNextStep:Je,fieldFormat:V??"",name:L,label:S,rootSx:F,rootRef:de,rootClassName:E}),[rt,ue,de,s,ce,W,I,j,V,E,L,S,F,Ze,Je,re,B.open,_e,b,ve,_]),Ga=f.useMemo(()=>({dismissViews:me,ownerState:We,hasUIView:be,getCurrentViewMode:nt,rootRefObject:Se,labelId:te,triggerElement:xe,viewContainerRole:u,defaultActionBarActions:hn,onPopperExited:i}),[me,We,be,nt,te,xe,u,hn,i]),Qa=f.useMemo(()=>({formatDensity:O,enableAccessibleFieldDOMStructure:y,selectedSections:k,onSelectedSectionsChange:R,fieldRef:pe}),[O,y,k,R,pe]);return{providerProps:{localeText:d,contextValue:qa,privateContextValue:Ga,actionsContextValue:rt,fieldPrivateContextValue:Qa,isValidContextValue:Ve=>{const ot=o({adapter:ne,value:Ve,timezone:re,props:n});return!t.hasError(ot)}},renderCurrentView:()=>{if(_e==null)return null;const Ve=p[_e];if(Ve==null)return null;const ot=v({},N,{views:b,timezone:re,value:Q,onChange:Ue,view:_e,onViewChange:q,showViewSwitcher:Ge>1,timeViewsCount:Ge},u==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:J,onFocusedViewChange:le});return l?a.jsx(l,{viewRenderers:p,popperView:_e,rendererProps:ot}):Ve(ot)},ownerState:We}};function na(e){return Ne("MuiPickersLayout",e)}const vt=Le("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Bl=["actions"],$l=K(So,{name:"MuiPickersLayout",slot:"ActionBar"})({});function zl(e){const{actions:n}=e,t=se(e,Bl),r=wt(),{clearValue:s,setValueToToday:o,acceptValueChanges:i,cancelValueChanges:c,goToNextStep:l,hasNextStep:d}=qt();if(n==null||n.length===0)return null;const u=n==null?void 0:n.map(x=>{switch(x){case"clear":return a.jsx(ze,{onClick:s,children:r.clearButtonLabel},x);case"cancel":return a.jsx(ze,{onClick:c,children:r.cancelButtonLabel},x);case"accept":return a.jsx(ze,{onClick:i,children:r.okButtonLabel},x);case"today":return a.jsx(ze,{onClick:o,children:r.todayButtonLabel},x);case"next":return a.jsx(ze,{onClick:l,children:r.nextStepButtonLabel},x);case"nextOrAccept":return d?a.jsx(ze,{onClick:l,children:r.nextStepButtonLabel},x):a.jsx(ze,{onClick:i,children:r.okButtonLabel},x);default:return null}});return a.jsx($l,v({},t,{children:u}))}const _l=f.memo(zl),sn=36,Cn=2,jn=320,Wl=280,hr=336,Hl=["items","changeImportance"],Yl=["getValue"],Ul=K(Gn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function ql(e){const{items:n,changeImportance:t="accept"}=e,r=se(e,Hl),{setValue:s}=hl(),o=Gi();if(n==null||n.length===0)return null;const i=n.map(c=>{let{getValue:l}=c,d=se(c,Yl);const u=l({isValid:o});return v({},d,{label:d.label,onClick:()=>{s(u,{changeImportance:t,shortcut:d})},disabled:!o(u)})});return a.jsx(Ul,v({dense:!0,sx:[{maxHeight:hr,maxWidth:200,overflow:"auto"},...Array.isArray(r.sx)?r.sx:[r.sx]]},r,{children:i.map(c=>a.jsx(qn,{children:a.jsx(Qe,v({},c))},c.id??c.label))}))}const Gl=["ownerState"];function Ql(e){return e.view!==null}const Xl=(e,n)=>{const{pickerOrientation:t}=n;return Ie({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},na,e)},Kl=e=>{const{ownerState:n,defaultActionBarActions:t}=qe(),{view:r}=qt(),s=yt(),{children:o,slots:i,slotProps:c,classes:l}=e,d=f.useMemo(()=>v({},n,{layoutDirection:s?"rtl":"ltr"}),[n,s]),u=Xl(l,d),x=(i==null?void 0:i.actionBar)??_l,b=we({elementType:x,externalSlotProps:c==null?void 0:c.actionBar,additionalProps:{actions:t},className:u.actionBar,ownerState:d}),m=se(b,Gl),h=a.jsx(x,v({},m)),D=i==null?void 0:i.toolbar,p=we({elementType:D,externalSlotProps:c==null?void 0:c.toolbar,className:u.toolbar,ownerState:d}),g=Ql(p)&&D?a.jsx(D,v({},p)):null,w=o,M=i==null?void 0:i.tabs,T=r&&M?a.jsx(M,v({className:u.tabs},c==null?void 0:c.tabs)):null,I=(i==null?void 0:i.shortcuts)??ql,j=we({elementType:I,externalSlotProps:c==null?void 0:c.shortcuts,className:u.shortcuts,ownerState:d}),O=r&&I?a.jsx(I,v({},j)):null;return{toolbar:g,content:w,tabs:T,actionBar:h,shortcuts:O,ownerState:d}},Zl=(e,n)=>{const{pickerOrientation:t}=n;return Ie({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},na,e)},Jl=K("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${vt.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${vt.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${vt.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${vt.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${vt.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${vt.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${vt.shortcuts}`]:{gridColumn:3}}}]}),ec=K("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),ra=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersLayout"}),{toolbar:s,content:o,tabs:i,actionBar:c,shortcuts:l,ownerState:d}=Kl(r),{orientation:u,variant:x}=qt(),{sx:b,className:m,classes:h}=r,D=Zl(h,d);return a.jsxs(Jl,{ref:t,sx:b,className:He(D.root,m),ownerState:d,children:[u==="landscape"?l:s,u==="landscape"?s:l,a.jsx(ec,{className:D.contentWrapper,ownerState:d,children:x==="desktop"?a.jsxs(f.Fragment,{children:[o,i]}):a.jsxs(f.Fragment,{children:[i,o]})}),c]})});function mr(e){const{ownerState:n}=qe(),t=yt();return f.useMemo(()=>v({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:t?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,t])}const tc=Ye(a.jsx("path",{d:"M7 10l5 5 5-5z"})),nc=Ye(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),rc=Ye(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),sc=Ye(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Ye(a.jsxs(f.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Ye(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Ye(a.jsxs(f.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const ac=Ye(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function oc(e){return Ne("MuiPickersTextField",e)}Le("MuiPickersTextField",["root","focused","disabled","error","required"]);function ic(e){return Ne("MuiPickersInputBase",e)}const zt=Le("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function lc(e){return Ne("MuiPickersSectionList",e)}const Zt=Le("MuiPickersSectionList",["root","section","sectionContent"]),cc=["slots","slotProps","elements","sectionListRef","classes"],sa=K("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),aa=K("span",{name:"MuiPickersSectionList",slot:"Section"})({}),oa=K("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),ia=K("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),dc=e=>Ie({root:["root"],section:["section"],sectionContent:["sectionContent"]},lc,e);function uc(e){const{slots:n,slotProps:t,element:r,classes:s}=e,{ownerState:o}=qe(),i=(n==null?void 0:n.section)??aa,c=we({elementType:i,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:r.container,className:s.section,ownerState:o}),l=(n==null?void 0:n.sectionContent)??ia,d=we({elementType:l,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:o}),u=(n==null?void 0:n.sectionSeparator)??oa,x=we({elementType:u,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.before,ownerState:v({},o,{separatorPosition:"before"})}),b=we({elementType:u,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.after,ownerState:v({},o,{separatorPosition:"after"})});return a.jsxs(i,v({},c,{children:[a.jsx(u,v({},x)),a.jsx(l,v({},d)),a.jsx(u,v({},b))]}))}const hc=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersSectionList"}),{slots:s,slotProps:o,elements:i,sectionListRef:c,classes:l}=r,d=se(r,cc),u=dc(l),{ownerState:x}=qe(),b=f.useRef(null),m=tt(t,b),h=g=>{if(!b.current)throw new Error(`MUI X: Cannot call sectionListRef.${g} before the mount of the component.`);return b.current};f.useImperativeHandle(c,()=>({getRoot(){return h("getRoot")},getSectionContainer(g){return h("getSectionContainer").querySelector(`.${Zt.section}[data-sectionindex="${g}"]`)},getSectionContent(g){return h("getSectionContent").querySelector(`.${Zt.section}[data-sectionindex="${g}"] .${Zt.sectionContent}`)},getSectionIndexFromDOMElement(g){const w=h("getSectionIndexFromDOMElement");if(g==null||!w.contains(g))return null;let M=null;return g.classList.contains(Zt.section)?M=g:g.classList.contains(Zt.sectionContent)&&(M=g.parentElement),M==null?null:Number(M.dataset.sectionindex)}}));const D=(s==null?void 0:s.root)??sa,p=we({elementType:D,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:d,additionalProps:{ref:m,suppressContentEditableWarning:!0},className:u.root,ownerState:x});return a.jsx(D,v({},p,{children:p.contentEditable?i.map(({content:g,before:w,after:M})=>`${w.children}${g.children}${M.children}`).join(""):a.jsx(f.Fragment,{children:i.map((g,w)=>a.jsx(uc,{slots:s,slotProps:o,element:g,classes:u},w))})}))}),la=f.createContext(null),In=()=>{const e=f.useContext(la);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},mc=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],fc=e=>Math.round(e*1e5)/1e5,On=K("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>v({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${fc(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),fr=K(sa,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),pc=K(aa,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),gc=K(ia,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),xc=K(oa,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),yc=K("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(v({},po)),bc=K("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),wc=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldReadOnly:s,hasFieldError:o,inputSize:i,isInputInFullWidth:c,inputColor:l,hasStartAdornment:d,hasEndAdornment:u}=n,x={root:["root",t&&!r&&"focused",r&&"disabled",s&&"readOnly",o&&"error",c&&"fullWidth",`color${yn(l)}`,i==="small"&&"inputSizeSmall",d&&"adornedStart",u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Ie(x,ic,e)};function Qr(e,n,t,r){var s;if(e.content.id){const o=(s=n.current)==null?void 0:s.querySelectorAll(`[data-sectionindex="${t}"] [data-range-position="${r}"]`);if(o)return Array.from(o).reduce((i,c)=>i+c.offsetWidth,0)}return 0}function vc(e,n){var s,o,i,c,l;let t=0;if(((s=n.current)==null?void 0:s.getAttribute("data-active-range-position"))==="end")for(let d=e.length-1;d>=e.length/2;d-=1)t+=Qr(e[d],n,d,"end");else for(let d=0;d<e.length/2;d+=1)t+=Qr(e[d],n,d,"start");return{activeBarWidth:t,sectionOffsets:[((i=(o=n.current)==null?void 0:o.querySelector('[data-sectionindex="0"]'))==null?void 0:i.offsetLeft)||0,((l=(c=n.current)==null?void 0:c.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:l.offsetLeft)||0]}}const pr=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:o,value:i,onChange:c,id:l,endAdornment:d,startAdornment:u,renderSuffix:x,slots:b,slotProps:m,contentEditable:h,tabIndex:D,onInput:p,onPaste:g,onKeyDown:w,name:M,readOnly:T,inputProps:I,inputRef:j,sectionListRef:O,onFocus:y,onBlur:k,classes:R,ownerState:V}=r,S=se(r,mc),_=In(),L=f.useRef(null),E=f.useRef(null),F=f.useRef([]),N=tt(t,L),te=tt(I==null?void 0:I.ref,j),H=bs();if(!H)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const ne=V??_,W=re=>{var B;(B=H.onFocus)==null||B.call(H,re),y==null||y(re)},ce=re=>{W(re)},ve=re=>{var B,Z;if(w==null||w(re),re.key==="Enter"&&!re.defaultMuiPrevented){if((B=L.current)!=null&&B.dataset.multiInput)return;const $=(Z=L.current)==null?void 0:Z.closest("form"),ae=$==null?void 0:$.querySelector('[type="submit"]');if(!$||!ae)return;re.preventDefault(),$.requestSubmit(ae)}},xe=re=>{var B;(B=H.onBlur)==null||B.call(H,re),k==null||k(re)};f.useEffect(()=>{H&&H.setAdornedStart(!!u)},[H,u]),f.useEffect(()=>{H&&(o?H.onEmpty():H.onFilled())},[H,o]);const Pe=wc(R,ne),oe=(b==null?void 0:b.root)||On,pe=we({elementType:oe,externalSlotProps:m==null?void 0:m.root,externalForwardedProps:S,additionalProps:{"aria-invalid":H.error,ref:N},className:Pe.root,ownerState:ne}),Se=(b==null?void 0:b.input)||fr,de=s.some(re=>re.content["data-range-position"]!==void 0);return f.useEffect(()=>{if(!de||!ne.isPickerOpen)return;const{activeBarWidth:re,sectionOffsets:B}=vc(s,L);F.current=[B[0],B[1]],E.current&&(E.current.style.width=`${re}px`)},[s,de,ne.isPickerOpen]),a.jsxs(oe,v({},pe,{children:[u,a.jsx(hc,{sectionListRef:O,elements:s,contentEditable:h,tabIndex:D,className:Pe.sectionsContainer,onFocus:W,onBlur:xe,onInput:p,onPaste:g,onKeyDown:ve,slots:{root:Se,section:pc,sectionContent:gc,sectionSeparator:xc},slotProps:{root:v({},m==null?void 0:m.input,{ownerState:ne}),sectionContent:{className:zt.sectionContent},sectionSeparator:({separatorPosition:re})=>({className:re==="before"?zt.sectionBefore:zt.sectionAfter})}}),d,x?x(v({},H)):null,a.jsx(yc,v({name:M,className:Pe.input,value:i,onChange:c,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:T,required:H.required,disabled:H.disabled,onFocus:ce},I,{ref:te})),de&&a.jsx(bc,{className:Pe.activeBar,ref:E,ownerState:{sectionOffsets:F.current}})]}))});function Tc(e){return Ne("MuiPickersOutlinedInput",e)}const it=v({},zt,Le("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Dc=["children","className","label","notched","shrink"],Pc=K("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),Xr=K("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),Sc=K("legend",{shouldForwardProp:e=>kt(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Mc(e){const{className:n,label:t,notched:r}=e,s=se(e,Dc),o=In();return a.jsx(Pc,v({"aria-hidden":!0,className:n},s,{ownerState:o,children:a.jsx(Sc,{ownerState:o,notched:r,children:t?a.jsx(Xr,{children:t}):a.jsx(Xr,{className:"notranslate",children:"​"})})}))}const kc=["label","autoFocus","ownerState","classes","notched"],Cc=K(On,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${it.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${it.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${it.focused} .${it.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${it.disabled}`]:{[`& .${it.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${it.error} .${it.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(t=>{var r;return((r=(e.vars??e).palette[t])==null?void 0:r.main)??!1}).map(t=>({props:{inputColor:t},style:{[`&.${it.focused}:not(.${it.error}) .${it.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}}))}}),jc=K(fr,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),Ic=e=>{const t=Ie({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Tc,e);return v({},e,t)},ca=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersOutlinedInput"}),{label:s,classes:o,notched:i}=r,c=se(r,kc),l=bs(),d=Ic(o);return a.jsx(pr,v({slots:{root:Cc,input:jc},renderSuffix:u=>a.jsx(Mc,{shrink:!!(i||u.adornedStart||u.focused||u.filled),notched:!!(i||u.adornedStart||u.focused||u.filled),className:d.notchedOutline,label:s!=null&&s!==""&&(l!=null&&l.required)?a.jsxs(f.Fragment,{children:[s," ","*"]}):s})},c,{label:s,classes:d,ref:t}))});ca.muiName="Input";function Oc(e){return Ne("MuiPickersFilledInput",e)}const Tt=v({},zt,Le("MuiPickersFilledInput",["root","underline","input"])),Rc=["label","autoFocus","disableUnderline","hiddenLabel","classes"],Ec=K(On,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Tt.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Tt.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((e.vars??e).palette).filter(i=>(e.vars??e).palette[i].main).map(i=>{var c;return{props:{inputColor:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(e.vars||e).palette[i])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Tt.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Tt.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Tt.disabled}, .${Tt.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Tt.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),Ac=K(fr,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>kt(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Fc=(e,n)=>{const{inputHasUnderline:t}=n,s=Ie({root:["root",t&&"underline"],input:["input"]},Oc,e);return v({},e,s)},da=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersFilledInput"}),{label:s,disableUnderline:o=!1,hiddenLabel:i=!1,classes:c}=r,l=se(r,Rc),d=In(),u=v({},d,{inputHasUnderline:!o}),x=Fc(c,u);return a.jsx(pr,v({slots:{root:Ec,input:Ac},slotProps:{root:{disableUnderline:o},input:{hiddenLabel:i}}},l,{label:s,classes:x,ref:t,ownerState:u}))});da.muiName="Input";function Vc(e){return Ne("MuiPickersFilledInput",e)}const Jt=v({},zt,Le("MuiPickersInput",["root","underline","input"])),Lc=["label","autoFocus","disableUnderline","ownerState","classes"],Nc=K(On,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="disableUnderline"})(({theme:e})=>{let t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{inputColor:r},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Jt.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Jt.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Jt.disabled}, .${Jt.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${Jt.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Bc=(e,n)=>{const{inputHasUnderline:t}=n,s=Ie({root:["root",!t&&"underline"],input:["input"]},Vc,e);return v({},e,s)},ua=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersInput"}),{label:s,disableUnderline:o=!1,classes:i}=r,c=se(r,Lc),l=In(),d=v({},l,{inputHasUnderline:!o}),u=Bc(i,d);return a.jsx(pr,v({slots:{root:Nc},slotProps:{root:{disableUnderline:o}}},c,{label:s,classes:u,ref:t}))});ua.muiName="Input";const $c=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],zc={standard:ua,filled:da,outlined:ca},_c=K(ps,{name:"MuiPickersTextField",slot:"Root"})({}),Wc=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldRequired:s}=n;return Ie({root:["root",t&&!r&&"focused",r&&"disabled",s&&"required"]},oc,e)},ha=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersTextField"}),{onFocus:s,onBlur:o,className:i,classes:c,color:l="primary",disabled:d=!1,error:u=!1,variant:x="outlined",required:b=!1,InputProps:m,inputProps:h,inputRef:D,sectionListRef:p,elements:g,areAllSectionsEmpty:w,onClick:M,onKeyDown:T,onKeyUp:I,onPaste:j,onInput:O,endAdornment:y,startAdornment:k,tabIndex:R,contentEditable:V,focused:S,value:_,onChange:L,fullWidth:E,id:F,name:N,helperText:te,FormHelperTextProps:H,label:ne,InputLabelProps:W,"data-active-range-position":ce}=r,ve=se(r,$c),xe=f.useRef(null),Pe=tt(t,xe),oe=Sn(F),pe=te&&oe?`${oe}-helper-text`:void 0,Se=ne&&oe?`${oe}-label`:void 0,de=mr({disabled:r.disabled,required:r.required,readOnly:m==null?void 0:m.readOnly}),re=f.useMemo(()=>v({},de,{isFieldValueEmpty:w,isFieldFocused:S??!1,hasFieldError:u??!1,inputSize:r.size??"medium",inputColor:l??"primary",isInputInFullWidth:E??!1,hasStartAdornment:!!(k??(m==null?void 0:m.startAdornment)),hasEndAdornment:!!(y??(m==null?void 0:m.endAdornment)),inputHasLabel:!!ne}),[de,w,S,u,r.size,l,E,k,y,m==null?void 0:m.startAdornment,m==null?void 0:m.endAdornment,ne]),B=Wc(c,re),Z=zc[x];return a.jsx(la.Provider,{value:re,children:a.jsxs(_c,v({className:He(B.root,i),ref:Pe,focused:S,disabled:d,variant:x,error:u,color:l,fullWidth:E,required:b,ownerState:re},ve,{children:[ne!=null&&ne!==""&&a.jsx(gs,v({htmlFor:oe,id:Se},W,{children:ne})),a.jsx(Z,v({elements:g,areAllSectionsEmpty:w,onClick:M,onKeyDown:T,onKeyUp:I,onInput:O,onPaste:j,onFocus:s,onBlur:o,endAdornment:y,startAdornment:k,tabIndex:R,contentEditable:V,value:_,onChange:L,id:oe,fullWidth:E,inputProps:h,inputRef:D,sectionListRef:p,label:ne,name:N,role:"group","aria-labelledby":Se,"aria-describedby":pe,"aria-live":pe?"polite":void 0,"data-active-range-position":ce},m)),te&&a.jsx(Mo,v({id:pe},H,{children:te}))]}))})}),Hc=["enableAccessibleFieldDOMStructure"],Yc=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Uc=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],qc=["ownerState"],Gc=["ownerState"],Qc=["ownerState"],Xc=["ownerState"],Kc=["InputProps","inputProps"],Zc=e=>{let{enableAccessibleFieldDOMStructure:n}=e,t=se(e,Hc);if(n){const{InputProps:p,readOnly:g,onClear:w,clearable:M,clearButtonPosition:T,openPickerButtonPosition:I,openPickerAriaLabel:j}=t,O=se(t,Yc);return{clearable:M,onClear:w,clearButtonPosition:T,openPickerButtonPosition:I,openPickerAriaLabel:j,textFieldProps:v({},O,{InputProps:v({},p??{},{readOnly:g})})}}const{onPaste:r,onKeyDown:s,inputMode:o,readOnly:i,InputProps:c,inputProps:l,inputRef:d,onClear:u,clearable:x,clearButtonPosition:b,openPickerButtonPosition:m,openPickerAriaLabel:h}=t,D=se(t,Uc);return{clearable:x,onClear:u,clearButtonPosition:b,openPickerButtonPosition:m,openPickerAriaLabel:h,textFieldProps:v({},D,{InputProps:v({},c??{},{readOnly:i}),inputProps:v({},l??{},{inputMode:o,onPaste:r,onKeyDown:s,ref:d})})}},gr=f.createContext({slots:{},slotProps:{},inputRef:void 0});function Jc(e){var H,ne;const{slots:n,slotProps:t,fieldResponse:r,defaultOpenPickerIcon:s}=e,o=wt(),i=ur(),c=f.useContext(gr),{textFieldProps:l,onClear:d,clearable:u,openPickerAriaLabel:x,clearButtonPosition:b="end",openPickerButtonPosition:m="end"}=Zc(r),h=mr(l),D=Y(W=>{W.preventDefault(),i==null||i.setOpen(ce=>!ce)}),p=i?i.triggerStatus:"hidden",g=u?b:null,w=p!=="hidden"?m:null,M=(n==null?void 0:n.textField)??c.slots.textField??(r.enableAccessibleFieldDOMStructure===!1?xs:ha),T=(n==null?void 0:n.inputAdornment)??c.slots.inputAdornment??ys,I=we({elementType:T,externalSlotProps:xn(c.slotProps.inputAdornment,t==null?void 0:t.inputAdornment),additionalProps:{position:"start"},ownerState:v({},h,{position:"start"})}),j=se(I,qc),O=we({elementType:T,externalSlotProps:t==null?void 0:t.inputAdornment,additionalProps:{position:"end"},ownerState:v({},h,{position:"end"})}),y=se(O,Gc),k=c.slots.openPickerButton??St,R=we({elementType:k,externalSlotProps:c.slotProps.openPickerButton,additionalProps:{disabled:p==="disabled",onClick:D,"aria-label":x,edge:l.variant!=="standard"?w:!1},ownerState:h}),V=se(R,Qc),S=c.slots.openPickerIcon??s,_=we({elementType:S,externalSlotProps:c.slotProps.openPickerIcon,ownerState:h}),L=(n==null?void 0:n.clearButton)??c.slots.clearButton??St,E=we({elementType:L,externalSlotProps:xn(c.slotProps.clearButton,t==null?void 0:t.clearButton),className:"clearButton",additionalProps:{title:o.fieldClearLabel,tabIndex:-1,onClick:d,disabled:r.disabled||r.readOnly,edge:l.variant!=="standard"&&g!==w?g:!1},ownerState:h}),F=se(E,Xc),N=(n==null?void 0:n.clearIcon)??c.slots.clearIcon??ac,te=we({elementType:N,externalSlotProps:xn(c.slotProps.clearIcon,t==null?void 0:t.clearIcon),additionalProps:{fontSize:"small"},ownerState:h});return l.ref=tt(l.ref,i==null?void 0:i.rootRef),l.InputProps||(l.InputProps={}),i&&(l.InputProps.ref=i.triggerRef),!((H=l.InputProps)!=null&&H.startAdornment)&&(g==="start"||w==="start")&&(l.InputProps.startAdornment=a.jsxs(T,v({},j,{children:[w==="start"&&a.jsx(k,v({},V,{children:a.jsx(S,v({},_))})),g==="start"&&a.jsx(L,v({},F,{children:a.jsx(N,v({},te))}))]}))),!((ne=l.InputProps)!=null&&ne.endAdornment)&&(g==="end"||w==="end")&&(l.InputProps.endAdornment=a.jsxs(T,v({},y,{children:[g==="end"&&a.jsx(L,v({},F,{children:a.jsx(N,v({},te))})),w==="end"&&a.jsx(k,v({},V,{children:a.jsx(S,v({},_))}))]}))),g!=null&&(l.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(l.sx)?l.sx:[l.sx]]),a.jsx(M,v({},l))}function xn(e,n){return e?n?t=>v({},bn(n,t),bn(e,t)):e:n}function ed(e){const{ref:n,externalForwardedProps:t,slotProps:r}=e,s=f.useContext(gr),o=ur(),i=mr(t),{InputProps:c,inputProps:l}=t,d=se(t,Kc),u=we({elementType:ha,externalSlotProps:xn(s.slotProps.textField,r==null?void 0:r.textField),externalForwardedProps:d,additionalProps:{ref:n,sx:o==null?void 0:o.rootSx,label:o==null?void 0:o.label,name:o==null?void 0:o.name,className:o==null?void 0:o.rootClassName,inputRef:s.inputRef},ownerState:i});return u.inputProps=v({},l,u.inputProps),u.InputProps=v({},c,u.InputProps),u}function ma(e){const{slots:n={},slotProps:t={},inputRef:r,children:s}=e,o=f.useMemo(()=>({inputRef:r,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton}}),[r,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton]);return a.jsx(gr.Provider,{value:o,children:s})}function fa(e){const{steps:n}=e;return Fl({steps:n,isViewMatchingStep:(t,r)=>r.views==null||r.views.includes(t),onStepChange:({step:t,defaultView:r,setView:s,view:o,views:i})=>{const c=t.views==null?r:t.views.find(l=>i.includes(l));c!==o&&s(c)}})}const td=["props","steps"],nd=["ownerState"],rd=e=>{var j;let{props:n,steps:t}=e,r=se(e,td);const{slots:s,slotProps:o,label:i,inputRef:c,localeText:l}=n,d=fa({steps:t}),{providerProps:u,renderCurrentView:x,ownerState:b}=ta(v({},r,{props:n,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:d})),m=u.privateContextValue.labelId,h=((j=o==null?void 0:o.toolbar)==null?void 0:j.hidden)??!1,D=s.field,p=we({elementType:D,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},h&&{id:m}),ownerState:b}),g=se(p,nd),w=s.layout??ra;let M=m;h&&(i?M=`${m}-label`:M=void 0);const T=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:m}),popper:v({"aria-labelledby":M},o==null?void 0:o.popper)});return{renderPicker:()=>a.jsx(Hs,v({},u,{children:a.jsxs(ma,{slots:s,slotProps:T,inputRef:c,children:[a.jsx(D,v({},g)),a.jsx(Rl,{slots:s,slotProps:T,children:a.jsx(w,v({},T==null?void 0:T.layout,{slots:s,slotProps:T,children:x()}))})]})}))}},Ft=e=>e.saveQuery!=null,pa=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:t,timezone:r,setCharacterQuery:s,setTempAndroidValueStr:o,updateSectionValue:i}})=>{const c=Me(),l=({keyPressed:x,sectionIndex:b},m,h)=>{const D=x.toLowerCase(),p=t.sections[b];if(t.characterQuery!=null&&(!h||h(t.characterQuery.value))&&t.characterQuery.sectionIndex===b){const w=`${t.characterQuery.value}${D}`,M=m(w,p);if(!Ft(M))return s({sectionIndex:b,value:w,sectionType:p.type}),M}const g=m(D,p);return Ft(g)&&!g.saveQuery?(s(null),null):(s({sectionIndex:b,value:D,sectionType:p.type}),Ft(g)?null:g)},d=x=>{const b=(D,p,g)=>{const w=p.filter(M=>M.toLowerCase().startsWith(g));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},m=(D,p,g,w)=>{const M=T=>Fs(c,r,p.type,T);if(p.contentType==="letter")return b(p.format,M(p.format),D);if(g&&w!=null&&As(c,g).contentType==="letter"){const T=M(g),I=b(g,T,D);return Ft(I)?{saveQuery:!1}:v({},I,{sectionValue:w(I.sectionValue,T)})}return{saveQuery:!1}};return l(x,(D,p)=>{switch(p.type){case"month":{const g=w=>_r(c,w,c.formats.month,p.format);return m(D,p,c.formats.month,g)}case"weekDay":{const g=(w,M)=>M.indexOf(w).toString();return m(D,p,c.formats.weekday,g)}case"meridiem":return m(D,p);default:return{saveQuery:!1}}})},u=x=>{const b=(h,D)=>{const p=Mt(h,e),g=Number(p),w=n[D.type]({currentDate:null,format:D.format,contentType:D.contentType});if(g>w.maximum)return{saveQuery:!1};if(g<w.minimum)return{saveQuery:!0};const M=g*10>w.maximum||p.length===w.maximum.toString().length;return{sectionValue:Vs(c,g,w,e,D),shouldGoToNextSection:M}};return l(x,(h,D)=>{if(D.contentType==="digit"||D.contentType==="digit-with-letter")return b(h,D);if(D.type==="month"){Ls(c,"digit","month","MM");const p=b(h,{type:D.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Ft(p))return p;const g=_r(c,p.sectionValue,"MM",D.format);return v({},p,{sectionValue:g})}if(D.type==="weekDay"){const p=b(h,D);if(Ft(p))return p;const g=Mn(c,D.format)[Number(p.sectionValue)-1];return v({},p,{sectionValue:g})}return{saveQuery:!1}},h=>zr(h,e))};return Y(x=>{const b=t.sections[x.sectionIndex],h=zr(x.keyPressed,e)?u(v({},x,{keyPressed:ir(x.keyPressed,e)})):d(x);if(h==null){o(null);return}i({section:b,newSectionValue:h.sectionValue,shouldGoToNextSection:h.shouldGoToNextSection})})},sd=5e3,ga=e=>{var ge;const n=Me(),t=wt(),r=Ct(),s=yt(),{manager:{validator:o,valueType:i,internal_valueManager:c,internal_fieldValueManager:l},internalPropsWithDefaults:d,internalPropsWithDefaults:{value:u,defaultValue:x,referenceDate:b,onChange:m,format:h,formatDensity:D="dense",selectedSections:p,onSelectedSectionsChange:g,shouldRespectLeadingZeros:w=!1,timezone:M,enableAccessibleFieldDOMStructure:T=!0},forwardedProps:{error:I}}=e,{value:j,handleValueChange:O,timezone:y}=dn({name:"a field component",timezone:M,value:u,defaultValue:x,referenceDate:b,onChange:m,valueManager:c}),k=f.useRef(j);f.useEffect(()=>{k.current=j},[j]);const{hasValidationError:R}=Xs({props:d,validator:o,timezone:y,value:j,onError:d.onError}),V=f.useMemo(()=>I!==void 0?I:R,[R,I]),S=f.useMemo(()=>Fi(n),[n]),_=f.useMemo(()=>$i(n,S,y),[n,S,y]),L=f.useCallback(q=>l.getSectionsFromValue(q,ie=>Yr({utils:n,localeText:t,localizedDigits:S,format:h,date:ie,formatDensity:D,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:T,isRtl:s})),[l,h,t,S,s,w,n,D,T]),[E,F]=f.useState(()=>{const q=L(j),ie={sections:q,lastExternalValue:j,lastSectionsDependencies:{format:h,isRtl:s,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},J=Ri(q),le=c.getInitialReferenceValue({referenceDate:b,value:j,utils:n,props:d,granularity:J,timezone:y});return v({},ie,{referenceValue:le})}),[N,te]=Yt({controlled:p,default:null,name:"useField",state:"selectedSections"}),H=q=>{te(q),g==null||g(q)},ne=f.useMemo(()=>Qn(N,E.sections),[N,E.sections]),W=ne==="all"?0:ne,ce=f.useMemo(()=>Wi(E.sections,s&&!T),[E.sections,s,T]),ve=f.useMemo(()=>E.sections.every(q=>q.value===""),[E.sections]),xe=q=>{const ie={validationError:o({adapter:r,value:q,timezone:y,props:d})};O(q,ie)},Pe=(q,ie)=>{const J=[...E.sections];return J[q]=v({},J[q],{value:ie,modified:!0}),J},oe=f.useRef(null),pe=Bt(),Se=q=>{W!=null&&(oe.current={sectionIndex:W,value:q},pe.start(0,()=>{oe.current=null}))},de=()=>{c.areValuesEqual(n,j,c.emptyValue)?F(q=>v({},q,{sections:q.sections.map(ie=>v({},ie,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(F(q=>v({},q,{characterQuery:null})),xe(c.emptyValue))},re=()=>{if(W==null)return;const q=E.sections[W];q.value!==""&&(Se(""),l.getDateFromSection(j,q)===null?F(ie=>v({},ie,{sections:Pe(W,""),tempValueStrAndroid:null,characterQuery:null})):(F(ie=>v({},ie,{characterQuery:null})),xe(l.updateDateInValue(j,q,null))))},B=q=>{const ie=(le,Ue)=>{const Be=n.parse(le,h);if(!n.isValid(Be))return null;const Je=Yr({utils:n,localeText:t,localizedDigits:S,format:h,date:Be,formatDensity:D,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:T,isRtl:s});return Hr(n,Be,Je,Ue,!1)},J=l.parseValueStr(q,E.referenceValue,ie);xe(J)},Z=Bt(),$=({section:q,newSectionValue:ie,shouldGoToNextSection:J})=>{pe.clear(),Z.clear();const le=l.getDateFromSection(j,q);J&&W<E.sections.length-1&&H(W+1);const Ue=Pe(W,ie),Be=l.getDateSectionsFromValue(Ue,q),Je=Li(n,Be,S);if(n.isValid(Je)){const Ke=Hr(n,Je,Be,l.getDateFromSection(E.referenceValue,q),!0);return le==null&&Z.start(0,()=>{k.current===j&&F(lt=>v({},lt,{sections:l.clearDateSections(E.sections,q),tempValueStrAndroid:null}))}),xe(l.updateDateInValue(j,q,Ke))}return Be.every(Ke=>Ke.value!=="")?(Se(ie),xe(l.updateDateInValue(j,q,Je))):le!=null?(Se(ie),xe(l.updateDateInValue(j,q,null))):F(Ke=>v({},Ke,{sections:Ue,tempValueStrAndroid:null}))},ae=q=>F(ie=>v({},ie,{tempValueStrAndroid:q})),ue=Y(q=>{F(ie=>v({},ie,{characterQuery:q}))});if(j!==E.lastExternalValue){let q;oe.current!=null&&!n.isValid(l.getDateFromSection(j,E.sections[oe.current.sectionIndex]))?q=Pe(oe.current.sectionIndex,oe.current.value):q=L(j),F(ie=>v({},ie,{lastExternalValue:j,sections:q,sectionsDependencies:{format:h,isRtl:s,locale:n.locale},referenceValue:l.updateReferenceValue(n,j,ie.referenceValue),tempValueStrAndroid:null}))}if(s!==E.lastSectionsDependencies.isRtl||h!==E.lastSectionsDependencies.format||n.locale!==E.lastSectionsDependencies.locale){const q=L(j);F(ie=>v({},ie,{lastSectionsDependencies:{format:h,isRtl:s,locale:n.locale},sections:q,tempValueStrAndroid:null,characterQuery:null}))}E.characterQuery!=null&&!V&&W==null&&ue(null),E.characterQuery!=null&&((ge=E.sections[E.characterQuery.sectionIndex])==null?void 0:ge.type)!==E.characterQuery.sectionType&&ue(null),f.useEffect(()=>{oe.current!=null&&(oe.current=null)});const Q=Bt();return f.useEffect(()=>(E.characterQuery!=null&&Q.start(sd,()=>ue(null)),()=>{}),[E.characterQuery,ue,Q]),f.useEffect(()=>{E.tempValueStrAndroid!=null&&W!=null&&re()},[E.sections]),{activeSectionIndex:W,areAllSectionsEmpty:ve,error:V,localizedDigits:S,parsedSelectedSections:ne,sectionOrder:ce,sectionsValueBoundaries:_,state:E,timezone:y,value:j,clearValue:de,clearActiveSection:re,setCharacterQuery:ue,setSelectedSections:H,setTempAndroidValueStr:ae,updateSectionValue:$,updateValueFromValueStr:B,getSectionsFromValue:L}};function xa(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:t,skipContextFieldRefAssignment:r}=e,s=ur(),o=zs(),i=tt(t.unstableFieldRef,r?null:o==null?void 0:o.fieldRef),c=s==null?void 0:s.setValue,l=f.useCallback((u,x)=>c==null?void 0:c(u,{validationError:x.validationError,shouldClose:!1}),[c]),d=f.useMemo(()=>o!=null&&s!=null?v({value:s.value,onChange:l,timezone:s.timezone,disabled:s.disabled,readOnly:s.readOnly,autoFocus:s.autoFocus&&!s.open,focused:s.open?!0:void 0,format:s.fieldFormat,formatDensity:o.formatDensity,enableAccessibleFieldDOMStructure:o.enableAccessibleFieldDOMStructure,selectedSections:o.selectedSections,onSelectedSectionsChange:o.onSelectedSectionsChange,unstableFieldRef:i},t):t,[s,o,t,l,i]);return n(d)}function xr(e){const{focused:n,domGetters:t,stateResponse:{parsedSelectedSections:r,state:s}}=e;if(!t.isReady())return;const o=document.getSelection();if(!o)return;if(r==null){o.rangeCount>0&&t.getRoot().contains(o.getRangeAt(0).startContainer)&&o.removeAllRanges(),n&&t.getRoot().blur();return}if(!t.getRoot().contains(Xe(document)))return;const i=new window.Range;let c;r==="all"?c=t.getRoot():s.sections[r].type==="empty"?c=t.getSectionContainer(r):c=t.getSectionContent(r),i.selectNodeContents(c),c.focus(),o.removeAllRanges(),o.addRange(i)}function ya(e){const n=Me(),{manager:{internal_fieldValueManager:t},internalPropsWithDefaults:{minutesStep:r,disabled:s,readOnly:o},stateResponse:{state:i,value:c,activeSectionIndex:l,parsedSelectedSections:d,sectionsValueBoundaries:u,localizedDigits:x,timezone:b,sectionOrder:m,clearValue:h,clearActiveSection:D,setSelectedSections:p,updateSectionValue:g}}=e;return Y(w=>{if(!s)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),p("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),d==null)p(m.startIndex);else if(d==="all")p(m.endIndex);else{const M=m.neighbors[d].rightIndex;M!==null&&p(M)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),d==null)p(m.endIndex);else if(d==="all")p(m.startIndex);else{const M=m.neighbors[d].leftIndex;M!==null&&p(M)}break}case w.key==="Delete":{if(w.preventDefault(),o)break;d==null||d==="all"?h():D();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),o||l==null)break;d==="all"&&p(l);const M=i.sections[l],T=od(n,b,M,w.key,u,x,t.getDateFromSection(c,M),{minutesStep:r});g({section:M,newSectionValue:T,shouldGoToNextSection:!1});break}}})}function ad(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function od(e,n,t,r,s,o,i,c){const l=ad(r),d=r==="Home",u=r==="End",x=t.value===""||d||u,b=()=>{const h=s[t.type]({currentDate:i,format:t.format,contentType:t.contentType}),D=w=>Vs(e,w,h,o,t),p=t.type==="minutes"&&(c!=null&&c.minutesStep)?c.minutesStep:1;let g;if(x){if(t.type==="year"&&!u&&!d)return e.formatByString(e.date(void 0,n),t.format);l>0||d?g=h.minimum:g=h.maximum}else g=parseInt(Mt(t.value,o),10)+l*p;return g%p!==0&&((l<0||d)&&(g+=p-(p+g)%p),(l>0||u)&&(g-=g%p)),g>h.maximum?D(h.minimum+(g-h.maximum-1)%(h.maximum-h.minimum+1)):g<h.minimum?D(h.maximum-(h.minimum-g-1)%(h.maximum-h.minimum+1)):D(g)},m=()=>{const h=Fs(e,n,t.type,t.format);if(h.length===0)return t.value;if(x)return l>0||d?h[0]:h[h.length-1];const g=((h.indexOf(t.value)+l)%h.length+h.length)%h.length;return h[g]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?b():m()}function id(e){const{manager:n,focused:t,setFocused:r,domGetters:s,stateResponse:o,applyCharacterEditing:i,internalPropsWithDefaults:c,stateResponse:{parsedSelectedSections:l,sectionOrder:d,state:u,clearValue:x,setCharacterQuery:b,setSelectedSections:m,updateValueFromValueStr:h},internalPropsWithDefaults:{disabled:D=!1,readOnly:p=!1}}=e,g=ya({manager:n,internalPropsWithDefaults:c,stateResponse:o}),w=Bt(),M=Y(y=>{D||!s.isReady()||(r(!0),l==="all"?w.start(0,()=>{const k=document.getSelection().getRangeAt(0).startOffset;if(k===0){m(d.startIndex);return}let R=0,V=0;for(;V<k&&R<u.sections.length;){const S=u.sections[R];R+=1,V+=`${S.startSeparator}${S.value||S.placeholder}${S.endSeparator}`.length}m(R-1)}):t?s.getRoot().contains(y.target)||m(d.startIndex):(r(!0),m(d.startIndex)))}),T=Y(y=>{if(!s.isReady()||l!=="all")return;const R=y.target.textContent??"";s.getRoot().innerHTML=u.sections.map(V=>`${V.startSeparator}${V.value||V.placeholder}${V.endSeparator}`).join(""),xr({focused:t,domGetters:s,stateResponse:o}),R.length===0||R.charCodeAt(0)===10?(x(),m("all")):R.length>1?h(R):(l==="all"&&m(0),i({keyPressed:R,sectionIndex:0}))}),I=Y(y=>{if(p||l!=="all"){y.preventDefault();return}const k=y.clipboardData.getData("text");y.preventDefault(),b(null),h(k)}),j=Y(()=>{if(t||D||!s.isReady())return;const y=Xe(document);r(!0),s.getSectionIndexFromDOMElement(y)!=null||m(d.startIndex)}),O=Y(()=>{setTimeout(()=>{if(!s.isReady())return;const y=Xe(document);!s.getRoot().contains(y)&&(r(!1),m(null))})});return{onKeyDown:g,onBlur:O,onFocus:j,onClick:M,onPaste:I,onInput:T,contentEditable:l==="all",tabIndex:l===0?-1:0}}function ld(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:t,state:r,updateValueFromValueStr:s}}=e,o=Y(c=>{s(c.target.value)});return{value:f.useMemo(()=>t?"":n.getV7HiddenInputValueFromSections(r.sections),[t,r.sections,n]),onChange:o}}function cd(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:t=!1}}=e,r=Y(s=>o=>{t||o.isDefaultPrevented()||n(s)});return f.useCallback(s=>({"data-sectionindex":s,onClick:r(s)}),[r])}function dd(e){const n=Me(),t=wt(),r=Sn(),{focused:s,domGetters:o,stateResponse:i,applyCharacterEditing:c,manager:{internal_fieldValueManager:l},stateResponse:{parsedSelectedSections:d,sectionsValueBoundaries:u,state:x,value:b,clearActiveSection:m,setCharacterQuery:h,setSelectedSections:D,updateSectionValue:p,updateValueFromValueStr:g},internalPropsWithDefaults:{disabled:w=!1,readOnly:M=!1}}=e,T=d==="all",I=!T&&!w&&!M,j=Y(S=>{if(!o.isReady())return;const _=x.sections[S];o.getSectionContent(S).innerHTML=_.value||_.placeholder,xr({focused:s,domGetters:o,stateResponse:i})}),O=Y(S=>{if(!o.isReady())return;const _=S.target,L=_.textContent??"",E=o.getSectionIndexFromDOMElement(_),F=x.sections[E];if(M){j(E);return}if(L.length===0){if(F.value===""){j(E);return}const N=S.nativeEvent.inputType;if(N==="insertParagraph"||N==="insertLineBreak"){j(E);return}j(E),m();return}c({keyPressed:L,sectionIndex:E}),j(E)}),y=Y(S=>{S.preventDefault()}),k=Y(S=>{if(S.preventDefault(),M||w||typeof d!="number")return;const _=x.sections[d],L=S.clipboardData.getData("text"),E=/^[a-zA-Z]+$/.test(L),F=/^[0-9]+$/.test(L),N=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(L);_.contentType==="letter"&&E||_.contentType==="digit"&&F||_.contentType==="digit-with-letter"&&N?(h(null),p({section:_,newSectionValue:L,shouldGoToNextSection:!0})):!E&&!F&&(h(null),g(L))}),R=Y(S=>{S.preventDefault(),S.dataTransfer.dropEffect="none"}),V=Y(S=>()=>{w||D(S)});return f.useCallback((S,_)=>{const L=u[S.type]({currentDate:l.getDateFromSection(b,S),contentType:S.contentType,format:S.format});return{onInput:O,onPaste:k,onMouseUp:y,onDragOver:R,onFocus:V(_),"aria-labelledby":`${r}-${S.type}`,"aria-readonly":M,"aria-valuenow":hd(S,n),"aria-valuemin":L.minimum,"aria-valuemax":L.maximum,"aria-valuetext":S.value?ud(S,n):t.empty,"aria-label":t[S.type],"aria-disabled":w,tabIndex:T||_>0?-1:0,contentEditable:!T&&!w&&!M,role:"spinbutton",id:`${r}-${S.type}`,"data-range-position":S.dateName||void 0,spellCheck:I?!1:void 0,autoCapitalize:I?"off":void 0,autoCorrect:I?"off":void 0,children:S.value||S.placeholder,inputMode:S.contentType==="letter"?"text":"numeric"}},[u,r,T,w,M,I,t,n,O,k,y,R,V,l,b])}function ud(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const t=n.parse(e.value,e.format);return t?n.format(t,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function hd(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const t=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return t?n.getHours(t)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const t=n.parse(e.value,e.format);return t?n.getMonth(t)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const md=e=>{const{props:n,manager:t,skipContextFieldRefAssignment:r,manager:{valueType:s,internal_useOpenPickerButtonAriaLabel:o}}=e,{internalProps:i,forwardedProps:c}=Qs(n,s),l=xa({manager:t,internalProps:i,skipContextFieldRefAssignment:r}),{sectionListRef:d,onBlur:u,onClick:x,onFocus:b,onInput:m,onPaste:h,onKeyDown:D,onClear:p,clearable:g}=c,{disabled:w=!1,readOnly:M=!1,autoFocus:T=!1,focused:I,unstableFieldRef:j}=l,O=f.useRef(null),y=tt(d,O),k=f.useMemo(()=>({isReady:()=>O.current!=null,getRoot:()=>O.current.getRoot(),getSectionContainer:Q=>O.current.getSectionContainer(Q),getSectionContent:Q=>O.current.getSectionContent(Q),getSectionIndexFromDOMElement:Q=>O.current.getSectionIndexFromDOMElement(Q)}),[O]),R=ga({manager:t,internalPropsWithDefaults:l,forwardedProps:c}),{areAllSectionsEmpty:V,error:S,parsedSelectedSections:_,sectionOrder:L,state:E,value:F,clearValue:N,setSelectedSections:te}=R,H=pa({stateResponse:R}),ne=o(F),[W,ce]=f.useState(!1);function ve(Q=0){if(w||!O.current||Kr(O)!=null)return;const ge=Qn(Q,E.sections);ce(!0),O.current.getSectionContent(ge).focus()}const xe=id({manager:t,internalPropsWithDefaults:l,stateResponse:R,applyCharacterEditing:H,focused:W,setFocused:ce,domGetters:k}),Pe=ld({manager:t,stateResponse:R}),oe=cd({stateResponse:R,internalPropsWithDefaults:l}),pe=dd({manager:t,stateResponse:R,applyCharacterEditing:H,internalPropsWithDefaults:l,domGetters:k,focused:W}),Se=Y(Q=>{D==null||D(Q),xe.onKeyDown(Q)}),de=Y(Q=>{u==null||u(Q),xe.onBlur(Q)}),re=Y(Q=>{b==null||b(Q),xe.onFocus(Q)}),B=Y(Q=>{Q.isDefaultPrevented()||(x==null||x(Q),xe.onClick(Q))}),Z=Y(Q=>{h==null||h(Q),xe.onPaste(Q)}),$=Y(Q=>{m==null||m(Q),xe.onInput(Q)}),ae=Y((Q,...ge)=>{Q.preventDefault(),p==null||p(Q,...ge),N(),Zr(O)?te(L.startIndex):ve(0)}),ue=f.useMemo(()=>E.sections.map((Q,ge)=>{const q=pe(Q,ge);return{container:oe(ge),content:pe(Q,ge),before:{children:Q.startSeparator},after:{children:Q.endSeparator,"data-range-position":Q.isEndFormatSeparator?q["data-range-position"]:void 0}}}),[E.sections,oe,pe]);return f.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));T&&!w&&O.current&&O.current.getSectionContent(L.startIndex).focus()},[]),pt(()=>{if(!(!W||!O.current)){if(_==="all")O.current.getRoot().focus();else if(typeof _=="number"){const Q=O.current.getSectionContent(_);Q&&Q.focus()}}},[_,W]),pt(()=>{xr({focused:W,domGetters:k,stateResponse:R})}),f.useImperativeHandle(j,()=>({getSections:()=>E.sections,getActiveSectionIndex:()=>Kr(O),setSelectedSections:Q=>{if(w||!O.current)return;const ge=Qn(Q,E.sections);ce((ge==="all"?0:ge)!==null),te(Q)},focusField:ve,isFieldFocused:()=>Zr(O)})),v({},c,xe,{onBlur:de,onClick:B,onFocus:re,onInput:$,onPaste:Z,onKeyDown:Se,onClear:ae},Pe,{error:S,clearable:!!(g&&!V&&!M&&!w),focused:I??W,sectionListRef:y,enableAccessibleFieldDOMStructure:!0,elements:ue,areAllSectionsEmpty:V,disabled:w,readOnly:M,autoFocus:T,openPickerAriaLabel:ne})};function Kr(e){const n=Xe(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function Zr(e){const n=Xe(document);return!!e.current&&e.current.getRoot().contains(n)}const Lt=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),fd=(e,n,t)=>{let r=0,s=t?1:0;const o=[];for(let i=0;i<e.length;i+=1){const c=e[i],l=cr(c,t?"input-rtl":"input-ltr",n),d=`${c.startSeparator}${l}${c.endSeparator}`,u=Lt(d).length,x=d.length,b=Lt(l),m=s+(b===""?0:l.indexOf(b[0]))+c.startSeparator.length,h=m+b.length;o.push(v({},c,{start:r,end:r+u,startInInput:m,endInInput:h})),r+=u,s+=x}return o},pd=e=>{const n=yt(),t=Bt(),r=Bt(),{props:s,manager:o,skipContextFieldRefAssignment:i,manager:{valueType:c,internal_valueManager:l,internal_fieldValueManager:d,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:x,forwardedProps:b}=Qs(s,c),m=xa({manager:o,internalProps:x,skipContextFieldRefAssignment:i}),{onFocus:h,onClick:D,onPaste:p,onBlur:g,onKeyDown:w,onClear:M,clearable:T,inputRef:I,placeholder:j}=b,{readOnly:O=!1,disabled:y=!1,autoFocus:k=!1,focused:R,unstableFieldRef:V}=m,S=f.useRef(null),_=tt(I,S),L=ga({manager:o,internalPropsWithDefaults:m,forwardedProps:b}),{activeSectionIndex:E,areAllSectionsEmpty:F,error:N,localizedDigits:te,parsedSelectedSections:H,sectionOrder:ne,state:W,value:ce,clearValue:ve,clearActiveSection:xe,setCharacterQuery:Pe,setSelectedSections:oe,setTempAndroidValueStr:pe,updateSectionValue:Se,updateValueFromValueStr:de,getSectionsFromValue:re}=L,B=pa({stateResponse:L}),Z=u(ce),$=f.useMemo(()=>fd(W.sections,te,n),[W.sections,te,n]);function ae(){const he=S.current.selectionStart??0;let me;he<=$[0].startInInput||he>=$[$.length-1].endInInput?me=1:me=$.findIndex(ke=>ke.startInInput-ke.startSeparator.length>he);const be=me===-1?$.length-1:me-1;oe(be)}function ue(he=0){var me;Xe(document)!==S.current&&((me=S.current)==null||me.focus(),oe(he))}const Q=Y(he=>{h==null||h(he);const me=S.current;t.start(0,()=>{!me||me!==S.current||E==null&&(me.value.length&&Number(me.selectionEnd)-Number(me.selectionStart)===me.value.length?oe("all"):ae())})}),ge=Y((he,...me)=>{he.isDefaultPrevented()||(D==null||D(he,...me),ae())}),q=Y(he=>{if(p==null||p(he),he.preventDefault(),O||y)return;const me=he.clipboardData.getData("text");if(typeof H=="number"){const be=W.sections[H],ke=/^[a-zA-Z]+$/.test(me),Ge=/^[0-9]+$/.test(me),$e=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(me);if(be.contentType==="letter"&&ke||be.contentType==="digit"&&Ge||be.contentType==="digit-with-letter"&&$e){Pe(null),Se({section:be,newSectionValue:me,shouldGoToNextSection:!0});return}if(ke||Ge)return}Pe(null),de(me)}),ie=Y(he=>{g==null||g(he),oe(null)}),J=Y(he=>{if(O)return;const me=he.target.value;if(me===""){ve();return}const be=he.nativeEvent.data,ke=be&&be.length>1,Ge=ke?be:me,$e=Lt(Ge);if(H==="all"&&oe(E),E==null||ke){de(ke?be:$e);return}let nt;if(H==="all"&&$e.length===1)nt=$e;else{const _e=Lt(d.getV6InputValueFromSections($,te,n));let fe=-1,We=-1;for(let rt=0;rt<_e.length;rt+=1)fe===-1&&_e[rt]!==$e[rt]&&(fe=rt),We===-1&&_e[_e.length-rt-1]!==$e[$e.length-rt-1]&&(We=rt);const Ze=$[E];if(fe<Ze.start||_e.length-We-1>Ze.end)return;const hn=$e.length-_e.length+Ze.end-Lt(Ze.endSeparator||"").length;nt=$e.slice(Ze.start+Lt(Ze.startSeparator||"").length,hn)}if(nt.length===0){_i()&&pe(Ge),xe();return}B({keyPressed:nt,sectionIndex:E})}),le=Y((he,...me)=>{he.preventDefault(),M==null||M(he,...me),ve(),Jr(S)?oe(ne.startIndex):ue(0)}),Ue=ya({manager:o,internalPropsWithDefaults:m,stateResponse:L}),Be=Y(he=>{w==null||w(he),Ue(he)}),Je=f.useMemo(()=>j!==void 0?j:d.getV6InputValueFromSections(re(l.emptyValue),te,n),[j,d,re,l.emptyValue,te,n]),Ke=f.useMemo(()=>W.tempValueStrAndroid??d.getV6InputValueFromSections(W.sections,te,n),[W.sections,d,W.tempValueStrAndroid,te,n]);f.useEffect(()=>{S.current&&S.current===Xe(document)&&oe("all")},[]),pt(()=>{function he(){if(!S.current)return;if(H==null){S.current.scrollLeft&&(S.current.scrollLeft=0);return}if(S.current!==Xe(document))return;const me=S.current.scrollTop;if(H==="all")S.current.select();else{const be=$[H],ke=be.type==="empty"?be.startInInput-be.startSeparator.length:be.startInInput,Ge=be.type==="empty"?be.endInInput+be.endSeparator.length:be.endInInput;(ke!==S.current.selectionStart||Ge!==S.current.selectionEnd)&&S.current===Xe(document)&&S.current.setSelectionRange(ke,Ge),r.start(0,()=>{S.current&&S.current===Xe(document)&&S.current.selectionStart===S.current.selectionEnd&&(S.current.selectionStart!==ke||S.current.selectionEnd!==Ge)&&he()})}S.current.scrollTop=me}he()});const lt=f.useMemo(()=>E==null||W.sections[E].contentType==="letter"?"text":"numeric",[E,W.sections]),Ot=!(S.current&&S.current===Xe(document))&&F;return f.useImperativeHandle(V,()=>({getSections:()=>W.sections,getActiveSectionIndex:()=>{const he=S.current.selectionStart??0,me=S.current.selectionEnd??0;if(he===0&&me===0)return null;const be=he<=$[0].startInInput?1:$.findIndex(ke=>ke.startInInput-ke.startSeparator.length>he);return be===-1?$.length-1:be-1},setSelectedSections:he=>oe(he),focusField:ue,isFieldFocused:()=>Jr(S)})),v({},b,{error:N,clearable:!!(T&&!F&&!O&&!y),onBlur:ie,onClick:ge,onFocus:Q,onPaste:q,onKeyDown:Be,onClear:le,inputRef:_,enableAccessibleFieldDOMStructure:!1,placeholder:Je,inputMode:lt,autoComplete:"off",value:Ot?"":Ke,onChange:J,focused:R,disabled:y,readOnly:O,autoFocus:k,openPickerAriaLabel:Z})};function Jr(e){return e.current===Xe(document)}const gd=e=>{const n=zs();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?md:pd)(e)},xd=e=>{const n=yl(e);return gd({manager:n,props:e})},yd=["slots","slotProps"],ba=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiDateField"}),{slots:s,slotProps:o}=r,i=se(r,yd),c=ed({slotProps:o,ref:t,externalForwardedProps:i}),l=xd(c);return a.jsx(Jc,{slots:s,slotProps:o,fieldResponse:l,defaultOpenPickerIcon:sc})}),wa=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:s,disableFuture:o,disablePast:i,timezone:c})=>{const l=Ct();return f.useCallback(d=>ln({adapter:l,value:d,timezone:c,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:s,disableFuture:o,disablePast:i}})!==null,[l,e,n,t,r,s,o,i,c])},bd=(e,n)=>(t,r)=>{switch(r.type){case"setVisibleDate":return v({},t,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!n.isSameMonth(r.month,t.currentMonth)&&!e&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":{const s=r.newTimezone;if(n.getTimezone(t.currentMonth)===s)return t;let o=n.setTimezone(t.currentMonth,s);return n.getMonth(o)!==n.getMonth(t.currentMonth)&&(o=n.setMonth(o,n.getMonth(t.currentMonth))),v({},t,{currentMonth:o})}case"finishMonthSwitchingAnimation":return v({},t,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},wd=e=>{const{value:n,referenceDate:t,disableFuture:r,disablePast:s,maxDate:o,minDate:i,onMonthChange:c,onYearChange:l,reduceAnimations:d,shouldDisableDate:u,timezone:x,getCurrentMonthFromVisibleDate:b}=e,m=Me(),h=f.useRef(bd(!!d,m)).current,D=f.useMemo(()=>ft.getInitialReferenceValue({value:n,utils:m,timezone:x,props:e,referenceDate:t,granularity:ut.day}),[t,x]),[p,g]=f.useReducer(h,{isMonthSwitchingAnimating:!1,focusedDay:D,currentMonth:m.startOfMonth(D),slideDirection:"left"}),w=wa({shouldDisableDate:u,minDate:i,maxDate:o,disableFuture:r,disablePast:s,timezone:x});f.useEffect(()=>{g({type:"changeMonthTimezone",newTimezone:m.getTimezone(D)})},[D,m]);const M=Y(({target:I,reason:j})=>{if(j==="cell-interaction"&&p.focusedDay!=null&&m.isSameDay(I,p.focusedDay))return;const O=j==="cell-interaction";let y,k;if(j==="cell-interaction")y=b(I,p.currentMonth),k=I;else if(y=m.isSameMonth(I,p.currentMonth)?p.currentMonth:m.startOfMonth(I),k=I,w(k)){const S=m.startOfMonth(I),_=m.endOfMonth(I);k=rn({utils:m,date:k,minDate:m.isBefore(i,S)?S:i,maxDate:m.isAfter(o,_)?_:o,disablePast:s,disableFuture:r,isDateDisabled:w,timezone:x})}const R=!m.isSameMonth(p.currentMonth,y),V=!m.isSameYear(p.currentMonth,y);R&&(c==null||c(y)),V&&(l==null||l(m.startOfYear(y))),g({type:"setVisibleDate",month:y,direction:m.isAfterDay(y,p.currentMonth)?"left":"right",focusedDay:p.focusedDay!=null&&k!=null&&m.isSameDay(k,p.focusedDay)?p.focusedDay:k,skipAnimation:O})}),T=f.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:D,calendarState:p,setVisibleDate:M,isDateDisabled:w,onMonthSwitchingAnimationEnd:T}},vd=e=>Ne("MuiPickersFadeTransitionGroup",e);Le("MuiPickersFadeTransitionGroup",["root"]);const Td=["children"],Dd=e=>Ie({root:["root"]},vd,e),Pd=K(ws,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function va(e){const n=Oe({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:t,reduceAnimations:r,transKey:s,classes:o}=n,{children:i}=n,c=se(n,Td),l=Dd(o),d=on();if(r)return i;const u=v({},c);return a.jsx(Pd,{className:He(l.root,t),ownerState:u,children:a.jsx(Pn,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:d.transitions.duration.enteringScreen,enter:d.transitions.duration.enteringScreen,exit:0},children:i},s)})}function Sd(e){return Ne("MuiPickersDay",e)}const Dt=Le("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function Ta(e){const{disabled:n,selected:t,today:r,outsideCurrentMonth:s,day:o,disableMargin:i,disableHighlightToday:c,showDaysOutsideCurrentMonth:l}=e,d=Me(),{ownerState:u}=qe();return f.useMemo(()=>v({},u,{day:o,isDaySelected:t??!1,isDayDisabled:n??!1,isDayCurrent:r??!1,isDayOutsideMonth:s??!1,isDayStartOfWeek:d.isSameDay(o,d.startOfWeek(o)),isDayEndOfWeek:d.isSameDay(o,d.endOfWeek(o)),disableMargin:i??!1,disableHighlightToday:c??!1,showDaysOutsideCurrentMonth:l??!1}),[d,u,o,t,n,r,s,i,c,l])}const Md=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],kd=(e,n)=>{const{isDaySelected:t,isDayDisabled:r,isDayCurrent:s,isDayOutsideMonth:o,disableMargin:i,disableHighlightToday:c,showDaysOutsideCurrentMonth:l}=n,d=o&&!l;return Ie({root:["root",t&&!d&&"selected",r&&"disabled",!i&&"dayWithMargin",!c&&s&&"today",o&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},Sd,e)},Da=({theme:e})=>v({},e.typography.caption,{width:sn,height:sn,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Wt(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Wt(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Dt.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Dt.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Dt.disabled}:not(.${Dt.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Dt.disabled}&.${Dt.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Cn}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Dt.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),Pa=(e,n)=>{const{ownerState:t}=e;return[n.root,!t.disableMargin&&n.dayWithMargin,!t.disableHighlightToday&&t.isDayCurrent&&n.today,!t.isDayOutsideMonth&&t.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,t.isDayOutsideMonth&&!t.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},Cd=K(fs,{name:"MuiPickersDay",slot:"Root",overridesResolver:Pa})(Da),jd=K("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Pa})(({theme:e})=>v({},Da({theme:e}),{opacity:0,pointerEvents:"none"})),en=()=>{},Id=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiPickersDay"}),{autoFocus:s=!1,className:o,classes:i,isAnimating:c,onClick:l,onDaySelect:d,onFocus:u=en,onBlur:x=en,onKeyDown:b=en,onMouseDown:m=en,onMouseEnter:h=en,children:D,day:p,selected:g,disabled:w,today:M,outsideCurrentMonth:T,disableMargin:I,disableHighlightToday:j,showDaysOutsideCurrentMonth:O}=r,y=se(r,Md),k=Ta({day:p,selected:g,disabled:w,today:M,outsideCurrentMonth:T,disableMargin:I,disableHighlightToday:j,showDaysOutsideCurrentMonth:O}),R=kd(i,k),V=Me(),S=f.useRef(null),_=tt(S,t);pt(()=>{s&&!w&&!c&&!T&&S.current.focus()},[s,w,c,T]);const L=F=>{m(F),T&&F.preventDefault()},E=F=>{w||d(p),T&&F.currentTarget.focus(),l&&l(F)};return T&&!O?a.jsx(jd,{className:He(R.root,R.hiddenDaySpacingFiller,o),ownerState:k,role:y.role}):a.jsx(Cd,v({className:He(R.root,o),ref:_,centerRipple:!0,disabled:w,tabIndex:g?0:-1,onKeyDown:F=>b(F,p),onFocus:F=>u(F,p),onBlur:F=>x(F,p),onMouseEnter:F=>h(F,p),onClick:E,onMouseDown:L},y,{ownerState:k,children:D||V.format(p,"dayOfMonth")}))}),Od=f.memo(Id),Rd=e=>Ne("MuiPickersSlideTransition",e),st=Le("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Ed=["children","className","reduceAnimations","slideDirection","transKey","classes"],Ad=(e,n)=>{const{slideDirection:t}=n,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return Ie(r,Rd,e)},Fd=K(ws,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${st["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${st["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${st.slideEnterActive}`]:n.slideEnterActive},{[`.${st.slideExit}`]:n.slideExit},{[`.${st["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${st["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${st["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${st["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${st.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${st.slideExit}`]:{transform:"translate(0%)"},[`& .${st["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${st["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function Vd(e){const n=Oe({props:e,name:"MuiPickersSlideTransition"}),{children:t,className:r,reduceAnimations:s,slideDirection:o,transKey:i,classes:c}=n,l=se(n,Ed),{ownerState:d}=qe(),u=v({},d,{slideDirection:o}),x=Ad(c,u),b=on();if(s)return a.jsx("div",{className:He(x.root,r),children:t});const m={exit:x.exit,enterActive:x.enterActive,enter:x.enter,exitActive:x.exitActive};return a.jsx(Fd,{className:He(x.root,r),childFactory:h=>f.cloneElement(h,{classNames:m}),role:"presentation",ownerState:u,children:a.jsx(sr,v({mountOnEnter:!0,unmountOnExit:!0,timeout:b.transitions.duration.complex,classNames:m},l,{children:t}),i)})}const Ld=e=>Ne("MuiDayCalendar",e);Le("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const Nd=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Bd=["ownerState"],$d=e=>Ie({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},Ld,e),Sa=(sn+Cn*2)*6,zd=K("div",{name:"MuiDayCalendar",slot:"Root"})({}),_d=K("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),Wd=K(P,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),Hd=K(P,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),Yd=K(P,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>v({},e.typography.caption,{width:sn,height:sn,padding:0,margin:`0 ${Cn}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Ud=K("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Sa}),qd=K(Vd,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:Sa}),Gd=K("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),Qd=K("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${Cn}px 0`,display:"flex",justifyContent:"center"});function Xd(e){let{parentProps:n,day:t,focusedDay:r,selectedDays:s,isDateDisabled:o,currentMonthNumber:i,isViewFocused:c}=e,l=se(e,Nd);const{disabled:d,disableHighlightToday:u,isMonthSwitchingAnimating:x,showDaysOutsideCurrentMonth:b,slots:m,slotProps:h,timezone:D}=n,p=Me(),g=kn(D),w=r!=null&&p.isSameDay(t,r),M=c&&w,T=s.some(L=>p.isSameDay(L,t)),I=p.isSameDay(t,g),j=f.useMemo(()=>d||o(t),[d,o,t]),O=f.useMemo(()=>p.getMonth(t)!==i,[p,t,i]),y=Ta({day:t,selected:T,disabled:j,today:I,outsideCurrentMonth:O,disableMargin:void 0,disableHighlightToday:u,showDaysOutsideCurrentMonth:b}),k=(m==null?void 0:m.day)??Od,R=we({elementType:k,externalSlotProps:h==null?void 0:h.day,additionalProps:v({disableHighlightToday:u,showDaysOutsideCurrentMonth:b,role:"gridcell",isAnimating:x,"data-timestamp":p.toJsDate(t).valueOf()},l),ownerState:v({},y,{day:t,isDayDisabled:j,isDaySelected:T})}),V=se(R,Bd),S=f.useMemo(()=>{const L=p.startOfMonth(p.setMonth(t,i));return b?p.isSameDay(t,p.startOfWeek(L)):p.isSameDay(t,L)},[i,t,b,p]),_=f.useMemo(()=>{const L=p.endOfMonth(p.setMonth(t,i));return b?p.isSameDay(t,p.endOfWeek(L)):p.isSameDay(t,L)},[i,t,b,p]);return a.jsx(k,v({},V,{day:t,disabled:j,autoFocus:!O&&M,today:I,outsideCurrentMonth:O,isFirstVisibleCell:S,isLastVisibleCell:_,selected:T,tabIndex:w?0:-1,"aria-selected":T,"aria-current":I?"date":void 0}))}function Kd(e){const n=Oe({props:e,name:"MuiDayCalendar"}),t=Me(),{onFocusedDayChange:r,className:s,classes:o,currentMonth:i,selectedDays:c,focusedDay:l,loading:d,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:x,readOnly:b,reduceAnimations:m,renderLoading:h=()=>a.jsx("span",{children:"..."}),slideDirection:D,TransitionProps:p,disablePast:g,disableFuture:w,minDate:M,maxDate:T,shouldDisableDate:I,shouldDisableMonth:j,shouldDisableYear:O,dayOfWeekFormatter:y=B=>t.format(B,"weekdayShort").charAt(0).toUpperCase(),hasFocus:k,onFocusedViewChange:R,gridLabelId:V,displayWeekNumber:S,fixedWeekNumber:_,timezone:L}=n,E=kn(L),F=$d(o),N=yt(),te=wa({shouldDisableDate:I,shouldDisableMonth:j,shouldDisableYear:O,minDate:M,maxDate:T,disablePast:g,disableFuture:w,timezone:L}),H=wt(),ne=Y(B=>{b||u(B)}),W=B=>{te(B)||(r(B),R==null||R(!0))},ce=Y((B,Z)=>{switch(B.key){case"ArrowUp":W(t.addDays(Z,-7)),B.preventDefault();break;case"ArrowDown":W(t.addDays(Z,7)),B.preventDefault();break;case"ArrowLeft":{const $=t.addDays(Z,N?1:-1),ae=t.addMonths(Z,N?1:-1),ue=rn({utils:t,date:$,minDate:N?$:t.startOfMonth(ae),maxDate:N?t.endOfMonth(ae):$,isDateDisabled:te,timezone:L});W(ue||$),B.preventDefault();break}case"ArrowRight":{const $=t.addDays(Z,N?-1:1),ae=t.addMonths(Z,N?-1:1),ue=rn({utils:t,date:$,minDate:N?t.startOfMonth(ae):$,maxDate:N?$:t.endOfMonth(ae),isDateDisabled:te,timezone:L});W(ue||$),B.preventDefault();break}case"Home":W(t.startOfWeek(Z)),B.preventDefault();break;case"End":W(t.endOfWeek(Z)),B.preventDefault();break;case"PageUp":W(t.addMonths(Z,1)),B.preventDefault();break;case"PageDown":W(t.addMonths(Z,-1)),B.preventDefault();break}}),ve=Y((B,Z)=>W(Z)),xe=Y((B,Z)=>{l!=null&&t.isSameDay(l,Z)&&(R==null||R(!1))}),Pe=t.getMonth(i),oe=t.getYear(i),pe=f.useMemo(()=>c.filter(B=>!!B).map(B=>t.startOfDay(B)),[t,c]),Se=`${oe}-${Pe}`,de=f.useMemo(()=>f.createRef(),[Se]),re=f.useMemo(()=>{const B=t.getWeekArray(i);let Z=t.addMonths(i,1);for(;_&&B.length<_;){const $=t.getWeekArray(Z),ae=t.isSameDay(B[B.length-1][0],$[0][0]);$.slice(ae?1:0).forEach(ue=>{B.length<_&&B.push(ue)}),Z=t.addMonths(Z,1)}return B},[i,_,t]);return a.jsxs(zd,{role:"grid","aria-labelledby":V,className:F.root,children:[a.jsxs(_d,{role:"row",className:F.header,children:[S&&a.jsx(Hd,{variant:"caption",role:"columnheader","aria-label":H.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:H.calendarWeekNumberHeaderText}),Ci(t,E).map((B,Z)=>a.jsx(Wd,{variant:"caption",role:"columnheader","aria-label":t.format(B,"weekday"),className:F.weekDayLabel,children:y(B)},Z.toString()))]}),d?a.jsx(Ud,{className:F.loadingContainer,children:h()}):a.jsx(qd,v({transKey:Se,onExited:x,reduceAnimations:m,slideDirection:D,className:He(s,F.slideTransition)},p,{nodeRef:de,children:a.jsx(Gd,{ref:de,role:"rowgroup",className:F.monthContainer,children:re.map((B,Z)=>a.jsxs(Qd,{role:"row",className:F.weekContainer,"aria-rowindex":Z+1,children:[S&&a.jsx(Yd,{className:F.weekNumber,role:"rowheader","aria-label":H.calendarWeekNumberAriaLabelText(t.getWeekNumber(B[0])),children:H.calendarWeekNumberText(t.getWeekNumber(B[0]))}),B.map(($,ae)=>a.jsx(Xd,{parentProps:n,day:$,selectedDays:pe,isViewFocused:k,focusedDay:l,onKeyDown:ce,onFocus:ve,onBlur:xe,onDaySelect:ne,isDateDisabled:te,currentMonthNumber:Pe,"aria-colindex":ae+1},$.toString()))]},`week-${B[0]}`))})}))]})}function Ma(e){return Ne("MuiMonthCalendar",e)}const pn=Le("MuiMonthCalendar",["root","button","disabled","selected"]),Zd=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],Jd=(e,n)=>{const t={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Ie(t,Ma,e)},eu=K("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${pn.disabled}`]:n.disabled},{[`&.${pn.selected}`]:n.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Wt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Wt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${pn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${pn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),tu=f.memo(function(n){const{autoFocus:t,classes:r,disabled:s,selected:o,value:i,onClick:c,onKeyDown:l,onFocus:d,onBlur:u,slots:x,slotProps:b}=n,m=se(n,Zd),h=f.useRef(null),{ownerState:D}=qe(),p=v({},D,{isMonthDisabled:s,isMonthSelected:o}),g=Jd(r,p);pt(()=>{var T;t&&((T=h.current)==null||T.focus())},[t]);const w=(x==null?void 0:x.monthButton)??eu,M=we({elementType:w,externalSlotProps:b==null?void 0:b.monthButton,externalForwardedProps:m,additionalProps:{disabled:s,ref:h,type:"button",role:"radio","aria-checked":o,onClick:T=>c(T,i),onKeyDown:T=>l(T,i),onFocus:T=>d(T,i),onBlur:T=>u(T,i)},ownerState:p,className:g.button});return a.jsx(w,v({},M))}),nu=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],ru=e=>Ie({root:["root"]},Ma,e);function su(e,n){const t=Oe({props:e,name:n}),r=cn(t);return v({},t,r,{monthsPerRow:t.monthsPerRow??3})}const au=K("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:jn,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),ou=f.forwardRef(function(n,t){const r=su(n,"MuiMonthCalendar"),{autoFocus:s,className:o,classes:i,value:c,defaultValue:l,referenceDate:d,disabled:u,disableFuture:x,disablePast:b,maxDate:m,minDate:h,onChange:D,shouldDisableMonth:p,readOnly:g,onMonthFocus:w,hasFocus:M,onFocusedViewChange:T,monthsPerRow:I,timezone:j,gridLabelId:O,slots:y,slotProps:k}=r,R=se(r,nu),{value:V,handleValueChange:S,timezone:_}=dn({name:"MonthCalendar",timezone:j,value:c,defaultValue:l,referenceDate:d,onChange:D,valueManager:ft}),L=kn(_),E=yt(),F=Me(),{ownerState:N}=qe(),te=f.useMemo(()=>ft.getInitialReferenceValue({value:V,utils:F,props:r,timezone:_,referenceDate:d,granularity:ut.month}),[]),H=ru(i),ne=f.useMemo(()=>F.getMonth(L),[F,L]),W=f.useMemo(()=>V!=null?F.getMonth(V):null,[V,F]),[ce,ve]=f.useState(()=>W||F.getMonth(te)),[xe,Pe]=Yt({name:"MonthCalendar",state:"hasFocus",controlled:M,default:s??!1}),oe=Y($=>{Pe($),T&&T($)}),pe=f.useCallback($=>{const ae=F.startOfMonth(b&&F.isAfter(L,h)?L:h),ue=F.startOfMonth(x&&F.isBefore(L,m)?L:m),Q=F.startOfMonth($);return F.isBefore(Q,ae)||F.isAfter(Q,ue)?!0:p?p(Q):!1},[x,b,m,h,L,p,F]),Se=Y(($,ae)=>{if(g)return;const ue=F.setMonth(V??te,ae);S(ue)}),de=Y($=>{pe(F.setMonth(V??te,$))||(ve($),oe(!0),w&&w($))});f.useEffect(()=>{ve($=>W!==null&&$!==W?W:$)},[W]);const re=Y(($,ae)=>{switch($.key){case"ArrowUp":de((12+ae-3)%12),$.preventDefault();break;case"ArrowDown":de((12+ae+3)%12),$.preventDefault();break;case"ArrowLeft":de((12+ae+(E?1:-1))%12),$.preventDefault();break;case"ArrowRight":de((12+ae+(E?-1:1))%12),$.preventDefault();break}}),B=Y(($,ae)=>{de(ae)}),Z=Y(($,ae)=>{ce===ae&&oe(!1)});return a.jsx(au,v({ref:t,className:He(H.root,o),ownerState:N,role:"radiogroup","aria-labelledby":O,monthsPerRow:I},R,{children:ar(F,V??te).map($=>{const ae=F.getMonth($),ue=F.format($,"monthShort"),Q=F.format($,"month"),ge=ae===W,q=u||pe($);return a.jsx(tu,{selected:ge,value:ae,onClick:Se,onKeyDown:re,autoFocus:xe&&ae===ce,disabled:q,tabIndex:ae===ce&&!q?0:-1,onFocus:B,onBlur:Z,"aria-current":ne===ae?"date":void 0,"aria-label":Q,slots:y,slotProps:k,classes:i,children:ue},ue)})}))});function ka(e){return Ne("MuiYearCalendar",e)}const gn=Le("MuiYearCalendar",["root","button","disabled","selected"]),iu=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],lu=(e,n)=>{const t={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Ie(t,ka,e)},cu=K("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${gn.disabled}`]:n.disabled},{[`&.${gn.selected}`]:n.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Wt(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Wt(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${gn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${gn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),du=f.memo(function(n){const{autoFocus:t,classes:r,disabled:s,selected:o,value:i,onClick:c,onKeyDown:l,onFocus:d,onBlur:u,slots:x,slotProps:b}=n,m=se(n,iu),h=f.useRef(null),{ownerState:D}=qe(),p=v({},D,{isYearDisabled:s,isYearSelected:o}),g=lu(r,p);pt(()=>{var T;t&&((T=h.current)==null||T.focus())},[t]);const w=(x==null?void 0:x.yearButton)??cu,M=we({elementType:w,externalSlotProps:b==null?void 0:b.yearButton,externalForwardedProps:m,additionalProps:{disabled:s,ref:h,type:"button",role:"radio","aria-checked":o,onClick:T=>c(T,i),onKeyDown:T=>l(T,i),onFocus:T=>d(T,i),onBlur:T=>u(T,i)},ownerState:p,className:g.button});return a.jsx(w,v({},M))}),uu=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],hu=e=>Ie({root:["root"]},ka,e);function mu(e,n){const t=Oe({props:e,name:n}),r=cn(t);return v({},t,r,{yearsPerRow:t.yearsPerRow??3,yearsOrder:t.yearsOrder??"asc"})}const fu=K("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:jn,maxHeight:Wl,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),pu=K("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),gu=f.forwardRef(function(n,t){const r=mu(n,"MuiYearCalendar"),{autoFocus:s,className:o,classes:i,value:c,defaultValue:l,referenceDate:d,disabled:u,disableFuture:x,disablePast:b,maxDate:m,minDate:h,onChange:D,readOnly:p,shouldDisableYear:g,onYearFocus:w,hasFocus:M,onFocusedViewChange:T,yearsOrder:I,yearsPerRow:j,timezone:O,gridLabelId:y,slots:k,slotProps:R}=r,V=se(r,uu),{value:S,handleValueChange:_,timezone:L}=dn({name:"YearCalendar",timezone:O,value:c,defaultValue:l,referenceDate:d,onChange:D,valueManager:ft}),E=kn(L),F=yt(),N=Me(),{ownerState:te}=qe(),H=f.useMemo(()=>ft.getInitialReferenceValue({value:S,utils:N,props:r,timezone:L,referenceDate:d,granularity:ut.year}),[]),ne=hu(i),W=f.useMemo(()=>N.getYear(E),[N,E]),ce=f.useMemo(()=>S!=null?N.getYear(S):null,[S,N]),[ve,xe]=f.useState(()=>ce||N.getYear(H)),[Pe,oe]=Yt({name:"YearCalendar",state:"hasFocus",controlled:M,default:s??!1}),pe=Y(J=>{oe(J),T&&T(J)}),Se=f.useCallback(J=>{if(b&&N.isBeforeYear(J,E)||x&&N.isAfterYear(J,E)||h&&N.isBeforeYear(J,h)||m&&N.isAfterYear(J,m))return!0;if(!g)return!1;const le=N.startOfYear(J);return g(le)},[x,b,m,h,E,g,N]),de=Y((J,le)=>{if(p)return;const Ue=N.setYear(S??H,le);_(Ue)}),re=Y(J=>{Se(N.setYear(S??H,J))||(xe(J),pe(!0),w==null||w(J))});f.useEffect(()=>{xe(J=>ce!==null&&J!==ce?ce:J)},[ce]);const B=I!=="desc"?j*1:j*-1,Z=F&&I==="asc"||!F&&I==="desc"?-1:1,$=Y((J,le)=>{switch(J.key){case"ArrowUp":re(le-B),J.preventDefault();break;case"ArrowDown":re(le+B),J.preventDefault();break;case"ArrowLeft":re(le-Z),J.preventDefault();break;case"ArrowRight":re(le+Z),J.preventDefault();break}}),ae=Y((J,le)=>{re(le)}),ue=Y((J,le)=>{ve===le&&pe(!1)}),Q=f.useRef(null),ge=tt(t,Q);f.useEffect(()=>{if(s||Q.current===null)return;const J=Q.current.querySelector('[tabindex="0"]');if(!J)return;const le=J.offsetHeight,Ue=J.offsetTop,Be=Q.current.clientHeight,Je=Q.current.scrollTop,Ke=Ue+le;le>Be||Ue<Je||(Q.current.scrollTop=Ke-Be/2-le/2)},[s]);const q=N.getYearRange([h,m]);I==="desc"&&q.reverse();let ie=j-q.length%j;return ie===j&&(ie=0),a.jsxs(fu,v({ref:ge,className:He(ne.root,o),ownerState:te,role:"radiogroup","aria-labelledby":y,yearsPerRow:j},V,{children:[q.map(J=>{const le=N.getYear(J),Ue=le===ce,Be=u||Se(J);return a.jsx(du,{selected:Ue,value:le,onClick:de,onKeyDown:$,autoFocus:Pe&&le===ve,disabled:Be,tabIndex:le===ve&&!Be?0:-1,onFocus:ae,onBlur:ue,"aria-current":W===le?"date":void 0,slots:k,slotProps:R,classes:i,children:N.format(J,"year")},N.format(J,"year"))}),Array.from({length:ie},(J,le)=>a.jsx(pu,{},le))]}))}),xu=e=>Ne("MuiPickersCalendarHeader",e),yu=Le("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function bu(e){return Ne("MuiPickersArrowSwitcher",e)}Le("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const wu=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],vu=["ownerState"],Tu=["ownerState"],Du=K("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),Pu=K("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),es=K(St,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),Su=e=>Ie({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},bu,e),Mu=f.forwardRef(function(n,t){const r=yt(),s=Oe({props:n,name:"MuiPickersArrowSwitcher"}),{children:o,className:i,slots:c,slotProps:l,isNextDisabled:d,isNextHidden:u,onGoToNext:x,nextLabel:b,isPreviousDisabled:m,isPreviousHidden:h,onGoToPrevious:D,previousLabel:p,labelId:g,classes:w}=s,M=se(s,wu),{ownerState:T}=qe(),I=Su(w),j={isDisabled:d,isHidden:u,goTo:x,label:b},O={isDisabled:m,isHidden:h,goTo:D,label:p},y=(c==null?void 0:c.previousIconButton)??es,k=we({elementType:y,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"end",onClick:O.goTo},ownerState:v({},T,{isButtonHidden:O.isHidden??!1}),className:He(I.button,I.previousIconButton)}),R=(c==null?void 0:c.nextIconButton)??es,V=we({elementType:R,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:j.label,"aria-label":j.label,disabled:j.isDisabled,edge:"start",onClick:j.goTo},ownerState:v({},T,{isButtonHidden:j.isHidden??!1}),className:He(I.button,I.nextIconButton)}),S=(c==null?void 0:c.leftArrowIcon)??nc,_=we({elementType:S,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:I.leftArrowIcon}),L=se(_,vu),E=(c==null?void 0:c.rightArrowIcon)??rc,F=we({elementType:E,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:T,className:I.rightArrowIcon}),N=se(F,Tu);return a.jsxs(Du,v({ref:t,className:He(I.root,i),ownerState:T},M,{children:[a.jsx(y,v({},k,{children:r?a.jsx(E,v({},N)):a.jsx(S,v({},L))})),o?a.jsx(P,{variant:"subtitle1",component:"span",id:g,children:o}):a.jsx(Pu,{className:I.spacer,ownerState:T}),a.jsx(R,v({},V,{children:r?a.jsx(S,v({},L)):a.jsx(E,v({},N))}))]}))});function ku(e,{disableFuture:n,maxDate:t,timezone:r}){const s=Me();return f.useMemo(()=>{const o=s.date(void 0,r),i=s.startOfMonth(n&&s.isBefore(o,t)?o:t);return!s.isAfter(i,e)},[n,t,e,s,r])}function Cu(e,{disablePast:n,minDate:t,timezone:r}){const s=Me();return f.useMemo(()=>{const o=s.date(void 0,r),i=s.startOfMonth(n&&s.isAfter(o,t)?o:t);return!s.isBefore(i,e)},[n,t,e,s,r])}const ju=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Iu=["ownerState"],Ou=e=>Ie({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},xu,e),Ru=K("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Eu=K("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>v({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Au=K("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Fu=K(St,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${yu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Vu=K(tc,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),Lu=f.forwardRef(function(n,t){const r=wt(),s=Me(),o=Oe({props:n,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:c,currentMonth:l,disabled:d,disableFuture:u,disablePast:x,maxDate:b,minDate:m,onMonthChange:h,onViewChange:D,view:p,reduceAnimations:g,views:w,labelId:M,className:T,classes:I,timezone:j,format:O=`${s.formats.month} ${s.formats.year}`}=o,y=se(o,ju),{ownerState:k}=qe(),R=Ou(I),V=(i==null?void 0:i.switchViewButton)??Fu,S=we({elementType:V,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(p)},ownerState:k,className:R.switchViewButton}),_=(i==null?void 0:i.switchViewIcon)??Vu,L=we({elementType:_,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:k,className:R.switchViewIcon}),E=se(L,Iu),F=()=>h(s.addMonths(l,1)),N=()=>h(s.addMonths(l,-1)),te=ku(l,{disableFuture:u,maxDate:b,timezone:j}),H=Cu(l,{disablePast:x,minDate:m,timezone:j}),ne=()=>{if(!(w.length===1||!D||d))if(w.length===2)D(w.find(ce=>ce!==p)||w[0]);else{const ce=w.indexOf(p)!==0?0:1;D(w[ce])}};if(w.length===1&&w[0]==="year")return null;const W=s.formatByString(l,O);return a.jsxs(Ru,v({},y,{ownerState:k,className:He(R.root,T),ref:t,children:[a.jsxs(Eu,{role:"presentation",onClick:ne,ownerState:k,"aria-live":"polite",className:R.labelContainer,children:[a.jsx(va,{reduceAnimations:g,transKey:W,children:a.jsx(Au,{id:M,ownerState:k,className:R.label,children:W})}),w.length>1&&!d&&a.jsx(V,v({},S,{children:a.jsx(_,v({},E))}))]}),a.jsx(Pn,{in:p==="day",appear:!g,enter:!g,children:a.jsx(Mu,{slots:i,slotProps:c,onGoToPrevious:N,isPreviousDisabled:H,previousLabel:r.previousMonth,onGoToNext:F,isNextDisabled:te,nextLabel:r.nextMonth})})]}))}),Nu=K("div")({overflow:"hidden",width:jn,maxHeight:hr,display:"flex",flexDirection:"column",margin:"0 auto"}),Bu=e=>Ne("MuiDateCalendar",e);Le("MuiDateCalendar",["root","viewTransitionContainer"]);const $u=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],zu=e=>Ie({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Bu,e);function _u(e,n){const t=Oe({props:e,name:n}),r=Zs(t.reduceAnimations),s=cn(t);return v({},t,s,{loading:t.loading??!1,openTo:t.openTo??"day",views:t.views??["year","day"],reduceAnimations:r,renderLoading:t.renderLoading??(()=>a.jsx("span",{children:"..."}))})}const Wu=K(Nu,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:hr}),Hu=K(va,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),Yu=f.forwardRef(function(n,t){const r=Me(),{ownerState:s}=qe(),o=Sn(),i=_u(n,"MuiDateCalendar"),{autoFocus:c,onViewChange:l,value:d,defaultValue:u,referenceDate:x,disableFuture:b,disablePast:m,onChange:h,onMonthChange:D,reduceAnimations:p,shouldDisableDate:g,shouldDisableMonth:w,shouldDisableYear:M,view:T,views:I,openTo:j,className:O,classes:y,disabled:k,readOnly:R,minDate:V,maxDate:S,disableHighlightToday:_,focusedView:L,onFocusedViewChange:E,showDaysOutsideCurrentMonth:F,fixedWeekNumber:N,dayOfWeekFormatter:te,slots:H,slotProps:ne,loading:W,renderLoading:ce,displayWeekNumber:ve,yearsOrder:xe,yearsPerRow:Pe,monthsPerRow:oe,timezone:pe}=i,Se=se(i,$u),{value:de,handleValueChange:re,timezone:B}=dn({name:"DateCalendar",timezone:pe,value:d,defaultValue:u,referenceDate:x,onChange:h,valueManager:ft}),{view:Z,setView:$,focusedView:ae,setFocusedView:ue,goToNextView:Q,setValueAndGoToNextView:ge}=ea({view:T,views:I,openTo:j,onChange:re,onViewChange:l,autoFocus:c,focusedView:L,onFocusedViewChange:E}),{referenceDate:q,calendarState:ie,setVisibleDate:J,isDateDisabled:le,onMonthSwitchingAnimationEnd:Ue}=wd({value:de,referenceDate:x,reduceAnimations:p,onMonthChange:D,minDate:V,maxDate:S,shouldDisableDate:g,disablePast:m,disableFuture:b,timezone:B,getCurrentMonthFromVisibleDate:(fe,We)=>r.isSameMonth(fe,We)?We:r.startOfMonth(fe)}),Be=k&&de||V,Je=k&&de||S,Ke=`${o}-grid-label`,lt=ae!==null,It=(H==null?void 0:H.calendarHeader)??Lu,Ot=we({elementType:It,externalSlotProps:ne==null?void 0:ne.calendarHeader,additionalProps:{views:I,view:Z,currentMonth:ie.currentMonth,onViewChange:$,onMonthChange:fe=>J({target:fe,reason:"header-navigation"}),minDate:Be,maxDate:Je,disabled:k,disablePast:m,disableFuture:b,reduceAnimations:p,timezone:B,labelId:Ke},ownerState:s}),he=Y(fe=>{const We=r.startOfMonth(fe),Ze=r.endOfMonth(fe),at=le(fe)?rn({utils:r,date:fe,minDate:r.isBefore(V,We)?We:V,maxDate:r.isAfter(S,Ze)?Ze:S,disablePast:m,disableFuture:b,isDateDisabled:le,timezone:B}):fe;at?(ge(at,"finish"),J({target:at,reason:"cell-interaction"})):(Q(),J({target:We,reason:"cell-interaction"}))}),me=Y(fe=>{const We=r.startOfYear(fe),Ze=r.endOfYear(fe),at=le(fe)?rn({utils:r,date:fe,minDate:r.isBefore(V,We)?We:V,maxDate:r.isAfter(S,Ze)?Ze:S,disablePast:m,disableFuture:b,isDateDisabled:le,timezone:B}):fe;at?(ge(at,"finish"),J({target:at,reason:"cell-interaction"})):(Q(),J({target:We,reason:"cell-interaction"}))}),be=Y(fe=>re(fe&&wn(r,fe,de??q),"finish",Z));f.useEffect(()=>{r.isValid(de)&&J({target:de,reason:"controlled-value-change"})},[de]);const ke=zu(y),Ge={disablePast:m,disableFuture:b,maxDate:S,minDate:V},$e={disableHighlightToday:_,readOnly:R,disabled:k,timezone:B,gridLabelId:Ke,slots:H,slotProps:ne},nt=f.useRef(Z);f.useEffect(()=>{nt.current!==Z&&(ae===nt.current&&ue(Z,!0),nt.current=Z)},[ae,ue,Z]);const _e=f.useMemo(()=>[de],[de]);return a.jsxs(Wu,v({ref:t,className:He(ke.root,O),ownerState:s},Se,{children:[a.jsx(It,v({},Ot,{slots:H,slotProps:ne})),a.jsx(Hu,{reduceAnimations:p,className:ke.viewTransitionContainer,transKey:Z,ownerState:s,children:a.jsxs("div",{children:[Z==="year"&&a.jsx(gu,v({},Ge,$e,{value:de,onChange:me,shouldDisableYear:M,hasFocus:lt,onFocusedViewChange:fe=>ue("year",fe),yearsOrder:xe,yearsPerRow:Pe,referenceDate:q})),Z==="month"&&a.jsx(ou,v({},Ge,$e,{hasFocus:lt,className:O,value:de,onChange:he,shouldDisableMonth:w,onFocusedViewChange:fe=>ue("month",fe),monthsPerRow:oe,referenceDate:q})),Z==="day"&&a.jsx(Kd,v({},ie,Ge,$e,{onMonthSwitchingAnimationEnd:Ue,hasFocus:lt,onFocusedDayChange:fe=>J({target:fe,reason:"cell-interaction"}),reduceAnimations:p,selectedDays:_e,onSelectedDaysChange:be,shouldDisableDate:g,shouldDisableMonth:w,shouldDisableYear:M,onFocusedViewChange:fe=>ue("day",fe),showDaysOutsideCurrentMonth:F,fixedWeekNumber:N,dayOfWeekFormatter:te,displayWeekNumber:ve,loading:W,renderLoading:ce}))]})})]}))}),_t=({view:e,onViewChange:n,views:t,focusedView:r,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:x,disablePast:b,minDate:m,maxDate:h,shouldDisableDate:D,shouldDisableMonth:p,shouldDisableYear:g,reduceAnimations:w,onMonthChange:M,monthsPerRow:T,onYearChange:I,yearsOrder:j,yearsPerRow:O,slots:y,slotProps:k,loading:R,renderLoading:V,disableHighlightToday:S,readOnly:_,disabled:L,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:F,sx:N,autoFocus:te,fixedWeekNumber:H,displayWeekNumber:ne,timezone:W})=>a.jsx(Yu,{view:e,onViewChange:n,views:t.filter(Nr),focusedView:r&&Nr(r)?r:null,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:x,disablePast:b,minDate:m,maxDate:h,shouldDisableDate:D,shouldDisableMonth:p,shouldDisableYear:g,reduceAnimations:w,onMonthChange:M,monthsPerRow:T,onYearChange:I,yearsOrder:j,yearsPerRow:O,slots:y,slotProps:k,loading:R,renderLoading:V,disableHighlightToday:S,readOnly:_,disabled:L,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:F,sx:N,autoFocus:te,fixedWeekNumber:H,displayWeekNumber:ne,timezone:W}),Ca=f.forwardRef(function(n,t){var l;const r=Me(),s=Ks(n,"MuiDesktopDatePicker"),o=v({day:_t,month:_t,year:_t},s.viewRenderers),i=v({},s,{closeOnSelect:s.closeOnSelect??!0,viewRenderers:o,format:or(r,s,!1),yearsPerRow:s.yearsPerRow??4,slots:v({field:ba},s.slots),slotProps:v({},s.slotProps,{field:d=>{var u;return v({},bn((u=s.slotProps)==null?void 0:u.field,d),Gs(s))},toolbar:v({hidden:!0},(l=s.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:c}=rd({ref:t,props:i,valueManager:ft,valueType:"date",validator:ln,steps:null});return c()});Ca.propTypes={autoFocus:C.bool,className:C.string,closeOnSelect:C.bool,dayOfWeekFormatter:C.func,defaultValue:C.object,disabled:C.bool,disableFuture:C.bool,disableHighlightToday:C.bool,disableOpenPicker:C.bool,disablePast:C.bool,displayWeekNumber:C.bool,enableAccessibleFieldDOMStructure:C.any,fixedWeekNumber:C.number,format:C.string,formatDensity:C.oneOf(["dense","spacious"]),inputRef:ks,label:C.node,loading:C.bool,localeText:C.object,maxDate:C.object,minDate:C.object,monthsPerRow:C.oneOf([3,4]),name:C.string,onAccept:C.func,onChange:C.func,onClose:C.func,onError:C.func,onMonthChange:C.func,onOpen:C.func,onSelectedSectionsChange:C.func,onViewChange:C.func,onYearChange:C.func,open:C.bool,openTo:C.oneOf(["day","month","year"]),orientation:C.oneOf(["landscape","portrait"]),readOnly:C.bool,reduceAnimations:C.bool,referenceDate:C.object,renderLoading:C.func,selectedSections:C.oneOfType([C.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),C.number]),shouldDisableDate:C.func,shouldDisableMonth:C.func,shouldDisableYear:C.func,showDaysOutsideCurrentMonth:C.bool,slotProps:C.object,slots:C.object,sx:C.oneOfType([C.arrayOf(C.oneOfType([C.func,C.object,C.bool])),C.func,C.object]),timezone:C.string,value:C.object,view:C.oneOf(["day","month","year"]),viewRenderers:C.shape({day:C.func,month:C.func,year:C.func}),views:C.arrayOf(C.oneOf(["day","month","year"]).isRequired),yearsOrder:C.oneOf(["asc","desc"]),yearsPerRow:C.oneOf([3,4])};const Uu=K(ko)({[`& .${Cr.container}`]:{outline:0},[`& .${Cr.paper}`]:{outline:0,minWidth:jn}}),qu=K(Co)({"&:first-of-type":{padding:0}});function Gu(e){const{children:n,slots:t,slotProps:r}=e,{open:s}=qt(),{dismissViews:o}=qe(),i=(t==null?void 0:t.dialog)??Uu,c=(t==null?void 0:t.mobileTransition)??Pn;return a.jsx(i,v({open:s,onClose:o},r==null?void 0:r.dialog,{TransitionComponent:c,TransitionProps:r==null?void 0:r.mobileTransition,PaperComponent:t==null?void 0:t.mobilePaper,PaperProps:r==null?void 0:r.mobilePaper,children:a.jsx(qu,{children:n})}))}const Qu=["props","steps"],Xu=["ownerState"],Ku=e=>{var j;let{props:n,steps:t}=e,r=se(e,Qu);const{slots:s,slotProps:o,label:i,inputRef:c,localeText:l}=n,d=fa({steps:t}),{providerProps:u,renderCurrentView:x,ownerState:b}=ta(v({},r,{props:n,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:d})),m=u.privateContextValue.labelId,h=((j=o==null?void 0:o.toolbar)==null?void 0:j.hidden)??!1,D=s.field,p=we({elementType:D,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},h&&{id:m}),ownerState:b}),g=se(p,Xu),w=s.layout??ra;let M=m;h&&(i?M=`${m}-label`:M=void 0);const T=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:m}),mobilePaper:v({"aria-labelledby":M},o==null?void 0:o.mobilePaper)});return{renderPicker:()=>a.jsx(Hs,v({},u,{children:a.jsxs(ma,{slots:s,slotProps:T,inputRef:c,children:[a.jsx(D,v({},g)),a.jsx(Gu,{slots:s,slotProps:T,children:a.jsx(w,v({},T==null?void 0:T.layout,{slots:s,slotProps:T,children:x()}))})]})}))}},ja=f.forwardRef(function(n,t){var l;const r=Me(),s=Ks(n,"MuiMobileDatePicker"),o=v({day:_t,month:_t,year:_t},s.viewRenderers),i=v({},s,{viewRenderers:o,format:or(r,s,!1),slots:v({field:ba},s.slots),slotProps:v({},s.slotProps,{field:d=>{var u;return v({},bn((u=s.slotProps)==null?void 0:u.field,d),Gs(s))},toolbar:v({hidden:!1},(l=s.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:c}=Ku({ref:t,props:i,valueManager:ft,valueType:"date",validator:ln,steps:null});return c()});ja.propTypes={autoFocus:C.bool,className:C.string,closeOnSelect:C.bool,dayOfWeekFormatter:C.func,defaultValue:C.object,disabled:C.bool,disableFuture:C.bool,disableHighlightToday:C.bool,disableOpenPicker:C.bool,disablePast:C.bool,displayWeekNumber:C.bool,enableAccessibleFieldDOMStructure:C.any,fixedWeekNumber:C.number,format:C.string,formatDensity:C.oneOf(["dense","spacious"]),inputRef:ks,label:C.node,loading:C.bool,localeText:C.object,maxDate:C.object,minDate:C.object,monthsPerRow:C.oneOf([3,4]),name:C.string,onAccept:C.func,onChange:C.func,onClose:C.func,onError:C.func,onMonthChange:C.func,onOpen:C.func,onSelectedSectionsChange:C.func,onViewChange:C.func,onYearChange:C.func,open:C.bool,openTo:C.oneOf(["day","month","year"]),orientation:C.oneOf(["landscape","portrait"]),readOnly:C.bool,reduceAnimations:C.bool,referenceDate:C.object,renderLoading:C.func,selectedSections:C.oneOfType([C.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),C.number]),shouldDisableDate:C.func,shouldDisableMonth:C.func,shouldDisableYear:C.func,showDaysOutsideCurrentMonth:C.bool,slotProps:C.object,slots:C.object,sx:C.oneOfType([C.arrayOf(C.oneOfType([C.func,C.object,C.bool])),C.func,C.object]),timezone:C.string,value:C.object,view:C.oneOf(["day","month","year"]),viewRenderers:C.shape({day:C.func,month:C.func,year:C.func}),views:C.arrayOf(C.oneOf(["day","month","year"]).isRequired),yearsOrder:C.oneOf(["asc","desc"]),yearsPerRow:C.oneOf([3,4])};const Zu=["desktopModeMediaQuery"],ts=f.forwardRef(function(n,t){const r=Oe({props:n,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=Pl}=r,o=se(r,Zu);return ms(s,{defaultMatches:!0})?a.jsx(Ca,v({ref:t},o)):a.jsx(ja,v({ref:t},o))}),Ia=6048e5,Ju=864e5,Oa=6e4,Ra=36e5,eh=1e3,ns=Symbol.for("constructDateFrom");function Ce(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&ns in e?e[ns](n):e instanceof Date?new e.constructor(n):new Date(n)}function ee(e,n){return Ce(n||e,e)}function Rn(e,n,t){const r=ee(e,t==null?void 0:t.in);return isNaN(n)?Ce((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function Ea(e,n,t){return Ce(e,+ee(e)+n)}function th(e,n,t){return Ea(e,n*1e3)}function nh(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setTime(r.getTime()+n*Oa),r}function rh(e,n,t){return Ea(e,n*Ra)}function sh(e,n,t){return Rn(e,n*7,t)}function Aa(e,n,t){const r=ee(e,t==null?void 0:t.in);if(isNaN(n))return Ce(e,NaN);if(!n)return r;const s=r.getDate(),o=Ce(e,r.getTime());o.setMonth(r.getMonth()+n+1,0);const i=o.getDate();return s>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}function ah(e,n,t){return Aa(e,n*12,t)}function rs(e,n){const t=ee(e,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}let oh={};function jt(){return oh}function ih(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.weekStartsOn)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=ee(e,n==null?void 0:n.in),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function ss(e,n){const t=ee(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}const lh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ch=(e,n,t)=>{let r;const s=lh[e];return typeof s=="string"?r=s:n===1?r=s.one:r=s.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Hn(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const dh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},uh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},hh={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mh={date:Hn({formats:dh,defaultWidth:"full"}),time:Hn({formats:uh,defaultWidth:"full"}),dateTime:Hn({formats:hh,defaultWidth:"full"})},fh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ph=(e,n,t,r)=>fh[e];function tn(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=t!=null&&t.width?String(t.width):i;s=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(n):n;return s[o]}}const gh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},xh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bh={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},vh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Th=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Dh={ordinalNumber:Th,era:tn({values:gh,defaultWidth:"wide"}),quarter:tn({values:xh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tn({values:yh,defaultWidth:"wide"}),day:tn({values:bh,defaultWidth:"wide"}),dayPeriod:tn({values:wh,defaultWidth:"wide",formattingValues:vh,defaultFormattingWidth:"wide"})};function nn(e){return(n,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(s);if(!o)return null;const i=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Sh(c,x=>x.test(i)):Ph(c,x=>x.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const u=n.slice(i.length);return{value:d,rest:u}}}function Ph(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function Sh(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Mh(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const s=r[0],o=n.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;const c=n.slice(s.length);return{value:i,rest:c}}}const kh=/^(\d+)(th|st|nd|rd)?/i,Ch=/\d+/i,jh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ih={any:[/^b/i,/^(a|c)/i]},Oh={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rh={any:[/1/i,/2/i,/3/i,/4/i]},Eh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ah={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Fh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Lh={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Bh={ordinalNumber:Mh({matchPattern:kh,parsePattern:Ch,valueCallback:e=>parseInt(e,10)}),era:nn({matchPatterns:jh,defaultMatchWidth:"wide",parsePatterns:Ih,defaultParseWidth:"any"}),quarter:nn({matchPatterns:Oh,defaultMatchWidth:"wide",parsePatterns:Rh,defaultParseWidth:"any",valueCallback:e=>e+1}),month:nn({matchPatterns:Eh,defaultMatchWidth:"wide",parsePatterns:Ah,defaultParseWidth:"any"}),day:nn({matchPatterns:Fh,defaultMatchWidth:"wide",parsePatterns:Vh,defaultParseWidth:"any"}),dayPeriod:nn({matchPatterns:Lh,defaultMatchWidth:"any",parsePatterns:Nh,defaultParseWidth:"any"})},yr={code:"en-US",formatDistance:ch,formatLong:mh,formatRelative:ph,localize:Dh,match:Bh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vn(e){const n=ee(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function un(e,...n){const t=Ce.bind(null,n.find(r=>typeof r=="object"));return n.map(t)}function an(e,n){const t=ee(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function $h(e,n,t){const[r,s]=un(t==null?void 0:t.in,e,n),o=an(r),i=an(s),c=+o-vn(o),l=+i-vn(i);return Math.round((c-l)/Ju)}function Fa(e,n){const t=ee(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function zh(e,n){const t=ee(e,n==null?void 0:n.in);return $h(t,Fa(t))+1}function gt(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.weekStartsOn)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=ee(e,n==null?void 0:n.in),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function Ut(e,n){return gt(e,{...n,weekStartsOn:1})}function Va(e,n){const t=ee(e,n==null?void 0:n.in),r=t.getFullYear(),s=Ce(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=Ut(s),i=Ce(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const c=Ut(i);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function _h(e,n){const t=Va(e,n),r=Ce(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ut(r)}function La(e,n){const t=ee(e,n==null?void 0:n.in),r=+Ut(t)-+_h(t);return Math.round(r/Ia)+1}function br(e,n){var u,x,b,m;const t=ee(e,n==null?void 0:n.in),r=t.getFullYear(),s=jt(),o=(n==null?void 0:n.firstWeekContainsDate)??((x=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(b=s.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ce((n==null?void 0:n.in)||e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const c=gt(i,n),l=Ce((n==null?void 0:n.in)||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const d=gt(l,n);return+t>=+c?r+1:+t>=+d?r:r-1}function Wh(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.firstWeekContainsDate)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=br(e,n),o=Ce((n==null?void 0:n.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),gt(o,n)}function wr(e,n){const t=ee(e,n==null?void 0:n.in),r=+gt(t,n)-+Wh(t,n);return Math.round(r/Ia)+1}function Te(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const bt={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return Te(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):Te(t+1,2)},d(e,n){return Te(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return Te(e.getHours()%12||12,n.length)},H(e,n){return Te(e.getHours(),n.length)},m(e,n){return Te(e.getMinutes(),n.length)},s(e,n){return Te(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return Te(s,n.length)}},Vt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},as={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return bt.y(e,n)},Y:function(e,n,t,r){const s=br(e,r),o=s>0?s:1-s;if(n==="YY"){const i=o%100;return Te(i,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):Te(o,n.length)},R:function(e,n){const t=Va(e);return Te(t,n.length)},u:function(e,n){const t=e.getFullYear();return Te(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return Te(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return Te(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return bt.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return Te(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const s=wr(e,r);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):Te(s,n.length)},I:function(e,n,t){const r=La(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):Te(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):bt.d(e,n)},D:function(e,n,t){const r=zh(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Te(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Te(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Te(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),s=r===0?7:r;switch(n){case"i":return String(s);case"ii":return Te(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const s=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let s;switch(r===12?s=Vt.noon:r===0?s=Vt.midnight:s=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let s;switch(r>=17?s=Vt.evening:r>=12?s=Vt.afternoon:r>=4?s=Vt.morning:s=Vt.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return bt.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):bt.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Te(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):Te(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):bt.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):bt.s(e,n)},S:function(e,n){return bt.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return is(r);case"XXXX":case"XX":return Pt(r);case"XXXXX":case"XXX":default:return Pt(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return is(r);case"xxxx":case"xx":return Pt(r);case"xxxxx":case"xxx":default:return Pt(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+os(r,":");case"OOOO":default:return"GMT"+Pt(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+os(r,":");case"zzzz":default:return"GMT"+Pt(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return Te(r,n.length)},T:function(e,n,t){return Te(+e,n.length)}};function os(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?t+String(s):t+String(s)+n+Te(o,2)}function is(e,n){return e%60===0?(e>0?"-":"+")+Te(Math.abs(e)/60,2):Pt(e,n)}function Pt(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Te(Math.trunc(r/60),2),o=Te(r%60,2);return t+s+n+o}const ls=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Na=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},Hh=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return ls(e,n);let o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",ls(r,n)).replace("{{time}}",Na(s,n))},Tn={p:Na,P:Hh},Yh=/^D+$/,Uh=/^Y+$/,qh=["D","DD","YY","YYYY"];function Ba(e){return Yh.test(e)}function $a(e){return Uh.test(e)}function Jn(e,n,t){const r=Gh(e,n,t);if(console.warn(r),qh.includes(e))throw new RangeError(r)}function Gh(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Qh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function za(e){return!(!Qh(e)&&typeof e!="number"||isNaN(+ee(e)))}const Xh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Kh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Zh=/^'([^]*?)'?$/,Jh=/''/g,em=/[a-zA-Z]/;function tm(e,n,t){var u,x,b,m,h,D,p,g;const r=jt(),s=(t==null?void 0:t.locale)??r.locale??yr,o=(t==null?void 0:t.firstWeekContainsDate)??((x=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(b=r.locale)==null?void 0:b.options)==null?void 0:m.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((D=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:D.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,c=ee(e,t==null?void 0:t.in);if(!za(c))throw new RangeError("Invalid time value");let l=n.match(Kh).map(w=>{const M=w[0];if(M==="p"||M==="P"){const T=Tn[M];return T(w,s.formatLong)}return w}).join("").match(Xh).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const M=w[0];if(M==="'")return{isToken:!1,value:nm(w)};if(as[M])return{isToken:!0,value:w};if(M.match(em))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const M=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&$a(M)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&Ba(M))&&Jn(M,n,String(e));const T=as[M[0]];return T(c,M,s.localize,d)}).join("")}function nm(e){const n=e.match(Zh);return n?n[1].replace(Jh,"'"):e}function rm(e,n){return ee(e,n==null?void 0:n.in).getDate()}function _a(e,n){const t=ee(e,n==null?void 0:n.in),r=t.getFullYear(),s=t.getMonth(),o=Ce(t,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function sm(e,n){return ee(e,n==null?void 0:n.in).getHours()}function am(e,n){return ee(e,n==null?void 0:n.in).getMinutes()}function om(e,n){return ee(e,n==null?void 0:n.in).getMonth()}function im(e){return ee(e).getSeconds()}function lm(e){return ee(e).getMilliseconds()}function cm(e,n){return ee(e,n==null?void 0:n.in).getFullYear()}function Yn(e,n){return+ee(e)>+ee(n)}function Un(e,n){return+ee(e)<+ee(n)}function dm(e,n){return+ee(e)==+ee(n)}function um(e,n,t){const[r,s]=un(t==null?void 0:t.in,e,n);return+an(r)==+an(s)}function hm(e,n,t){const[r,s]=un(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()}function mm(e,n,t){const[r,s]=un(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function cs(e,n){const t=ee(e,n==null?void 0:n.in);return t.setMinutes(0,0,0),t}function fm(e,n,t){const[r,s]=un(t==null?void 0:t.in,e,n);return+cs(r)==+cs(s)}function pm(){return Object.assign({},jt())}function gm(e,n){const t=xm(n)?new n(0):Ce(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function xm(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const ym=10;class Wa{constructor(){U(this,"subPriority",0)}validate(n,t){return!0}}class bm extends Wa{constructor(n,t,r,s,o){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class wm extends Wa{constructor(t,r){super();U(this,"priority",ym);U(this,"subPriority",-1);this.context=t||(s=>Ce(r,s))}set(t,r){return r.timestampIsSet?t:Ce(t,gm(t,this.context))}}class ye{run(n,t,r,s){const o=this.parse(n,t,r,s);return o?{setter:new bm(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(n,t,r){return!0}}class vm extends ye{constructor(){super(...arguments);U(this,"priority",140);U(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Ae={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ht={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Fe(e,n){return e&&{value:n(e.value),rest:e.rest}}function je(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function mt(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:r*(s*Ra+o*Oa+i*eh),rest:n.slice(t[0].length)}}function Ha(e){return je(Ae.anyDigitsSigned,e)}function Re(e,n){switch(e){case 1:return je(Ae.singleDigit,n);case 2:return je(Ae.twoDigits,n);case 3:return je(Ae.threeDigits,n);case 4:return je(Ae.fourDigits,n);default:return je(new RegExp("^\\d{1,"+e+"}"),n)}}function Dn(e,n){switch(e){case 1:return je(Ae.singleDigitSigned,n);case 2:return je(Ae.twoDigitsSigned,n);case 3:return je(Ae.threeDigitsSigned,n);case 4:return je(Ae.fourDigitsSigned,n);default:return je(new RegExp("^-?\\d{1,"+e+"}"),n)}}function vr(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ya(e,n){const t=n>0,r=t?n:1-n;let s;if(r<=50)s=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,c=e>=o%100;s=e+i-(c?100:0)}return t?s:1-s}function Ua(e){return e%400===0||e%4===0&&e%100!==0}class Tm extends ye{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Fe(Re(4,t),o);case"yo":return Fe(s.ordinalNumber(t,{unit:"year"}),o);default:return Fe(Re(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const o=t.getFullYear();if(s.isTwoDigitYear){const c=Ya(s.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const i=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Dm extends ye{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Fe(Re(4,t),o);case"Yo":return Fe(s.ordinalNumber(t,{unit:"year"}),o);default:return Fe(Re(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,o){const i=br(t,o);if(s.isTwoDigitYear){const l=Ya(s.year,i);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),gt(t,o)}const c=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),gt(t,o)}}class Pm extends ye{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Dn(r==="R"?4:r.length,t)}set(t,r,s){const o=Ce(t,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),Ut(o)}}class Sm extends ye{constructor(){super(...arguments);U(this,"priority",130);U(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Dn(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Mm extends ye{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return Re(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class km extends ye{constructor(){super(...arguments);U(this,"priority",120);U(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return Re(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class Cm extends ye{constructor(){super(...arguments);U(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);U(this,"priority",110)}parse(t,r,s){const o=i=>i-1;switch(r){case"M":return Fe(je(Ae.month,t),o);case"MM":return Fe(Re(2,t),o);case"Mo":return Fe(s.ordinalNumber(t,{unit:"month"}),o);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class jm extends ye{constructor(){super(...arguments);U(this,"priority",110);U(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const o=i=>i-1;switch(r){case"L":return Fe(je(Ae.month,t),o);case"LL":return Fe(Re(2,t),o);case"Lo":return Fe(s.ordinalNumber(t,{unit:"month"}),o);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function Im(e,n,t){const r=ee(e,t==null?void 0:t.in),s=wr(r,t)-n;return r.setDate(r.getDate()-s*7),ee(r,t==null?void 0:t.in)}class Om extends ye{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return je(Ae.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Re(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,o){return gt(Im(t,s,o),o)}}function Rm(e,n,t){const r=ee(e,t==null?void 0:t.in),s=La(r,t)-n;return r.setDate(r.getDate()-s*7),r}class Em extends ye{constructor(){super(...arguments);U(this,"priority",100);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return je(Ae.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Re(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return Ut(Rm(t,s))}}const Am=[31,28,31,30,31,30,31,31,30,31,30,31],Fm=[31,29,31,30,31,30,31,31,30,31,30,31];class Vm extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"subPriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return je(Ae.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Re(r.length,t)}}validate(t,r){const s=t.getFullYear(),o=Ua(s),i=t.getMonth();return o?r>=1&&r<=Fm[i]:r>=1&&r<=Am[i]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class Lm extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"subpriority",1);U(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return je(Ae.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Re(r.length,t)}}validate(t,r){const s=t.getFullYear();return Ua(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Tr(e,n,t){var x,b,m,h;const r=jt(),s=(t==null?void 0:t.weekStartsOn)??((b=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,o=ee(e,t==null?void 0:t.in),i=o.getDay(),l=(n%7+7)%7,d=7-s,u=n<0||n>6?n-(i+d)%7:(l+d)%7-(i+d)%7;return Rn(o,u,t)}class Nm extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Tr(t,s,o),t.setHours(0,0,0,0),t}}class Bm extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,o){const i=c=>{const l=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Fe(Re(r.length,t),i);case"eo":return Fe(s.ordinalNumber(t,{unit:"day"}),i);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Tr(t,s,o),t.setHours(0,0,0,0),t}}class $m extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,o){const i=c=>{const l=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Fe(Re(r.length,t),i);case"co":return Fe(s.ordinalNumber(t,{unit:"day"}),i);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Tr(t,s,o),t.setHours(0,0,0,0),t}}function zm(e,n){const t=ee(e,n==null?void 0:n.in).getDay();return t===0?7:t}function _m(e,n,t){const r=ee(e,t==null?void 0:t.in),s=zm(r,t),o=n-s;return Rn(r,o,t)}class Wm extends ye{constructor(){super(...arguments);U(this,"priority",90);U(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return Re(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Fe(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Fe(s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Fe(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Fe(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=_m(t,s),t.setHours(0,0,0,0),t}}class Hm extends ye{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(vr(s),0,0,0),t}}class Ym extends ye{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(vr(s),0,0,0),t}}class Um extends ye{constructor(){super(...arguments);U(this,"priority",80);U(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(vr(s),0,0,0),t}}class qm extends ye{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return je(Ae.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Re(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const o=t.getHours()>=12;return o&&s<12?t.setHours(s+12,0,0,0):!o&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class Gm extends ye{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return je(Ae.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Re(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class Qm extends ye{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return je(Ae.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Re(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class Xm extends ye{constructor(){super(...arguments);U(this,"priority",70);U(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return je(Ae.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Re(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const o=s<=24?s%24:s;return t.setHours(o,0,0,0),t}}class Km extends ye{constructor(){super(...arguments);U(this,"priority",60);U(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return je(Ae.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Re(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class Zm extends ye{constructor(){super(...arguments);U(this,"priority",50);U(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return je(Ae.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Re(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class Jm extends ye{constructor(){super(...arguments);U(this,"priority",30);U(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Fe(Re(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class ef extends ye{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return mt(ht.basicOptionalMinutes,t);case"XX":return mt(ht.basic,t);case"XXXX":return mt(ht.basicOptionalSeconds,t);case"XXXXX":return mt(ht.extendedOptionalSeconds,t);case"XXX":default:return mt(ht.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Ce(t,t.getTime()-vn(t)-s)}}class tf extends ye{constructor(){super(...arguments);U(this,"priority",10);U(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return mt(ht.basicOptionalMinutes,t);case"xx":return mt(ht.basic,t);case"xxxx":return mt(ht.basicOptionalSeconds,t);case"xxxxx":return mt(ht.extendedOptionalSeconds,t);case"xxx":default:return mt(ht.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Ce(t,t.getTime()-vn(t)-s)}}class nf extends ye{constructor(){super(...arguments);U(this,"priority",40);U(this,"incompatibleTokens","*")}parse(t){return Ha(t)}set(t,r,s){return[Ce(t,s*1e3),{timestampIsSet:!0}]}}class rf extends ye{constructor(){super(...arguments);U(this,"priority",20);U(this,"incompatibleTokens","*")}parse(t){return Ha(t)}set(t,r,s){return[Ce(t,s),{timestampIsSet:!0}]}}const sf={G:new vm,y:new Tm,Y:new Dm,R:new Pm,u:new Sm,Q:new Mm,q:new km,M:new Cm,L:new jm,w:new Om,I:new Em,d:new Vm,D:new Lm,E:new Nm,e:new Bm,c:new $m,i:new Wm,a:new Hm,b:new Ym,B:new Um,h:new qm,H:new Gm,K:new Qm,k:new Xm,m:new Km,s:new Zm,S:new Jm,X:new ef,x:new tf,t:new nf,T:new rf},af=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,of=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lf=/^'([^]*?)'?$/,cf=/''/g,df=/\S/,uf=/[a-zA-Z]/;function hf(e,n,t,r){var p,g,w,M,T,I,j,O;const s=()=>Ce((r==null?void 0:r.in)||t,NaN),o=pm(),i=(r==null?void 0:r.locale)??o.locale??yr,c=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??o.firstWeekContainsDate??((M=(w=o.locale)==null?void 0:w.options)==null?void 0:M.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((I=(T=r==null?void 0:r.locale)==null?void 0:T.options)==null?void 0:I.weekStartsOn)??o.weekStartsOn??((O=(j=o.locale)==null?void 0:j.options)==null?void 0:O.weekStartsOn)??0;if(!n)return e?s():ee(t,r==null?void 0:r.in);const d={firstWeekContainsDate:c,weekStartsOn:l,locale:i},u=[new wm(r==null?void 0:r.in,t)],x=n.match(of).map(y=>{const k=y[0];if(k in Tn){const R=Tn[k];return R(y,i.formatLong)}return y}).join("").match(af),b=[];for(let y of x){!(r!=null&&r.useAdditionalWeekYearTokens)&&$a(y)&&Jn(y,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ba(y)&&Jn(y,n,e);const k=y[0],R=sf[k];if(R){const{incompatibleTokens:V}=R;if(Array.isArray(V)){const _=b.find(L=>V.includes(L.token)||L.token===k);if(_)throw new RangeError(`The format string mustn't contain \`${_.fullToken}\` and \`${y}\` at the same time`)}else if(R.incompatibleTokens==="*"&&b.length>0)throw new RangeError(`The format string mustn't contain \`${y}\` and any other token at the same time`);b.push({token:k,fullToken:y});const S=R.run(e,y,i.match,d);if(!S)return s();u.push(S.setter),e=S.rest}else{if(k.match(uf))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(y==="''"?y="'":k==="'"&&(y=mf(y)),e.indexOf(y)===0)e=e.slice(y.length);else return s()}}if(e.length>0&&df.test(e))return s();const m=u.map(y=>y.priority).sort((y,k)=>k-y).filter((y,k,R)=>R.indexOf(y)===k).map(y=>u.filter(k=>k.priority===y).sort((k,R)=>R.subPriority-k.subPriority)).map(y=>y[0]);let h=ee(t,r==null?void 0:r.in);if(isNaN(+h))return s();const D={};for(const y of m){if(!y.validate(h,d))return s();const k=y.set(h,D,d);Array.isArray(k)?(h=k[0],Object.assign(D,k[1])):h=k}return h}function mf(e){return e.match(lf)[1].replace(cf,"'")}function ff(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setDate(n),r}function pf(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setHours(n),r}function gf(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setMinutes(n),r}function xf(e,n,t){const r=ee(e,t==null?void 0:t.in),s=r.getFullYear(),o=r.getDate(),i=Ce(e,0);i.setFullYear(s,n,15),i.setHours(0,0,0,0);const c=_a(i);return r.setMonth(n,Math.min(o,c)),r}function yf(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setSeconds(n),r}function bf(e,n,t){const r=ee(e,t==null?void 0:t.in);return r.setMilliseconds(n),r}function wf(e,n,t){const r=ee(e,t==null?void 0:t.in);return isNaN(+r)?Ce(e,NaN):(r.setFullYear(n),r)}function vf(e,n){const t=ee(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Tf(e,n){const t=ee(e,n==null?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Df(e,n,t){const r=+ee(e,t==null?void 0:t.in),[s,o]=[+ee(n.start,t==null?void 0:t.in),+ee(n.end,t==null?void 0:t.in)].sort((i,c)=>i-c);return r>=s&&r<=o}const Pf={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Sf={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class Mf{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=Pf,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=i=>{const c=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(c).map(l=>{const d=l[0];if(d==="p"||d==="P"){const u=this.longFormatters[d];return u(l,this.locale.formatLong)}return l}).join("")},this.formatNumber=i=>i,this.getDayOfWeek=i=>i.getDay()+1;const{locale:t,formats:r,longFormatters:s,lib:o}=n;this.locale=t,this.formats=v({},Sf,r),this.longFormatters=s,this.lib=o||"date-fns"}}class kf extends Mf{constructor({locale:n,formats:t}={}){super({locale:n??yr,formats:t,longFormatters:Tn}),this.parse=(r,s)=>r===""?null:hf(r,s,new Date,{locale:this.locale}),this.isValid=r=>r==null?!1:za(r),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>tm(r,s,{locale:this.locale}),this.isEqual=(r,s)=>r===null&&s===null?!0:r===null||s===null?!1:dm(r,s),this.isSameYear=(r,s)=>hm(r,s),this.isSameMonth=(r,s)=>mm(r,s),this.isSameDay=(r,s)=>um(r,s),this.isSameHour=(r,s)=>fm(r,s),this.isAfter=(r,s)=>Yn(r,s),this.isAfterYear=(r,s)=>Yn(r,ss(s)),this.isAfterDay=(r,s)=>Yn(r,rs(s)),this.isBefore=(r,s)=>Un(r,s),this.isBeforeYear=(r,s)=>Un(r,this.startOfYear(s)),this.isBeforeDay=(r,s)=>Un(r,this.startOfDay(s)),this.isWithinRange=(r,[s,o])=>Df(r,{start:s,end:o}),this.startOfYear=r=>Fa(r),this.startOfMonth=r=>vf(r),this.startOfWeek=r=>gt(r,{locale:this.locale}),this.startOfDay=r=>an(r),this.endOfYear=r=>ss(r),this.endOfMonth=r=>Tf(r),this.endOfWeek=r=>ih(r,{locale:this.locale}),this.endOfDay=r=>rs(r),this.addYears=(r,s)=>ah(r,s),this.addMonths=(r,s)=>Aa(r,s),this.addWeeks=(r,s)=>sh(r,s),this.addDays=(r,s)=>Rn(r,s),this.addHours=(r,s)=>rh(r,s),this.addMinutes=(r,s)=>nh(r,s),this.addSeconds=(r,s)=>th(r,s),this.getYear=r=>cm(r),this.getMonth=r=>om(r),this.getDate=r=>rm(r),this.getHours=r=>sm(r),this.getMinutes=r=>am(r),this.getSeconds=r=>im(r),this.getMilliseconds=r=>lm(r),this.setYear=(r,s)=>wf(r,s),this.setMonth=(r,s)=>xf(r,s),this.setDate=(r,s)=>ff(r,s),this.setHours=(r,s)=>pf(r,s),this.setMinutes=(r,s)=>gf(r,s),this.setSeconds=(r,s)=>yf(r,s),this.setMilliseconds=(r,s)=>bf(r,s),this.getDaysInMonth=r=>_a(r),this.getWeekArray=r=>{const s=this.startOfWeek(this.startOfMonth(r)),o=this.endOfWeek(this.endOfMonth(r));let i=0,c=s;const l=[];for(;this.isBefore(c,o);){const d=Math.floor(i/7);l[d]=l[d]||[],l[d].push(c),c=this.addDays(c,1),i+=1}return l},this.getWeekNumber=r=>wr(r,{locale:this.locale}),this.getYearRange=([r,s])=>{const o=this.startOfYear(r),i=this.endOfYear(s),c=[];let l=o;for(;this.isBefore(l,i);)c.push(l),l=this.addYears(l,1);return c}}}const Cf=Ye(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),jf=()=>{const e=xt(),{incidents:n}=De(c=>c.analyzer.rawData),t=De(c=>c.analyzer.filters.incidentTypes),r=f.useMemo(()=>{const c=new Set;return n.forEach(l=>{l.incidentType&&c.add(l.incidentType)}),Array.from(c).sort()},[n]),s=c=>{const l=t||[],d=l.includes(c)?l.filter(u=>u!==c):[...l,c];e(An(d.length>0?d:null))},o=()=>{e(An(null))},i=()=>{e(An(r))};return a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Incident Types"}),a.jsxs(A,{children:[a.jsx(ze,{size:"small",onClick:i,children:"Select All"}),a.jsx(ze,{size:"small",onClick:o,children:"Clear"})]})]}),r.length===0?a.jsx(P,{variant:"body2",color:"text.secondary",children:"No incident types available in the data."}):a.jsx(Ms,{children:a.jsx(G,{container:!0,spacing:1,children:r.map(c=>a.jsx(G,{size:6,children:a.jsx(tr,{control:a.jsx(er,{checked:(t==null?void 0:t.includes(c))||!1,onChange:()=>s(c),size:"small"}),label:a.jsx(P,{variant:"body2",children:c})})},c))})})]})},If=()=>{const e=xt(),{incidents:n}=De(c=>c.analyzer.rawData),t=De(c=>c.analyzer.filters.units),r=f.useMemo(()=>{const c=new Set;return n.forEach(l=>{l.respondingUnit&&c.add(l.respondingUnit)}),Array.from(c).sort()},[n]),s=c=>{const l=t||[],d=l.includes(c)?l.filter(u=>u!==c):[...l,c];e(Fn(d.length>0?d:null))},o=()=>{e(Fn(null))},i=()=>{e(Fn(r))};return a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Responding Units"}),a.jsxs(A,{children:[a.jsx(ze,{size:"small",onClick:i,children:"Select All"}),a.jsx(ze,{size:"small",onClick:o,children:"Clear"})]})]}),r.length===0?a.jsx(P,{variant:"body2",color:"text.secondary",children:"No responding unit data available."}):a.jsx(Ms,{children:a.jsx(G,{container:!0,spacing:1,children:r.map(c=>a.jsx(G,{size:6,children:a.jsx(tr,{control:a.jsx(er,{checked:(t==null?void 0:t.includes(c))||!1,onChange:()=>s(c),size:"small"}),label:a.jsx(P,{variant:"body2",children:c})})},c))})})]})},Of=()=>{const e=xt(),n=De(l=>l.analyzer.filters.dateRange),{incidents:t}=De(l=>l.analyzer.rawData),[r,s]=f.useState({min:null,max:null});f.useEffect(()=>{if(t.length>0){const l=t.map(d=>d.incidentDate).filter(d=>d).map(d=>new Date(d));if(l.length>0){const d=new Date(Math.min(...l.map(x=>x.getTime()))),u=new Date(Math.max(...l.map(x=>x.getTime())));s({min:d,max:u})}}},[t]);const o=l=>{if(l){const d=n?n[1]:null;e(En(d?[l,d]:null))}},i=l=>{if(l){const d=n?n[0]:null;e(En(d?[d,l]:null))}},c=()=>{e(En(null))};return a.jsx(Ns,{dateAdapter:kf,children:a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Date Range"}),a.jsx(ze,{size:"small",onClick:c,children:"Clear"})]}),a.jsxs(G,{container:!0,spacing:2,children:[a.jsx(G,{size:6,children:a.jsx(ts,{label:"Start Date",value:n?n[0]:void 0,onChange:o,minDate:r.min??void 0,maxDate:r.max??void 0,slotProps:{textField:{size:"small",fullWidth:!0,variant:"outlined"}}})}),a.jsx(G,{size:6,children:a.jsx(ts,{label:"End Date",value:n?n[1]:void 0,onChange:i,minDate:r.min??void 0,maxDate:r.max??void 0,slotProps:{textField:{size:"small",fullWidth:!0,variant:"outlined"}}})})]}),r.min&&r.max&&a.jsxs(P,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["Data range: ",r.min.toLocaleDateString()," to ",r.max.toLocaleDateString()]})]})})},Rf=()=>{const e=xt(),n=De(s=>s.analyzer.filters.timeOfDay),t=[{label:"Morning (6AM-12PM)",value:[6,12]},{label:"Afternoon (12PM-6PM)",value:[12,18]},{label:"Evening (6PM-12AM)",value:[18,24]},{label:"Night (12AM-6AM)",value:[0,6]}],r=s=>{const o=n&&n[0]===s[0]&&n[1]===s[1]?null:s;e(oo(o))};return a.jsxs(A,{children:[a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Time of Day"}),a.jsx(zo,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:1},children:t.map(s=>a.jsx(Qe,{label:s.label,clickable:!0,onClick:()=>r(s.value),color:n&&n[0]===s.value[0]&&n[1]===s.value[1]?"primary":"default",variant:n&&n[0]===s.value[0]&&n[1]===s.value[1]?"filled":"outlined"},s.label))})]})},Ef=()=>{const e=xt(),n=De(i=>i.analyzer.filters),{incidents:t}=De(i=>i.analyzer.rawData),r=f.useMemo(()=>n.dateRange!==null||n.incidentTypes!==null||n.units!==null||n.geographicBounds!==null||n.timeOfDay!==null||n.priority!==null,[n]),s=f.useMemo(()=>r?t.filter(i=>{if(n.dateRange){const c=new Date(i.incidentDate),[l,d]=n.dateRange;if(c<l||c>d)return!1}if(n.incidentTypes&&i.incidentType&&!n.incidentTypes.includes(i.incidentType)||n.units&&i.respondingUnit&&!n.units.includes(i.respondingUnit))return!1;if(n.timeOfDay&&i.incidentTime){const c=i.incidentTime,l=parseInt(c.split(":")[0],10);if(l<n.timeOfDay[0]||l>=n.timeOfDay[1])return!1}return!(n.priority&&i.priority&&!n.priority.includes(i.priority))}).length:t.length,[t,n,r]),o=()=>{e(ao())};return a.jsxs(A,{sx:{p:3},children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[a.jsxs(P,{variant:"h6",children:[a.jsx(Cf,{sx:{verticalAlign:"middle",mr:1}}),"Filters"]}),a.jsx(ze,{variant:"outlined",color:"primary",startIcon:a.jsx($o,{}),disabled:!r,onClick:o,children:"Reset All"})]}),r&&a.jsxs(Nt,{severity:"info",sx:{mb:3},children:["Showing ",s," of ",t.length," incidents after applying filters"]}),a.jsxs(G,{container:!0,spacing:3,children:[a.jsx(G,{size:{xs:12,md:6},children:a.jsx(Ee,{variant:"outlined",sx:{p:2},children:a.jsx(Of,{})})}),a.jsx(G,{size:{xs:12,md:6},children:a.jsx(Ee,{variant:"outlined",sx:{p:2},children:a.jsx(Rf,{})})}),a.jsx(G,{size:{xs:12,md:6},children:a.jsx(Ee,{variant:"outlined",sx:{p:2},children:a.jsx(jf,{})})}),a.jsx(G,{size:{xs:12,md:6},children:a.jsx(Ee,{variant:"outlined",sx:{p:2},children:a.jsx(If,{})})})]}),a.jsx(A,{sx:{mt:3},children:a.jsxs(jo,{children:[a.jsx(Io,{expandIcon:a.jsx(Oo,{}),children:a.jsx(P,{children:"Saved Filters"})}),a.jsx(Ro,{children:a.jsx(A,{sx:{display:"flex",justifyContent:"center",p:2},children:a.jsx(P,{variant:"body2",color:"text.secondary",children:"Saved filters feature coming soon"})})})]})})]})},Af=Ye(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),Ff=Ye(a.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),ds=[{id:"excel",name:"Excel Workbook (.xlsx)",description:"Detailed spreadsheet with multiple tabs for incidents, statistics, and charts",icon:a.jsx(Af,{sx:{color:"#2E7D32"}})},{id:"csv",name:"CSV File (.csv)",description:"Simple comma-separated values file that can be opened in any spreadsheet application",icon:a.jsx(Ff,{sx:{color:"#1976D2"}})},{id:"pdf",name:"PDF Report (.pdf)",description:"Formatted report with tables, charts and statistics",icon:a.jsx(Wo,{sx:{color:"#D32F2F"}})}],Vf=[{id:"summary",name:"Summary Statistics",description:"Overall response time metrics and KPIs",icon:a.jsx(Ho,{})},{id:"incidents",name:"Incident Details",description:"Detailed table of all incidents and response times",icon:a.jsx(Yo,{})},{id:"map",name:"Geographic Analysis",description:"Map and location-based analysis (PDF only)",icon:a.jsx(Vo,{})}],Lf=()=>{var p;const{incidents:e}=De(g=>g.analyzer.rawData),{responseTimeStats:n}=De(g=>g.analyzer.calculatedMetrics),t=De(g=>g.analyzer.filters),[r,s]=f.useState("excel"),[o,i]=f.useState(["summary","incidents"]),[c,l]=f.useState(!1),[d,u]=f.useState({success:!1,message:"",open:!1}),x=g=>{const w=[...o],M=w.indexOf(g);M===-1?w.push(g):w.splice(M,1),i(w)},b=async()=>{const g=await Sr(()=>import("./xlsx-DkH2s96g.js"),[]),w=g.utils.book_new();if(w.Props={Title:"Response Time Analysis Report",Subject:"Incident Response Times",Author:"FireEMS Response Time Analyzer",CreatedDate:new Date},o.includes("summary")&&n){const T=[["Response Time Statistics","","","",""],["Metric","Mean","Median","90th Percentile","Standard Deviation"],["Dispatch Time",n.mean.dispatchTime||"N/A",n.median.dispatchTime||"N/A",n.ninetiethPercentile.dispatchTime||"N/A",n.standardDeviation.dispatchTime||"N/A"],["Turnout Time",n.mean.turnoutTime||"N/A",n.median.turnoutTime||"N/A",n.ninetiethPercentile.turnoutTime||"N/A",n.standardDeviation.turnoutTime||"N/A"],["Travel Time",n.mean.travelTime||"N/A",n.median.travelTime||"N/A",n.ninetiethPercentile.travelTime||"N/A",n.standardDeviation.travelTime||"N/A"],["Total Response Time",n.mean.totalResponseTime||"N/A",n.median.totalResponseTime||"N/A",n.ninetiethPercentile.totalResponseTime||"N/A",n.standardDeviation.totalResponseTime||"N/A"],["","","","",""],["Report Generated:",new Date().toLocaleString(),"","",""],["Total Incidents:",e.length.toString(),"","",""]];(t.dateRange||t.incidentTypes||t.units||t.timeOfDay)&&(T.push(["","","","",""]),T.push(["Applied Filters:","","","",""]),t.dateRange&&T.push(["Date Range:",`${t.dateRange[0].toLocaleDateString()} to ${t.dateRange[1].toLocaleDateString()}`,"","",""]),t.incidentTypes&&T.push(["Incident Types:",t.incidentTypes.join(", "),"","",""]),t.units&&T.push(["Units:",t.units.join(", "),"","",""]),t.timeOfDay&&T.push(["Time of Day:",`${t.timeOfDay[0]}:00 to ${t.timeOfDay[1]}:00`,"","",""]));const I=g.utils.aoa_to_sheet(T),j=[{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}];I["!cols"]=j,g.utils.book_append_sheet(w,I,"Summary Statistics")}if(o.includes("incidents")){const T=e.map(O=>{const y=et(O);return{"Incident ID":O.incidentId,Date:O.incidentDate,Time:O.incidentTime||"",Type:O.incidentType||"","Responding Unit":O.respondingUnit||"",Address:O.address||"",Location:O.latitude&&O.longitude?`${O.latitude}, ${O.longitude}`:"","Dispatch Time (s)":y.dispatchTime||"","Turnout Time (s)":y.turnoutTime||"","Travel Time (s)":y.travelTime||"","Total Response Time (s)":y.totalResponseTime||"","Scene Time (s)":y.sceneTime||"","Total Incident Time (s)":y.totalIncidentTime||""}}),I=g.utils.json_to_sheet(T),j=[{wch:15},{wch:12},{wch:10},{wch:15},{wch:15},{wch:25},{wch:20},{wch:15},{wch:15},{wch:15},{wch:20},{wch:15},{wch:20}];I["!cols"]=j,g.utils.book_append_sheet(w,I,"Incident Details")}const M=`response_time_analysis_${Date.now()}.xlsx`;return g.writeFile(w,M),{success:!0,filename:M}},m=async()=>{const g=e.map(y=>{const k=et(y);return{"Incident ID":y.incidentId,Date:y.incidentDate,Time:y.incidentTime||"",Type:y.incidentType||"","Responding Unit":y.respondingUnit||"",Address:y.address||"",Location:y.latitude&&y.longitude?`${y.latitude}, ${y.longitude}`:"","Dispatch Time (s)":k.dispatchTime||"","Turnout Time (s)":k.turnoutTime||"","Travel Time (s)":k.travelTime||"","Total Response Time (s)":k.totalResponseTime||"","Scene Time (s)":k.sceneTime||"","Total Incident Time (s)":k.totalIncidentTime||""}}),w=await Sr(()=>import("./xlsx-DkH2s96g.js"),[]),M=w.utils.json_to_sheet(g),T=w.utils.sheet_to_csv(M),I=new Blob([T],{type:"text/csv;charset=utf-8;"}),j=URL.createObjectURL(I),O=document.createElement("a");return O.href=j,O.setAttribute("download",`response_time_analysis_${Date.now()}.csv`),document.body.appendChild(O),O.click(),document.body.removeChild(O),{success:!0,filename:`response_time_analysis_${Date.now()}.csv`}},h=()=>({success:!0,filename:`response_time_analysis_${Date.now()}.pdf`}),D=async()=>{if(!e.length){u({success:!1,message:"No data to export",open:!0});return}l(!0);try{let g;switch(r){case"excel":g=await b();break;case"csv":g=await m();break;case"pdf":g=h();break;default:throw new Error("Unsupported export format")}u({success:!0,message:`Data exported successfully as ${r.toUpperCase()} file: ${g.filename}`,open:!0})}catch(g){console.error("Export error:",g),u({success:!1,message:`Error exporting data: ${g instanceof Error?g.message:"Unknown error"}`,open:!0})}finally{l(!1)}};return a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Export Analysis Results"}),a.jsxs(G,{container:!0,spacing:3,children:[a.jsx(G,{size:{xs:12,md:6},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2,height:"100%"},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Export Format"}),a.jsx(Gn,{children:ds.map(g=>a.jsx(Ee,{variant:"outlined",sx:{mb:1,p:1,bgcolor:r===g.id?"action.selected":"background.paper",cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:()=>s(g.id),children:a.jsxs(qn,{children:[a.jsx(Eo,{children:g.icon}),a.jsx(Ao,{primary:g.name,secondary:g.description})]})},g.id))})]})}),a.jsx(G,{size:{xs:12,md:6},children:a.jsxs(Ee,{variant:"outlined",sx:{p:2,height:"100%"},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Include In Export"}),a.jsx(Gn,{children:Vf.map(g=>a.jsx(qn,{dense:!0,children:a.jsx(tr,{control:a.jsx(er,{checked:o.includes(g.id),onChange:()=>x(g.id),disabled:g.id==="map"&&r!=="pdf"}),label:a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[g.icon,a.jsx(P,{variant:"body1",sx:{ml:1},children:g.name})]}),a.jsx(P,{variant:"body2",color:"text.secondary",children:g.description})]}),sx:{width:"100%"}})},g.id))})]})})]}),a.jsxs(Ee,{variant:"outlined",sx:{p:2,mt:3},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Export Summary"}),a.jsxs(G,{container:!0,spacing:2,children:[a.jsxs(G,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total Records"}),a.jsxs(P,{variant:"body1",children:[e.length," incidents"]})]}),a.jsxs(G,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Format"}),a.jsx(P,{variant:"body1",children:((p=ds.find(g=>g.id===r))==null?void 0:p.name)||r})]}),a.jsxs(G,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Estimated File Size"}),a.jsx(P,{variant:"body1",children:r==="excel"?`~${Math.ceil(e.length*.5)} KB`:r==="csv"?`~${Math.ceil(e.length*.3)} KB`:r==="pdf"?`~${Math.ceil(e.length*.7+(o.includes("map")?500:0))} KB`:"Unknown"})]})]}),a.jsx(A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:a.jsx(ze,{variant:"contained",color:"primary",startIcon:c?a.jsx(hs,{size:20}):a.jsx(_o,{}),onClick:D,disabled:c||!o.length,children:c?"Exporting...":"Export Data"})})]}),a.jsx(Fo,{open:d.open,autoHideDuration:6e3,onClose:()=>u({...d,open:!1}),children:a.jsx(Nt,{onClose:()=>u({...d,open:!1}),severity:d.success?"success":"error",children:d.message})})]})},Yf=({initialData:e})=>{const n=xt(),{rawData:t,ui:r}=De(m=>m.analyzer),[s,o]=f.useState("none");f.useEffect(()=>{document.title="FireEMS Response Time Analyzer"},[]),f.useEffect(()=>{if(e&&e.length>0){console.log("🔍 INITIAL DATA DEBUG - Data received from formatter:"),console.log("Number of records:",e.length),console.log("First record field names:",Object.keys(e[0])),console.log("First record sample:",e[0]),console.log("First record incidentTime:",e[0].incidentTime),console.log("First record Call Receive Time:",e[0]["Call Receive Time"]),console.log("🔍 END INITIAL DATA DEBUG"),c(e,"formatter");return}const m=sessionStorage.getItem("fireEmsExportedData");if(m)try{const h=JSON.parse(m);if(console.log("Session data found:",h),h.data&&Array.isArray(h.data)&&h.data.length>0){console.log("ANALYZER DEBUG - Raw session data:",m),console.log("ANALYZER DEBUG - Parsed session data:",h),console.log("Sample record from session:",h.data[0]),console.log("ANALYZER DATA CHECK - All field names in first record:"),console.log(Object.keys(h.data[0]));const D=["Incident ID","Incident Date"];console.log("ANALYZER FIELD CHECK - Checking for required original fields:",D);const p=D.filter(w=>!h.data[0].hasOwnProperty(w)||h.data[0][w]===void 0||h.data[0][w]===null);p.length>0&&(console.error(`Missing required fields in incident data: ${p.join(", ")}`),console.log("ANALYZER DEBUG - Full record with missing fields:",JSON.stringify(h.data[0])));const g=i(h.data);c(g,"session");return}else console.error("Invalid data structure in session storage",h)}catch(h){console.error("Error parsing session data",h)}else console.log("No data found in session storage")},[e]);const i=m=>(console.log("📝 NORMALIZE FIELD NAMES - Function called with",m.length,"records"),m.map((h,D)=>{const p={},g={"Incident ID":"incidentId","Incident Date":"incidentDate","Call Receive Time":"incidentTime","Incident Time":"incidentTime","Dispatch Time":"dispatchTime","En Route Time":"enRouteTime","Arrival Time":"arrivalTime","Clear Time":"clearTime","Incident Type":"incidentType",Latitude:"latitude",Longitude:"longitude",Address:"address","call receive time":"incidentTime","incident time":"incidentTime","dispatch time":"dispatchTime","turnout, time":"enRouteTime","travel time":"travelTime","total response, time":"totalResponseTime","incident type":"incidentType",type:"incidentType",location:"location",Location:"location",unit:"unit",Unit:"unit","turnout time":"enRouteTime","response time":"totalResponseTime","total response time":"totalResponseTime","en route time":"enRouteTime","enroute time":"enRouteTime","arrival time":"arrivalTime","clear time":"clearTime","incident id":"incidentId","incident date":"incidentDate",date:"incidentDate",time:"incidentTime"},w=["incidentTime","incidentId","incidentDate"];w.forEach(T=>{const I=Object.entries(g).filter(([j,O])=>O===T).map(([j,O])=>j);for(const j of I)if(h[j]!==void 0&&h[j]!==null&&h[j]!==""){p[T]=h[j],console.log(`PRIORITY_FIELD_MAPPING: "${j}" -> "${T}" = "${h[j]}"`);break}!p[T]&&h[T]!==void 0&&h[T]!==null&&h[T]!==""&&(p[T]=h[T],console.log(`PRIORITY_FIELD_MAPPING: "${T}" (already camelCase) = "${h[T]}"`))}),Object.entries(g).forEach(([T,I])=>{w.includes(I)&&p[I]!==void 0||(h[T]!==void 0&&h[T]!==null&&h[T]!==""?(p[I]=h[T],console.log(`FIELD_MAPPING: "${T}" -> "${I}" = "${h[T]}"`)):h[I]!==void 0&&h[I]!==null&&h[I]!==""&&(p[I]=h[I],console.log(`FIELD_MAPPING: "${I}" (already camelCase) = "${h[I]}"`)))}),Object.entries(h).forEach(([T,I])=>{if(!(Object.values(g).includes(T)||Object.keys(g).includes(T)))if(T.includes(" ")){const j=T.toLowerCase().split(" ").map((O,y)=>y===0?O:O.charAt(0).toUpperCase()+O.slice(1)).join("");p[j]=I}else p[T]=I}),console.log("=== FIELD MAPPING DEBUG FOR RECORD",D,"==="),console.log("ORIGINAL_FIELD_NAMES:",Object.keys(h)),console.log("ORIGINAL_RECORD_SAMPLE:",h),console.log("NORMALIZED_FIELD_NAMES:",Object.keys(p)),console.log("NORMALIZED_RECORD_SAMPLE:",p),console.log("=== END FIELD MAPPING DEBUG ==="),console.log("=== INCIDENT TIME DEBUG ==="),console.log('Original "Call Receive Time":',h["Call Receive Time"]),console.log('Original "call receive time":',h["call receive time"]),console.log('Original "Incident Time":',h["Incident Time"]),console.log('Original "incident time":',h["incident time"]),console.log("Normalized incidentTime:",p.incidentTime),console.log("=== END INCIDENT TIME DEBUG ===");const M=Object.keys(h).filter(T=>T.toLowerCase().includes("location")||T.toLowerCase().includes("lat")||T.toLowerCase().includes("lon")||T.toLowerCase().includes("coordinate"));if(console.log("LOCATION_RELATED_FIELDS_FOUND:",M),p.location&&typeof p.location=="string"){const T=p.location.split(",");if(T.length===2){const I=parseFloat(T[0].trim()),j=parseFloat(T[1].trim());!isNaN(I)&&!isNaN(j)?(p.latitude=I,p.longitude=j,console.log(`Parsed location "${p.location}" -> lat: ${I}, lng: ${j}`)):console.warn(`Could not parse location: ${p.location}`)}}return p})),c=(m,h)=>{n(io());try{console.log("🔄 LOAD DATA - Starting field normalization"),console.log("Raw data before normalization (first record):",m[0]),console.log("Raw data field names:",Object.keys(m[0]));const D=i(m);D.length>0&&(console.log("🔄 LOAD DATA - After normalization (first record):",D[0]),console.log("🔄 LOAD DATA - Normalized field names:",Object.keys(D[0])),console.log("🔄 LOAD DATA - incidentTime value:",D[0].incidentTime)),n(lo(D));const p=oi(D);n(co(p)),o(h)}catch(D){const p=D instanceof Error?D.message:"Unknown error loading data";n(uo(p))}},l=(m,h)=>{n(ho(h))},[d,u]=f.useState(!1),[x,b]=f.useState(!1);return t.isLoading?a.jsxs(A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:[a.jsx(hs,{size:60}),a.jsx(P,{variant:"h6",sx:{ml:2},children:"Loading incident data..."})]}):t.error?a.jsxs(A,{sx:{p:3},children:[a.jsxs(Nt,{severity:"error",sx:{mb:2},children:["Error loading data: ",t.error]}),a.jsx(ze,{variant:"contained",color:"primary",onClick:()=>window.location.reload(),children:"Reload Page"})]}):t.incidents.length?a.jsxs(A,{sx:{p:3},children:[a.jsxs(Ee,{sx:{p:3,mb:3},children:[a.jsx(P,{variant:"h5",gutterBottom:!0,children:"Response Time Analyzer"}),a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[a.jsxs(P,{variant:"subtitle1",children:["Analyzing ",t.incidents.length," incidents",s==="formatter"&&" (from Data Formatter)",s==="session"&&" (from previous session)"]}),a.jsxs(A,{children:[a.jsx(ze,{variant:"outlined",color:"secondary",sx:{mr:1},onClick:()=>{u(!d),d||b(!1)},children:d?"Hide Filters":"Show Filters"}),a.jsx(ze,{variant:"outlined",color:"secondary",sx:{mr:1},onClick:()=>{b(!x),x||u(!1)},children:x?"Hide Export":"Export Results"}),a.jsx(ze,{variant:"outlined",color:"primary",children:"Load New Data"})]})]}),a.jsx(Nt,{severity:"success",sx:{mb:3},children:"Data loaded successfully. Use the tabs below to explore different views."})]}),d&&a.jsx(Ee,{sx:{p:2,mb:3},children:a.jsx(Ef,{})}),x&&a.jsx(Ee,{sx:{p:2,mb:3},children:a.jsx(Lf,{})}),a.jsx(A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:a.jsxs(Lo,{value:r.selectedView,onChange:l,"aria-label":"analyzer view tabs",children:[a.jsx(Gt,{label:"Dashboard",value:"dashboard"}),a.jsx(Gt,{label:"Timeline",value:"timeline"}),a.jsx(Gt,{label:"Map",value:"map"}),a.jsx(Gt,{label:"Incidents",value:"table"}),a.jsx(Gt,{label:"Statistics",value:"statistics"})]})}),a.jsxs(A,{children:[r.selectedView==="dashboard"&&a.jsx(vi,{}),r.selectedView==="timeline"&&a.jsxs(A,{children:[a.jsx(Di,{}),a.jsx(Is,{})]}),r.selectedView==="map"&&a.jsx(Os,{}),r.selectedView==="table"&&a.jsx(Rs,{}),r.selectedView==="statistics"&&a.jsx(js,{})]})]}):a.jsx(A,{sx:{p:3},children:a.jsxs(Ee,{sx:{p:3},children:[a.jsx(P,{variant:"h5",gutterBottom:!0,children:"Response Time Analyzer"}),a.jsx(Nt,{severity:"info",sx:{mb:3},children:"No incident data loaded. Please use the Data Formatter to send incident data to this tool."}),a.jsx(P,{variant:"body1",paragraph:!0,children:"The Response Time Analyzer calculates and visualizes response time metrics for fire and EMS incidents. You can send data to this tool from the Data Formatter's export screen."}),a.jsx(ze,{variant:"contained",color:"primary",onClick:()=>window.location.href="/data-formatter",children:"Go to Data Formatter"})]})})};export{Yf as default};
