import{g as Qe,a as Je,r as h,u as et,j as m,s as q,c as te,d as B,b as tt,m as ae,e as Ze,K as ft,f as Ct,bc as ke,M as At,a7 as ot,a8 as at,h as nt,bd as mt,l as Fe,ah as gt,B as Ee,ac as Tt,ar as Rt}from"./index-CU1xQazK.js";import{P as rt,u as bt,c as ht,T as fe}from"./Typography-Co4hclXV.js";import{s as Mt,H as Et,V as zt,W as vt,N as st,X as It,O as Dt,b as ze,Q as $t,d as jt,w as Ne,Y as _e,Z as Ve,u as se}from"./Settings-B-nTGn6o.js";import{u as xt,d as Ge,i as it}from"./Button-BiJIdxB9.js";import{v as Bt,L as He}from"./leaflet-BNWm_6Ez.js";function Nt(e){return Qe("MuiAppBar",e)}Je("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Vt=e=>{const{color:t,position:o,classes:r}=e,s={root:["root",`color${B(t)}`,`position${B(o)}`]};return tt(s,Nt,r)},lt=(e,t)=>e?`${e==null?void 0:e.replace(")","")}, ${t})`:t,Ft=q(rt,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`position${B(o.position)}`],t[`color${B(o.color)}`]]}})(ae(({theme:e})=>({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(e.vars||e).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[100],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[100]),...e.applyStyles("dark",{"--AppBar-background":e.vars?e.vars.palette.AppBar.defaultBg:e.palette.grey[900],"--AppBar-color":e.vars?e.vars.palette.text.primary:e.palette.getContrastText(e.palette.grey[900])})}},...Object.entries(e.palette).filter(Ze(["contrastText"])).map(([t])=>({props:{color:t},style:{"--AppBar-background":(e.vars??e).palette[t].main,"--AppBar-color":(e.vars??e).palette[t].contrastText}})),{props:t=>t.enableColorOnDark===!0&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:t=>t.enableColorOnDark===!1&&!["inherit","transparent"].includes(t.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundColor:e.vars?lt(e.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:e.vars?lt(e.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null})}},{props:{color:"transparent"},style:{"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)",...e.applyStyles("dark",{backgroundImage:"none"})}}]}))),Sr=h.forwardRef(function(t,o){const r=et({props:t,name:"MuiAppBar"}),{className:s,color:k="primary",enableColorOnDark:v=!1,position:u="fixed",...l}=r,w={...r,color:k,position:u,enableColorOnDark:v},f=Vt(w);return m.jsx(Ft,{square:!0,component:"header",ownerState:w,elevation:4,className:te(f.root,s,u==="fixed"&&"mui-fixed"),ref:o,...l})});function Ot(e,t,o){const r=t.getBoundingClientRect(),s=o&&o.getBoundingClientRect(),k=vt(t);let v;if(t.fakeTransform)v=t.fakeTransform;else{const w=k.getComputedStyle(t);v=w.getPropertyValue("-webkit-transform")||w.getPropertyValue("transform")}let u=0,l=0;if(v&&v!=="none"&&typeof v=="string"){const w=v.split("(")[1].split(")")[0].split(",");u=parseInt(w[4],10),l=parseInt(w[5],10)}return e==="left"?s?`translateX(${s.right+u-r.left}px)`:`translateX(${k.innerWidth+u-r.left}px)`:e==="right"?s?`translateX(-${r.right-s.left-u}px)`:`translateX(-${r.left+r.width-u}px)`:e==="up"?s?`translateY(${s.bottom+l-r.top}px)`:`translateY(${k.innerHeight+l-r.top}px)`:s?`translateY(-${r.top-s.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function Zt(e){return typeof e=="function"?e():e}function Ie(e,t,o){const r=Zt(o),s=Ot(e,t,r);s&&(t.style.webkitTransform=s,t.style.transform=s)}const Ut=h.forwardRef(function(t,o){const r=bt(),s={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},k={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:v,appear:u=!0,children:l,container:w,direction:f="down",easing:b=s,in:x,onEnter:A,onEntered:E,onEntering:I,onExit:Y,onExited:_,onExiting:ie,style:$,timeout:N=k,TransitionComponent:W=Mt,...me}=t,T=h.useRef(null),G=xt(Et(l),T,o),Z=i=>P=>{i&&(P===void 0?i(T.current):i(T.current,P))},H=Z((i,P)=>{Ie(f,i,w),It(i),A&&A(i,P)}),ne=Z((i,P)=>{const U=st({timeout:N,style:$,easing:b},{mode:"enter"});i.style.webkitTransition=r.transitions.create("-webkit-transform",{...U}),i.style.transition=r.transitions.create("transform",{...U}),i.style.webkitTransform="none",i.style.transform="none",I&&I(i,P)}),R=Z(E),g=Z(ie),d=Z(i=>{const P=st({timeout:N,style:$,easing:b},{mode:"exit"});i.style.webkitTransition=r.transitions.create("-webkit-transform",P),i.style.transition=r.transitions.create("transform",P),Ie(f,i,w),Y&&Y(i)}),Q=Z(i=>{i.style.webkitTransition="",i.style.transition="",_&&_(i)}),C=i=>{v&&v(T.current,i)},J=h.useCallback(()=>{T.current&&Ie(f,T.current,w)},[f,w]);return h.useEffect(()=>{if(x||f==="down"||f==="right")return;const i=zt(()=>{T.current&&Ie(f,T.current,w)}),P=vt(T.current);return P.addEventListener("resize",i),()=>{i.clear(),P.removeEventListener("resize",i)}},[f,x,w]),h.useEffect(()=>{x||J()},[x,J]),m.jsx(W,{nodeRef:T,onEnter:H,onEntered:R,onEntering:ne,onExit:d,onExited:Q,onExiting:g,addEndListener:C,appear:u,in:x,timeout:N,...me,children:(i,{ownerState:P,...U})=>h.cloneElement(l,{ref:G,style:{visibility:i==="exited"&&!x?"hidden":void 0,...$,...l.props.style},...U})})});function Yt(e){return Qe("MuiDrawer",e)}Je("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const yt=(e,t)=>{const{ownerState:o}=e;return[t.root,(o.variant==="permanent"||o.variant==="persistent")&&t.docked,t.modal]},Wt=e=>{const{classes:t,anchor:o,variant:r}=e,s={root:["root",`anchor${B(o)}`],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${B(o)}`,r!=="temporary"&&`paperAnchorDocked${B(o)}`]};return tt(s,Yt,t)},Xt=q($t,{name:"MuiDrawer",slot:"Root",overridesResolver:yt})(ae(({theme:e})=>({zIndex:(e.vars||e).zIndex.drawer}))),Kt=q("div",{shouldForwardProp:Ct,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:yt})({flex:"0 0 auto"}),qt=q(rt,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.paper,t[`paperAnchor${B(o.anchor)}`],o.variant!=="temporary"&&t[`paperAnchorDocked${B(o.anchor)}`]]}})(ae(({theme:e})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(e.vars||e).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(e.vars||e).palette.divider}`}}]}))),kt={left:"right",right:"left",top:"down",bottom:"up"};function _t(e){return["left","right"].includes(e)}function Gt({direction:e},t){return e==="rtl"&&_t(t)?kt[t]:t}const Lr=h.forwardRef(function(t,o){const r=et({props:t,name:"MuiDrawer"}),s=bt(),k=ft(),v={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{anchor:u="left",BackdropProps:l,children:w,className:f,elevation:b=16,hideBackdrop:x=!1,ModalProps:{BackdropProps:A,...E}={},onClose:I,open:Y=!1,PaperProps:_={},SlideProps:ie,TransitionComponent:$,transitionDuration:N=v,variant:W="temporary",slots:me={},slotProps:T={},...G}=r,Z=h.useRef(!1);h.useEffect(()=>{Z.current=!0},[]);const H=Gt({direction:k?"rtl":"ltr"},u),R={...r,anchor:u,elevation:b,open:Y,variant:W,...G},g=Wt(R),d={slots:{transition:$,...me},slotProps:{paper:_,transition:ie,...T,backdrop:Dt(T.backdrop||{...l,...A},{transitionDuration:N})}},[Q,C]=ze("root",{ref:o,elementType:Xt,className:te(g.root,g.modal,f),shouldForwardComponentProp:!0,ownerState:R,externalForwardedProps:{...d,...G,...E},additionalProps:{open:Y,onClose:I,hideBackdrop:x,slots:{backdrop:d.slots.backdrop},slotProps:{backdrop:d.slotProps.backdrop}}}),[J,i]=ze("paper",{elementType:qt,shouldForwardComponentProp:!0,className:te(g.paper,_.className),ownerState:R,externalForwardedProps:d,additionalProps:{elevation:W==="temporary"?b:0,square:!0}}),[P,U]=ze("docked",{elementType:Kt,ref:o,className:te(g.root,g.docked,f),ownerState:R,externalForwardedProps:d,additionalProps:G}),[S,re]=ze("transition",{elementType:Ut,ownerState:R,externalForwardedProps:d,additionalProps:{in:Y,direction:kt[H],timeout:N,appear:Z.current}}),ge=m.jsx(J,{...i,children:w});if(W==="permanent")return m.jsx(P,{...U,children:ge});const be=m.jsx(S,{...re,children:ge});return W==="persistent"?m.jsx(P,{...U,children:be}):m.jsx(Q,{...C,children:be})});function Ht(e,t,o=(r,s)=>r===s){return e.length===t.length&&e.every((r,s)=>o(r,t[s]))}const Qt=2;function ve(e,t,o,r,s){return o===1?Math.min(e+t,s):Math.max(e-t,r)}function wt(e,t){return e-t}function ct(e,t){const{index:o}=e.reduce((r,s,k)=>{const v=Math.abs(t-s);return r===null||v<r.distance||v===r.distance?{distance:v,index:k}:r},null)??{};return o}function De(e,t){if(t.current!==void 0&&e.changedTouches){const o=e;for(let r=0;r<o.changedTouches.length;r+=1){const s=o.changedTouches[r];if(s.identifier===t.current)return{x:s.clientX,y:s.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Oe(e,t,o){return(e-t)*100/(o-t)}function Jt(e,t,o){return(o-t)*e+t}function er(e){if(Math.abs(e)<1){const o=e.toExponential().split("e-"),r=o[0].split(".")[1];return(r?r.length:0)+parseInt(o[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function tr(e,t,o){const r=Math.round((e-o)/t)*t+o;return Number(r.toFixed(er(t)))}function pt({values:e,newValue:t,index:o}){const r=e.slice();return r[o]=t,r.sort(wt)}function $e({sliderRef:e,activeIndex:t,setActive:o}){var s,k,v;const r=Ne(e.current);(!((s=e.current)!=null&&s.contains(r.activeElement))||Number((k=r==null?void 0:r.activeElement)==null?void 0:k.getAttribute("data-index"))!==t)&&((v=e.current)==null||v.querySelector(`[type="range"][data-index="${t}"]`).focus()),o&&o(t)}function je(e,t){return typeof e=="number"&&typeof t=="number"?e===t:typeof e=="object"&&typeof t=="object"?Ht(e,t):!1}const rr={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},or=e=>e;let Be;function ut(){return Be===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?Be=CSS.supports("touch-action","none"):Be=!0),Be}function ar(e){const{"aria-labelledby":t,defaultValue:o,disabled:r=!1,disableSwap:s=!1,isRtl:k=!1,marks:v=!1,max:u=100,min:l=0,name:w,onChange:f,onChangeCommitted:b,orientation:x="horizontal",rootRef:A,scale:E=or,step:I=1,shiftStep:Y=10,tabIndex:_,value:ie}=e,$=h.useRef(void 0),[N,W]=h.useState(-1),[me,T]=h.useState(-1),[G,Z]=h.useState(!1),H=h.useRef(0),ne=h.useRef(null),[R,g]=jt({controlled:ie,default:o??l,name:"Slider"}),d=f&&((a,n,c)=>{const y=a.nativeEvent||a,L=new y.constructor(y.type,y);Object.defineProperty(L,"target",{writable:!0,value:{value:n,name:w}}),ne.current=n,f(L,n,c)}),Q=Array.isArray(R);let C=Q?R.slice().sort(wt):[R];C=C.map(a=>a==null?l:ke(a,l,u));const J=v===!0&&I!==null?[...Array(Math.floor((u-l)/I)+1)].map((a,n)=>({value:l+I*n})):v||[],i=J.map(a=>a.value),[P,U]=h.useState(-1),S=h.useRef(null),re=xt(A,S),ge=a=>n=>{var y;const c=Number(n.currentTarget.getAttribute("data-index"));it(n.target)&&U(c),T(c),(y=a==null?void 0:a.onFocus)==null||y.call(a,n)},be=a=>n=>{var c;it(n.target)||U(-1),T(-1),(c=a==null?void 0:a.onBlur)==null||c.call(a,n)},we=(a,n)=>{const c=Number(a.currentTarget.getAttribute("data-index")),y=C[c],L=i.indexOf(y);let p=n;if(J&&I==null){const D=i[i.length-1];p>=D?p=D:p<=i[0]?p=i[0]:p=p<y?i[L-1]:i[L+1]}if(p=ke(p,l,u),Q){s&&(p=ke(p,C[c-1]||-1/0,C[c+1]||1/0));const D=p;p=pt({values:C,newValue:p,index:c});let O=c;s||(O=p.indexOf(D)),$e({sliderRef:S,activeIndex:O})}g(p),U(c),d&&!je(p,R)&&d(a,p,c),b&&b(a,ne.current??p)},Ue=a=>n=>{var c;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight","PageUp","PageDown","Home","End"].includes(n.key)){n.preventDefault();const y=Number(n.currentTarget.getAttribute("data-index")),L=C[y];let p=null;if(I!=null){const D=n.shiftKey?Y:I;switch(n.key){case"ArrowUp":p=ve(L,D,1,l,u);break;case"ArrowRight":p=ve(L,D,k?-1:1,l,u);break;case"ArrowDown":p=ve(L,D,-1,l,u);break;case"ArrowLeft":p=ve(L,D,k?1:-1,l,u);break;case"PageUp":p=ve(L,Y,1,l,u);break;case"PageDown":p=ve(L,Y,-1,l,u);break;case"Home":p=l;break;case"End":p=u;break}}else if(J){const D=i[i.length-1],O=i.indexOf(L),z=[k?"ArrowRight":"ArrowLeft","ArrowDown","PageDown","Home"],X=[k?"ArrowLeft":"ArrowRight","ArrowUp","PageUp","End"];z.includes(n.key)?O===0?p=i[0]:p=i[O-1]:X.includes(n.key)&&(O===i.length-1?p=D:p=i[O+1])}p!=null&&we(n,p)}(c=a==null?void 0:a.onKeyDown)==null||c.call(a,n)};At(()=>{var a;r&&S.current.contains(document.activeElement)&&((a=document.activeElement)==null||a.blur())},[r]),r&&N!==-1&&W(-1),r&&P!==-1&&U(-1);const Se=a=>n=>{var c;(c=a.onChange)==null||c.call(a,n),we(n,n.target.valueAsNumber)},le=h.useRef(void 0);let ce=x;k&&x==="horizontal"&&(ce+="-reverse");const pe=({finger:a,move:n=!1})=>{const{current:c}=S,{width:y,height:L,bottom:p,left:D}=c.getBoundingClientRect();let O;ce.startsWith("vertical")?O=(p-a.y)/L:O=(a.x-D)/y,ce.includes("-reverse")&&(O=1-O);let z;if(z=Jt(O,l,u),I)z=tr(z,I,l);else{const ye=ct(i,z);z=i[ye]}z=ke(z,l,u);let X=0;if(Q){n?X=le.current:X=ct(C,z),s&&(z=ke(z,C[X-1]||-1/0,C[X+1]||1/0));const ye=z;z=pt({values:C,newValue:z,index:X}),s&&n||(X=z.indexOf(ye),le.current=X)}return{newValue:z,activeIndex:X}},ue=Ge(a=>{const n=De(a,$);if(!n)return;if(H.current+=1,a.type==="mousemove"&&a.buttons===0){ee(a);return}const{newValue:c,activeIndex:y}=pe({finger:n,move:!0});$e({sliderRef:S,activeIndex:y,setActive:W}),g(c),!G&&H.current>Qt&&Z(!0),d&&!je(c,R)&&d(a,c,y)}),ee=Ge(a=>{const n=De(a,$);if(Z(!1),!n)return;const{newValue:c}=pe({finger:n,move:!0});W(-1),a.type==="touchend"&&T(-1),b&&b(a,ne.current??c),$.current=void 0,de()}),V=Ge(a=>{if(r)return;ut()||a.preventDefault();const n=a.changedTouches[0];n!=null&&($.current=n.identifier);const c=De(a,$);if(c!==!1){const{newValue:L,activeIndex:p}=pe({finger:c});$e({sliderRef:S,activeIndex:p,setActive:W}),g(L),d&&!je(L,R)&&d(a,L,p)}H.current=0;const y=Ne(S.current);y.addEventListener("touchmove",ue,{passive:!0}),y.addEventListener("touchend",ee,{passive:!0})}),de=h.useCallback(()=>{const a=Ne(S.current);a.removeEventListener("mousemove",ue),a.removeEventListener("mouseup",ee),a.removeEventListener("touchmove",ue),a.removeEventListener("touchend",ee)},[ee,ue]);h.useEffect(()=>{const{current:a}=S;return a.addEventListener("touchstart",V,{passive:ut()}),()=>{a.removeEventListener("touchstart",V),de()}},[de,V]),h.useEffect(()=>{r&&de()},[r,de]);const Ye=a=>n=>{var L;if((L=a.onMouseDown)==null||L.call(a,n),r||n.defaultPrevented||n.button!==0)return;n.preventDefault();const c=De(n,$);if(c!==!1){const{newValue:p,activeIndex:D}=pe({finger:c});$e({sliderRef:S,activeIndex:D,setActive:W}),g(p),d&&!je(p,R)&&d(n,p,D)}H.current=0;const y=Ne(S.current);y.addEventListener("mousemove",ue,{passive:!0}),y.addEventListener("mouseup",ee)},Le=Oe(Q?C[0]:l,l,u),F=Oe(C[C.length-1],l,u)-Le,xe=(a={})=>{const n=_e(a),c={onMouseDown:Ye(n||{})},y={...n,...c};return{...a,ref:re,...y}},Pe=a=>n=>{var y;(y=a.onMouseOver)==null||y.call(a,n);const c=Number(n.currentTarget.getAttribute("data-index"));T(c)},Ce=a=>n=>{var c;(c=a.onMouseLeave)==null||c.call(a,n),T(-1)},Ae=(a={})=>{const n=_e(a),c={onMouseOver:Pe(n||{}),onMouseLeave:Ce(n||{})};return{...a,...n,...c}},Te=a=>({pointerEvents:N!==-1&&N!==a?"none":void 0});let he;return x==="vertical"&&(he=k?"vertical-rl":"vertical-lr"),{active:N,axis:ce,axisProps:rr,dragging:G,focusedThumbIndex:P,getHiddenInputProps:(a={})=>{const n=_e(a),c={onChange:Se(n||{}),onFocus:ge(n||{}),onBlur:be(n||{}),onKeyDown:Ue(n||{})},y={...n,...c};return{tabIndex:_,"aria-labelledby":t,"aria-orientation":x,"aria-valuemax":E(u),"aria-valuemin":E(l),name:w,type:"range",min:e.min,max:e.max,step:e.step===null&&e.marks?"any":e.step??void 0,disabled:r,...a,...y,style:{...Bt,direction:k?"rtl":"ltr",width:"100%",height:"100%",writingMode:he}}},getRootProps:xe,getThumbProps:Ae,marks:J,open:me,range:Q,rootRef:re,trackLeap:F,trackOffset:Le,values:C,getThumbStyle:Te}}const nr=e=>!e||!Ve(e);function sr(e){return Qe("MuiSlider",e)}const K=Je("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),ir=e=>{const{open:t}=e;return{offset:te(t&&K.valueLabelOpen),circle:K.valueLabelCircle,label:K.valueLabelLabel}};function lr(e){const{children:t,className:o,value:r}=e,s=ir(e);return t?h.cloneElement(t,{className:te(t.props.className)},m.jsxs(h.Fragment,{children:[t.props.children,m.jsx("span",{className:te(s.offset,o),"aria-hidden":!0,children:m.jsx("span",{className:s.circle,children:m.jsx("span",{className:s.label,children:r})})})]})):null}function dt(e){return e}const cr=q("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[`color${B(o.color)}`],o.size!=="medium"&&t[`size${B(o.size)}`],o.marked&&t.marked,o.orientation==="vertical"&&t.vertical,o.track==="inverted"&&t.trackInverted,o.track===!1&&t.trackFalse]}})(ae(({theme:e})=>({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},[`&.${K.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${K.dragging}`]:{[`& .${K.thumb}, & .${K.track}`]:{transition:"none"}},variants:[...Object.entries(e.palette).filter(Ze()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}))),pr=q("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),ur=q("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})(ae(({theme:e})=>({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.entries(e.palette).filter(Ze()).map(([t])=>({props:{color:t,track:"inverted"},style:{...e.vars?{backgroundColor:e.vars.palette.Slider[`${t}Track`],borderColor:e.vars.palette.Slider[`${t}Track`]}:{backgroundColor:ot(e.palette[t].main,.62),borderColor:ot(e.palette[t].main,.62),...e.applyStyles("dark",{backgroundColor:at(e.palette[t].main,.5)}),...e.applyStyles("dark",{borderColor:at(e.palette[t].main,.5)})}}}))]}))),dr=q("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.thumb,t[`thumbColor${B(o.color)}`],o.size!=="medium"&&t[`thumbSize${B(o.size)}`]]}})(ae(({theme:e})=>({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&.${K.disabled}`]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.entries(e.palette).filter(Ze()).map(([t])=>({props:{color:t},style:{[`&:hover, &.${K.focusVisible}`]:{...e.vars?{boxShadow:`0px 0px 0px 8px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 8px ${nt(e.palette[t].main,.16)}`},"@media (hover: none)":{boxShadow:"none"}},[`&.${K.active}`]:{...e.vars?{boxShadow:`0px 0px 0px 14px rgba(${e.vars.palette[t].mainChannel} / 0.16)`}:{boxShadow:`0px 0px 0px 14px ${nt(e.palette[t].main,.16)}`}}}}))]}))),fr=q(lr,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})(ae(({theme:e})=>({zIndex:1,whiteSpace:"nowrap",...e.typography.body2,fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},[`&.${K.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},[`&.${K.valueLabelOpen}`]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]}))),mr=q("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>mt(e)&&e!=="markActive",overridesResolver:(e,t)=>{const{markActive:o}=e;return[t.mark,o&&t.markActive]}})(ae(({theme:e})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}}]}))),gr=q("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>mt(e)&&e!=="markLabelActive",overridesResolver:(e,t)=>t.markLabel})(ae(({theme:e})=>({...e.typography.body2,color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(e.vars||e).palette.text.primary}}]}))),br=e=>{const{disabled:t,dragging:o,marked:r,orientation:s,track:k,classes:v,color:u,size:l}=e,w={root:["root",t&&"disabled",o&&"dragging",r&&"marked",s==="vertical"&&"vertical",k==="inverted"&&"trackInverted",k===!1&&"trackFalse",u&&`color${B(u)}`,l&&`size${B(l)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&`thumbSize${B(l)}`,u&&`thumbColor${B(u)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return tt(w,sr,v)},hr=({children:e})=>e,Pr=h.forwardRef(function(t,o){const r=et({props:t,name:"MuiSlider"}),s=ft(),{"aria-label":k,"aria-valuetext":v,"aria-labelledby":u,component:l="span",components:w={},componentsProps:f={},color:b="primary",classes:x,className:A,disableSwap:E=!1,disabled:I=!1,getAriaLabel:Y,getAriaValueText:_,marks:ie=!1,max:$=100,min:N=0,name:W,onChange:me,onChangeCommitted:T,orientation:G="horizontal",shiftStep:Z=10,size:H="medium",step:ne=1,scale:R=dt,slotProps:g,slots:d,tabIndex:Q,track:C="normal",value:J,valueLabelDisplay:i="off",valueLabelFormat:P=dt,...U}=r,S={...r,isRtl:s,max:$,min:N,classes:x,disabled:I,disableSwap:E,orientation:G,marks:ie,color:b,size:H,step:ne,shiftStep:Z,scale:R,track:C,valueLabelDisplay:i,valueLabelFormat:P},{axisProps:re,getRootProps:ge,getHiddenInputProps:be,getThumbProps:we,open:Ue,active:Se,axis:le,focusedThumbIndex:ce,range:pe,dragging:ue,marks:ee,values:V,trackOffset:de,trackLeap:Ye,getThumbStyle:Le}=ar({...S,rootRef:o});S.marked=ee.length>0&&ee.some(M=>M.label),S.dragging=ue,S.focusedThumbIndex=ce;const F=br(S),xe=(d==null?void 0:d.root)??w.Root??cr,Pe=(d==null?void 0:d.rail)??w.Rail??pr,Ce=(d==null?void 0:d.track)??w.Track??ur,Ae=(d==null?void 0:d.thumb)??w.Thumb??dr,Te=(d==null?void 0:d.valueLabel)??w.ValueLabel??fr,he=(d==null?void 0:d.mark)??w.Mark??mr,Re=(d==null?void 0:d.markLabel)??w.MarkLabel??gr,a=(d==null?void 0:d.input)??w.Input??"input",n=(g==null?void 0:g.root)??f.root,c=(g==null?void 0:g.rail)??f.rail,y=(g==null?void 0:g.track)??f.track,L=(g==null?void 0:g.thumb)??f.thumb,p=(g==null?void 0:g.valueLabel)??f.valueLabel,D=(g==null?void 0:g.mark)??f.mark,O=(g==null?void 0:g.markLabel)??f.markLabel,z=(g==null?void 0:g.input)??f.input,X=se({elementType:xe,getSlotProps:ge,externalSlotProps:n,externalForwardedProps:U,additionalProps:{...nr(xe)&&{as:l}},ownerState:{...S,...n==null?void 0:n.ownerState},className:[F.root,A]}),ye=se({elementType:Pe,externalSlotProps:c,ownerState:S,className:F.rail}),St=se({elementType:Ce,externalSlotProps:y,additionalProps:{style:{...re[le].offset(de),...re[le].leap(Ye)}},ownerState:{...S,...y==null?void 0:y.ownerState},className:F.track}),We=se({elementType:Ae,getSlotProps:we,externalSlotProps:L,ownerState:{...S,...L==null?void 0:L.ownerState},className:F.thumb}),Lt=se({elementType:Te,externalSlotProps:p,ownerState:{...S,...p==null?void 0:p.ownerState},className:F.valueLabel}),Xe=se({elementType:he,externalSlotProps:D,ownerState:S,className:F.mark}),Ke=se({elementType:Re,externalSlotProps:O,ownerState:S,className:F.markLabel}),Pt=se({elementType:a,getSlotProps:be,externalSlotProps:z,ownerState:S});return m.jsxs(xe,{...X,children:[m.jsx(Pe,{...ye}),m.jsx(Ce,{...St}),ee.filter(M=>M.value>=N&&M.value<=$).map((M,j)=>{const qe=Oe(M.value,N,$),Me=re[le].offset(qe);let oe;return C===!1?oe=V.includes(M.value):oe=C==="normal"&&(pe?M.value>=V[0]&&M.value<=V[V.length-1]:M.value<=V[0])||C==="inverted"&&(pe?M.value<=V[0]||M.value>=V[V.length-1]:M.value>=V[0]),m.jsxs(h.Fragment,{children:[m.jsx(he,{"data-index":j,...Xe,...!Ve(he)&&{markActive:oe},style:{...Me,...Xe.style},className:te(Xe.className,oe&&F.markActive)}),M.label!=null?m.jsx(Re,{"aria-hidden":!0,"data-index":j,...Ke,...!Ve(Re)&&{markLabelActive:oe},style:{...Me,...Ke.style},className:te(F.markLabel,Ke.className,oe&&F.markLabelActive),children:M.label}):null]},j)}),V.map((M,j)=>{const qe=Oe(M,N,$),Me=re[le].offset(qe),oe=i==="off"?hr:Te;return m.jsx(oe,{...!Ve(oe)&&{valueLabelFormat:P,valueLabelDisplay:i,value:typeof P=="function"?P(R(M),j):P,index:j,open:Ue===j||Se===j||i==="on",disabled:I},...Lt,children:m.jsx(Ae,{"data-index":j,...We,className:te(F.thumb,We.className,Se===j&&F.active,ce===j&&F.focusVisible),style:{...Me,...Le(j),...We.style},children:m.jsx(a,{"data-index":j,"aria-label":Y?Y(j):k,"aria-valuenow":R(M),"aria-labelledby":u,"aria-valuetext":_?_(R(M),j):v,value:V[j],...Pt})})},j)})]})}),Cr=ht(m.jsx("path",{d:"M19 9h-4V3H9v6H5l7 7zM5 18v2h14v-2z"})),Ar=ht(m.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),Tr=({mouseCoords:e})=>{const t=Fe(gt),o=(r,s=5)=>r.toFixed(s);return m.jsx(rt,{elevation:2,sx:{position:"absolute",bottom:16,left:16,right:16,zIndex:1e3,p:1,bgcolor:"rgba(255, 255, 255, 0.95)",backdropFilter:"blur(4px)"},children:m.jsxs(Ee,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs(Ee,{children:[m.jsx(fe,{variant:"caption",color:"text.secondary",children:"Mouse:"}),e?m.jsxs(fe,{variant:"caption",sx:{ml:1,fontFamily:"monospace"},children:[o(e.lat),", ",o(e.lng)]}):m.jsx(fe,{variant:"caption",sx:{ml:1,color:"text.disabled"},children:"Move mouse over map"})]}),m.jsxs(Ee,{children:[m.jsx(fe,{variant:"caption",color:"text.secondary",children:"Center:"}),m.jsxs(fe,{variant:"caption",sx:{ml:1,fontFamily:"monospace"},children:[o(t.view.center.latitude),", ",o(t.view.center.longitude)]})]}),m.jsxs(Ee,{children:[m.jsx(fe,{variant:"caption",color:"text.secondary",children:"Zoom:"}),m.jsx(fe,{variant:"caption",sx:{ml:1,fontFamily:"monospace"},children:t.view.zoom.toFixed(1)})]})]})})},Rr=({onMapReady:e,children:t})=>{const o=h.useRef(null),r=h.useRef(null),s=h.useRef(null),k=h.useRef(!1),v=h.useRef(!1),u=Fe(Tt),l=Fe(gt),w=h.useCallback(e||(()=>{}),[e]);return h.useEffect(()=>{if(!o.current||r.current||k.current)return;k.current=!0,console.log("[PureLeaflet] Creating pure Leaflet map...");const f=!!u.mode,b=He.map(o.current,{center:[39.8283,-98.5795],zoom:6,zoomControl:!0,attributionControl:!0,scrollWheelZoom:!0,doubleClickZoom:!f,boxZoom:!f,keyboard:!0,dragging:!f,touchZoom:!0}),x=l.baseMaps.find(E=>E.id===l.activeBaseMap),A=He.tileLayer((x==null?void 0:x.url)||"https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:(x==null?void 0:x.attribution)||"© OpenStreetMap contributors",maxZoom:(x==null?void 0:x.maxZoom)||19,minZoom:(x==null?void 0:x.minZoom)||1,tileSize:256,opacity:1});return s.current=A,A.addTo(b),A.on("tileload",E=>{console.log("[PureLeaflet] Tile loaded:",E.coords)}),A.on("tileerror",E=>{console.error("[PureLeaflet] Tile error:",E)}),A.on("loading",()=>{console.log("[PureLeaflet] Started loading tiles")}),A.on("load",()=>{console.log("[PureLeaflet] Finished loading all visible tiles")}),b.on("moveend",()=>{const E=b.getCenter(),I=b.getZoom();console.log(`[PureLeaflet] Map moved to: ${E.lat}, ${E.lng} at zoom ${I}`)}),setTimeout(()=>{b.getContainer()&&(b.invalidateSize(),console.log("[PureLeaflet] Map size invalidated"))},100),r.current=b,b.whenReady(()=>{if(console.log("[PureLeaflet] ✓ Map panes and coordinate system ready"),typeof window<"u"&&(window.pureLeafletMap=b,console.log("[PureLeaflet] ✓ Map exposed as window.pureLeafletMap")),!b._size||!b.getPixelOrigin()||!b.getPanes().mapPane){console.error("[PureLeaflet] Map coordinate system not properly initialized");return}k.current=!1,o.current&&w(b,o.current)}),()=>{if(r.current&&!v.current){v.current=!0,console.log("[PureLeaflet] Map cleaned up");try{r.current.remove()}catch(E){console.warn("[PureLeaflet] Error during cleanup:",E)}r.current=null,k.current=!1,v.current=!1}}},[]),h.useEffect(()=>{console.log("[PureLeafletMap] Drawing effect triggered with mode:",u.mode);const f=r.current;if(!f){console.log("[PureLeafletMap] No map instance, skipping drawing effect");return}const b=!!u.mode;console.log("[PureLeafletMap] isDrawing calculated as:",b),b?(f.doubleClickZoom.disable(),f.boxZoom.disable(),console.log("[PureLeaflet] Zoom interactions disabled for drawing mode:",u.mode)):(f.doubleClickZoom.enable(),f.boxZoom.enable(),console.log("[PureLeaflet] All map interactions enabled - drawing mode off"))},[u.mode]),h.useEffect(()=>{const f=r.current;if(!f)return;const b=l.baseMaps.find(A=>A.id===l.activeBaseMap);if(!b)return;s.current&&(f.removeLayer(s.current),console.log("[PureLeaflet] Removed old tile layer"));const x=He.tileLayer(b.url,{attribution:b.attribution,maxZoom:b.maxZoom||19,minZoom:b.minZoom||1,tileSize:256,opacity:1});x.on("tileload",A=>{console.log("[PureLeaflet] Tile loaded:",A.coords)}),x.on("tileerror",A=>{console.error("[PureLeaflet] Tile error:",A)}),x.on("loading",()=>{console.log("[PureLeaflet] Started loading tiles")}),x.on("load",()=>{console.log("[PureLeaflet] Finished loading all visible tiles")}),s.current=x,x.addTo(f),console.log(`[PureLeaflet] Switched to base map: ${b.name}`)},[l.activeBaseMap,l.baseMaps]),m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:o,style:{width:"100%",height:"100%",minHeight:"500px",background:"transparent"},className:"pure-leaflet-map"}),t]})},Mr=({children:e})=>{const t=Fe(Rt);return h.useEffect(()=>{const o=document.getElementById("root");o&&(o.removeAttribute("aria-hidden"),o.setAttribute("aria-label","Fire Map Pro - Emergency Management Mapping System"),o.getAttribute("role")||o.setAttribute("role","application"));const r=()=>{document.querySelectorAll('[aria-hidden="true"]').forEach(v=>{(v.id==="root"||v.closest("#root"))&&v.removeAttribute("aria-hidden")})};r();const s=new MutationObserver(r);return s.observe(document.body,{attributes:!0,attributeFilter:["aria-hidden"],subtree:!0}),()=>{s.disconnect()}},[t.sidebarOpen]),m.jsx(m.Fragment,{children:e})};export{Mr as A,Tr as C,Lr as D,Cr as E,Ar as M,Rr as P,Pr as S,Sr as a};
