var Ka=Object.defineProperty;var Za=(e,n,t)=>n in e?Ka(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var Y=(e,n,t)=>Za(e,typeof n!="symbol"?n+"":n,t);import{i as Ja,E as eo,F as to,T as no,R as Sr,H as v,j as a,a as Ve,g as Be,r as f,u as ro,c as Ye,s as X,d as bn,b as Oe,m as hs,l as Pe,B as A,k as yt,I as so,J as ao,K as bt,L as kt,M as gt,h as Ht,N as oo,O as An,P as io,Q as Fn,S as Nn,C as ms,_ as Mr,U as lo,V as co,W as uo,X as ho,Y as mo}from"./index-Ckv2XK-k.js";import{L as Et,F as fo,a as po,u as fs,v as go,C as tr}from"./leaflet-B3FsN-6a.js";import{_ as xo,W as yo,X as re,Y as bo,c as Ue,d as Cr,Z as ps,T as P,G as q,D as Yt,P as Ae,s as ln,A as Bt,F as gs,I as xs,i as wo,M as Ln,C as Xe,j as ys,k as bs,l as vo,z as kr,t as Mt,H as To,$ as H,f as nt,a0 as Sn,a1 as Do,a2 as Po,u as ve,a3 as Vn,a4 as So,e as Ut,g as Mn,B as We,q as Mo,K as Gn,L as Qn,a as ws,r as Co,a5 as wn,a6 as $t,a7 as vs,m as ko,a8 as Ir,n as Io,w as jo,x as Oo,E as Ro,y as Eo,v as nr,N as Ao,O as Fo,U as No,V as Lo,o as Vo,p as Qt}from"./Map-CE_UOFuR.js";import{A as Bo,T as Ts,a as Ds,b as Ps,c as ut,d as Q,e as Ss,h as rr,i as sr,L as Ms,C as jr,g as $o,f as zo,S as Wo,F as Cs,D as _o,P as Ho,B as Yo,j as Uo}from"./AccessTime-CSJDBUsn.js";var Bn={exports:{}},$n,Or;function qo(){if(Or)return $n;Or=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return $n=e,$n}var zn,Rr;function Go(){if(Rr)return zn;Rr=1;var e=qo();function n(){}function t(){}return t.resetWarningCache=n,zn=function(){function r(i,c,l,d,u,x){if(x!==e){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}r.isRequired=r;function s(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:n};return o.PropTypes=o,o},zn}var Er;function Qo(){return Er||(Er=1,Bn.exports=Go()()),Bn.exports}var Xo=Qo();const k=Ja(Xo),ks=k.oneOfType([k.func,k.object]);function Re({props:e,name:n}){return eo({props:e,name:n,defaultTheme:to,themeId:no})}function Ko(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}function Zo(e,n){e.classList?e.classList.add(n):Ko(e,n)||(typeof e.className=="string"?e.className=e.className+" "+n:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+n))}function Ar(e,n){return e.replace(new RegExp("(^|\\s)"+n+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Jo(e,n){e.classList?e.classList.remove(n):typeof e.className=="string"?e.className=Ar(e.className,n):e.setAttribute("class",Ar(e.className&&e.className.baseVal||"",n))}var ei=function(n,t){return n&&t&&t.split(" ").forEach(function(r){return Zo(n,r)})},Wn=function(n,t){return n&&t&&t.split(" ").forEach(function(r){return Jo(n,r)})},ar=function(e){xo(n,e);function n(){for(var r,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1];r.removeClasses(u,"exit"),r.addClass(u,x?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,l)},r.onEntering=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1],y=x?"appear":"enter";r.addClass(u,y,"active"),r.props.onEntering&&r.props.onEntering(c,l)},r.onEntered=function(c,l){var d=r.resolveArguments(c,l),u=d[0],x=d[1],y=x?"appear":"enter";r.removeClasses(u,y),r.addClass(u,y,"done"),r.props.onEntered&&r.props.onEntered(c,l)},r.onExit=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"appear"),r.removeClasses(d,"enter"),r.addClass(d,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var l=r.resolveArguments(c),d=l[0];r.addClass(d,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var l=r.resolveArguments(c),d=l[0];r.removeClasses(d,"exit"),r.addClass(d,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,l){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,l]},r.getClassNames=function(c){var l=r.props.classNames,d=typeof l=="string",u=d&&l?l+"-":"",x=d?""+u+c:l[c],y=d?x+"-active":l[c+"Active"],m=d?x+"-done":l[c+"Done"];return{baseClassName:x,activeClassName:y,doneClassName:m}},r}var t=n.prototype;return t.addClass=function(s,o,i){var c=this.getClassNames(o)[i+"ClassName"],l=this.getClassNames("enter"),d=l.doneClassName;o==="appear"&&i==="done"&&d&&(c+=" "+d),i==="active"&&s&&yo(s),c&&(this.appliedClasses[o][i]=c,ei(s,c))},t.removeClasses=function(s,o){var i=this.appliedClasses[o],c=i.base,l=i.active,d=i.done;this.appliedClasses[o]={},c&&Wn(s,c),l&&Wn(s,l),d&&Wn(s,d)},t.render=function(){var s=this.props;s.classNames;var o=re(s,["classNames"]);return Sr.createElement(bo,v({},o,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},n}(Sr.Component);ar.defaultProps={classNames:""};ar.propTypes={};const ti=Ue(a.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}));function ni(e){return Be("MuiTableSortLabel",e)}const _n=Ve("MuiTableSortLabel",["root","active","icon","iconDirectionDesc","iconDirectionAsc","directionDesc","directionAsc"]),ri=e=>{const{classes:n,direction:t,active:r}=e,s={root:["root",r&&"active",`direction${bn(t)}`],icon:["icon",`iconDirection${bn(t)}`]};return Oe(s,ni,n)},si=X(ps,{name:"MuiTableSortLabel",slot:"Root",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.root,t.active&&n.active]}})(hs(({theme:e})=>({cursor:"pointer",display:"inline-flex",justifyContent:"flex-start",flexDirection:"inherit",alignItems:"center","&:focus":{color:(e.vars||e).palette.text.secondary},"&:hover":{color:(e.vars||e).palette.text.secondary,[`& .${_n.icon}`]:{opacity:.5}},[`&.${_n.active}`]:{color:(e.vars||e).palette.text.primary,[`& .${_n.icon}`]:{opacity:1,color:(e.vars||e).palette.text.secondary}}}))),ai=X("span",{name:"MuiTableSortLabel",slot:"Icon",overridesResolver:(e,n)=>{const{ownerState:t}=e;return[n.icon,n[`iconDirection${bn(t.direction)}`]]}})(hs(({theme:e})=>({fontSize:18,marginRight:4,marginLeft:4,opacity:0,transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shorter}),userSelect:"none",variants:[{props:{direction:"desc"},style:{transform:"rotate(0deg)"}},{props:{direction:"asc"},style:{transform:"rotate(180deg)"}}]}))),oi=f.forwardRef(function(n,t){const r=ro({props:n,name:"MuiTableSortLabel"}),{active:s=!1,children:o,className:i,direction:c="asc",hideSortIcon:l=!1,IconComponent:d=ti,slots:u={},slotProps:x={},...y}=r,m={...r,active:s,direction:c,hideSortIcon:l,IconComponent:d},h=ri(m),T={slots:u,slotProps:x},[p,g]=Cr("root",{elementType:si,externalForwardedProps:T,ownerState:m,className:Ye(h.root,i),ref:t}),[w,M]=Cr("icon",{elementType:ai,externalForwardedProps:T,ownerState:m,className:h.icon});return a.jsxs(p,{disableRipple:!0,component:"span",...g,...y,children:[o,l&&!s?null:a.jsx(w,{as:d,...M})]})}),At=(e,n)=>{if(!e)return null;try{let t=e;if(t.includes("T")){const s=t.split("T");if(s[0].includes("-")){const o=s[0].split("-");if(o.length>=2){if(s.length>1&&s[1].includes("/")){const i=s[1].split(" ")[0];i.split("/").length===3&&(t=i)}else if(o[0].includes(" ")){const c=o[0].split(" ")[0],l=o[1].split("-");if(l.length===2){const d=l[0].padStart(2,"0"),u=l[1].padStart(2,"0");t=`${c}-${d}-${u}`}}}}else s.length>1&&s[0].includes("/")&&(t=s[0])}if(t.length<=8&&t.includes(":")&&!t.includes("-")&&!t.includes("/")){if(!n)return console.warn("Base date is required for time-only strings:",t),null;const s=t.split(":").map(Number),o=s[0]||0,i=s[1]||0,c=s[2]||0;let l;try{if(l=new Date(n),isNaN(l.getTime()))return console.warn("Invalid base date:",n),null}catch(d){return console.warn("Error parsing base date:",n,d),null}return l.setHours(o,i,c),l}if(t.includes("/")){const s=t.split("/");if(s.length===3){let o=s[2],i="";if(o.includes(" ")){const y=o.split(" ");o=y[0],i=y.slice(1).join(" ")}const c=s[0].trim(),l=s[1].trim();let d=parseInt(o,10);const u=parseInt(c,10),x=parseInt(l,10);if(d>=0&&d<=99&&(d<=29?d+=2e3:d+=1900,console.log(`ðŸ”§ 2-DIGIT YEAR FIX: Converted "${o}" to ${d}`)),!isNaN(d)&&!isNaN(u)&&!isNaN(x)){const y=new Date(d,u-1,x);if(i&&i.includes(":")){const m=i.split(":").map(Number);y.setHours(m[0]||0,m[1]||0,m[2]||0,0)}if(!isNaN(y.getTime()))return console.log(`ðŸ•’ TIMEZONE FIX: Parsed "${t}" as LOCAL time: ${y.toISOString()} (${y.toString()})`),y}}}if(t.includes(" ")&&t.includes("-")){const[s,o]=t.split(" ");let i;if(s.match(/^\d{4}-\d{2}-\d{2}$/)){const[c,l,d]=s.split("-").map(Number);i=new Date(c,l-1,d)}else i=new Date(s);if(!isNaN(i.getTime())&&o&&o.includes(":")){const c=o.split(":").map(Number);return i.setHours(c[0]||0,c[1]||0,c[2]||0,0),console.log(`ðŸ•’ TIMEZONE FIX: Parsed date+time "${t}" as LOCAL time: ${i.toISOString()} (${i.toString()})`),i}}const r=new Date(t);return isNaN(r.getTime())?(console.warn(`Could not parse date string: ${e} (processed as: ${t})`),null):(t.includes("/")||t.includes(" ")&&!t.includes("T")&&!t.includes("Z")&&!t.includes("+")&&!t.includes("-",10)?console.log(`âš ï¸ TIMEZONE WARNING: Direct parsing of "${t}" may have timezone issues. Result: ${r.toISOString()} (${r.toString()})`):console.log(`ðŸ•’ DIRECT PARSE: "${t}" parsed as: ${r.toISOString()} (${r.toString()})`),r)}catch(t){return console.error(`Error parsing date: ${e}`,t),null}},tt=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};try{const t=e.incidentDate;if(!t)return console.warn("No incident date available for parsing time-only strings"),n;console.log("=== Processing incident:",e.incidentId,"==="),console.log("Base Date:",t),console.log("Raw incident data:",{incidentTime:e.incidentTime,dispatchTime:e.dispatchTime,enRouteTime:e.enRouteTime,arrivalTime:e.arrivalTime,clearTime:e.clearTime}),console.log("ðŸ§ª CHATGPT DEBUG - Calculator receives incident:",JSON.stringify(e,null,2));let r=null;console.log("=== INCIDENT TIME PROCESSING DEBUG ==="),console.log("incident object keys:",Object.keys(e)),console.log(`incident.incidentTime value: "${e.incidentTime}" (type: ${typeof e.incidentTime})`),console.log(`incident.incidentTime is null: ${e.incidentTime===null}`),console.log(`incident.incidentTime is undefined: ${e.incidentTime===void 0}`),console.log(`incident.incidentTime is empty string: ${e.incidentTime===""}`),console.log("ðŸ” FIELD CHECK - Call Receive Time:",e["Call Receive Time"]),console.log("ðŸ” FIELD CHECK - call receive time:",e["call receive time"]),console.log("ðŸ” FIELD CHECK - Incident Time:",e["Incident Time"]),console.log("ðŸ” FIELD CHECK - incident time:",e["incident time"]),console.log("ðŸ” FULL INCIDENT OBJECT:",JSON.stringify(e,null,2)),e.incidentTime&&e.incidentTime!==""&&e.incidentTime!==null&&e.incidentTime!==void 0?/^(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}|\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2})$/.test(e.incidentTime.trim())?(console.log(`ðŸ“… DATE-ONLY FORMAT DETECTED: incidentTime is "${e.incidentTime}" - contains no time component`),console.log("ðŸ“Š DATA QUALITY DECISION: Skipping dispatch time calculation for this incident to maintain data integrity"),console.log("âœ… PRESERVING OTHER METRICS: Turnout, travel, scene time, and total incident time will still be calculated where possible"),r=null,console.log("ðŸš¨ INCIDENT TIME SET TO NULL: Dispatch time calculation will be skipped for data integrity")):(r=At(e.incidentTime,t),console.log(`âœ… SUCCESS: Using incidentTime: "${e.incidentTime}" -> ${(r==null?void 0:r.toISOString())||"null"}`)):(r=At(t,t),console.log(`ðŸš¨ FALLBACK TRIGGERED: Using incidentDate as fallback (incidentTime was missing/empty): "${t}" -> ${(r==null?void 0:r.toISOString())||"null"}`),console.log("ðŸš¨ WHY FALLBACK? incidentTime validation failed:",{truthy:!!e.incidentTime,"not empty string":e.incidentTime!=="","not null":e.incidentTime!==null,"not undefined":e.incidentTime!==void 0,combined:!!(e.incidentTime&&e.incidentTime!==""&&e.incidentTime!==null&&e.incidentTime!==void 0)})),console.log("=== END INCIDENT TIME PROCESSING DEBUG ===");const s=At(e.dispatchTime,t);console.log(`Parsed dispatchTime: ${e.dispatchTime} -> ${(s==null?void 0:s.toISOString())||"null"}`);const o=At(e.enRouteTime,t);console.log(`Parsed enRouteTime: ${e.enRouteTime} -> ${(o==null?void 0:o.toISOString())||"null"}`);const i=At(e.arrivalTime,t);console.log(`Parsed arrivalTime: ${e.arrivalTime} -> ${(i==null?void 0:i.toISOString())||"null"}`);const c=At(e.clearTime,t);if(console.log(`Parsed clearTime: ${e.clearTime} -> ${(c==null?void 0:c.toISOString())||"null"}`),r&&s){const l=(s.getTime()-r.getTime())/1e3;l>0&&l<86400?n.dispatchTime=l:console.warn(`Invalid dispatch time interval: ${l} seconds`)}if(s&&o){const l=(o.getTime()-s.getTime())/1e3;l>0&&l<86400?n.turnoutTime=l:console.warn(`Invalid turnout time interval: ${l} seconds`)}if(o&&i){const l=(i.getTime()-o.getTime())/1e3;l>0&&l<86400?n.travelTime=l:console.warn(`Invalid travel time interval: ${l} seconds`)}if(r&&i){const l=(i.getTime()-r.getTime())/1e3;l>0&&l<86400?n.totalResponseTime=l:console.warn(`Invalid total response time interval: ${l} seconds`)}else!r&&i&&console.log("â­ï¸ SKIPPING TOTAL RESPONSE TIME: incidentTime was null (likely 00:00:00 case), cannot calculate total response time");if(i&&c){const l=(c.getTime()-i.getTime())/1e3;l>0&&l<86400*3?n.sceneTime=l:console.warn(`Invalid scene time interval: ${l} seconds`)}if(r&&c){const l=(c.getTime()-r.getTime())/1e3;l>0&&l<86400*3?n.totalIncidentTime=l:console.warn(`Invalid total incident time interval: ${l} seconds`)}else!r&&c&&console.log("â­ï¸ SKIPPING TOTAL INCIDENT TIME: incidentTime was null (likely 00:00:00 case), cannot calculate total incident time")}catch(t){console.error("Error calculating metrics for incident",e.incidentId,t)}return console.log("Calculated metrics for incident",e.incidentId,n),n},ii=e=>{if(console.log(`Calculating statistics for ${e.length} incidents`),!e||!e.length)return console.warn("No incidents provided for statistics calculation"),fn();try{const n=e.filter(s=>!s.incidentId||!s.incidentDate?(console.warn(`Skipping incident missing required fields: ${JSON.stringify(s)}`),!1):!0);if(n.length===0)return console.warn("No valid incidents found for statistics calculation"),fn();n.length<e.length&&console.warn(`Filtered out ${e.length-n.length} invalid incidents`);const r=n.map(tt).filter(s=>s.dispatchTime!==null||s.turnoutTime!==null||s.travelTime!==null||s.totalResponseTime!==null);return r.length===0?(console.warn("No valid metrics could be calculated"),fn()):(console.log(`Calculated valid metrics for ${r.length} out of ${n.length} incidents`),{mean:Is(r),median:li(r),ninetiethPercentile:ci(r,90),standardDeviation:di(r),min:ui(r),max:hi(r),count:r.length})}catch(n){return console.error("Error calculating response time statistics:",n),fn()}},fn=()=>{const e={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return{mean:{...e},median:{...e},ninetiethPercentile:{...e},standardDeviation:{...e},min:{...e},max:{...e},count:0}},Is=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);if(r.length){const s=r.reduce((o,i)=>o+i,0);n[t]=s/r.length}}),n},li=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null).sort((s,o)=>s-o);if(r.length){const s=Math.floor(r.length/2);n[t]=r.length%2===0?(r[s-1]+r[s])/2:r[s]}}),n},ci=(e,n)=>{const t={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(t).forEach(r=>{const s=e.map(o=>o[r]).filter(o=>o!==null).sort((o,i)=>o-i);if(s.length){const o=Math.ceil(n/100*s.length)-1;t[r]=s[Math.max(0,Math.min(o,s.length-1))]}}),t},di=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null},t=Is(e);return Object.keys(n).forEach(r=>{const s=t[r];if(s===null)return;const o=e.map(i=>i[r]).filter(i=>i!==null);if(o.length){const c=o.map(l=>Math.pow(l-s,2)).reduce((l,d)=>l+d,0)/o.length;n[r]=Math.sqrt(c)}}),n},ui=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);r.length&&(n[t]=Math.min(...r))}),n},hi=e=>{const n={dispatchTime:null,turnoutTime:null,travelTime:null,totalResponseTime:null,sceneTime:null,totalIncidentTime:null};return Object.keys(n).forEach(t=>{const r=e.map(s=>s[t]).filter(s=>s!==null);r.length&&(n[t]=Math.max(...r))}),n},he=(e,n="full")=>{if(e===null)return"N/A";if(n==="seconds")return`${e.toFixed(1)}s`;if(n==="minutes")return`${(e/60).toFixed(1)} min`;const t=Math.floor(e/60),r=Math.round(e%60);return t===0?`${r} sec`:`${t} min ${r} sec`},fe=(e,n)=>{if(e===null)return"N/A";if(n==="dispatch")return`${Math.round(e)} sec`;if(e>=60){const t=Math.floor(e/60),r=Math.round(e%60);return`${t} min ${r} sec`}return`${Math.round(e)} sec`},mi=Ue(a.jsx("path",{d:"m20.38 8.57-1.23 1.85a8 8 0 0 1-.22 7.58H5.07A8 8 0 0 1 15.58 6.85l1.85-1.23A10 10 0 0 0 3.35 19a2 2 0 0 0 1.72 1h13.85a2 2 0 0 0 1.74-1 10 10 0 0 0-.27-10.44zm-9.79 6.84a2 2 0 0 0 2.83 0l5.66-8.49-8.49 5.66a2 2 0 0 0 0 2.83"})),fi=Ue(a.jsx("path",{d:"M18.92 6.01C18.72 5.42 18.16 5 17.5 5h-11c-.66 0-1.21.42-1.42 1.01L3 12v8c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-1h12v1c0 .55.45 1 1 1h1c.55 0 1-.45 1-1v-8zM6.5 16c-.83 0-1.5-.67-1.5-1.5S5.67 13 6.5 13s1.5.67 1.5 1.5S7.33 16 6.5 16m11 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5M5 11l1.5-4.5h11L19 11z"})),pi=Ue(a.jsx("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"})),gi=Ue([a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")]),xi=Ue(a.jsx("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2zm10 14.5V20H8v-3.5l4-4zm-4-5-4-4V4h8v3.5z"})),Ft=({title:e,value:n,icon:t,secondaryValue:r,secondaryLabel:s,color:o="#1976d2"})=>a.jsx(rr,{variant:"outlined",children:a.jsx(sr,{children:a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{display:"flex",alignItems:"center",justifyContent:"center",bgcolor:`${o}20`,color:o,borderRadius:"50%",p:1,mr:2,width:40,height:40},children:t}),a.jsxs(A,{children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:e}),a.jsx(P,{variant:"h5",component:"div",children:n}),r&&a.jsxs(P,{variant:"caption",color:"text.secondary",children:[s,": ",r]})]})]})})}),js=()=>{const{responseTimeStats:e}=Pe(t=>t.analyzer.calculatedMetrics),{incidents:n}=Pe(t=>t.analyzer.rawData);return!e||!n.length?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Statistics"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No data available for statistical analysis. Please load incident data."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Statistics"}),a.jsxs(P,{variant:"subtitle2",color:"text.secondary",gutterBottom:!0,children:["Based on ",n.length," incidents"]}),a.jsxs(q,{container:!0,spacing:3,sx:{mb:4},children:[a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Total Response Time",value:he(e.mean.totalResponseTime),icon:a.jsx(Bo,{}),secondaryValue:he(e.ninetiethPercentile.totalResponseTime),secondaryLabel:"90th percentile",color:"#1976d2"})}),a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Dispatch Time",value:he(e.mean.dispatchTime),icon:a.jsx(mi,{}),secondaryValue:he(e.ninetiethPercentile.dispatchTime),secondaryLabel:"90th percentile",color:"#2e7d32"})}),a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Turnout Time",value:he(e.mean.turnoutTime),icon:a.jsx(pi,{}),secondaryValue:he(e.ninetiethPercentile.turnoutTime),secondaryLabel:"90th percentile",color:"#ed6c02"})}),a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Travel Time",value:he(e.mean.travelTime),icon:a.jsx(fi,{}),secondaryValue:he(e.ninetiethPercentile.travelTime),secondaryLabel:"90th percentile",color:"#9c27b0"})}),a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Scene Time",value:he(e.mean.sceneTime),icon:a.jsx(gi,{}),secondaryValue:he(e.median.sceneTime),secondaryLabel:"median",color:"#d32f2f"})}),a.jsx(q,{size:{xs:12,sm:6,md:4},children:a.jsx(Ft,{title:"Average Total Incident Time",value:he(e.mean.totalIncidentTime),icon:a.jsx(xi,{}),secondaryValue:he(e.median.totalIncidentTime),secondaryLabel:"median",color:"#0288d1"})})]}),a.jsx(Yt,{sx:{mb:4}}),a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Detailed Response Time Statistics"}),a.jsx(Ts,{component:Ae,variant:"outlined",sx:{mb:4},children:a.jsxs(Ds,{size:"small",children:[a.jsx(Ps,{children:a.jsxs(ut,{children:[a.jsx(Q,{children:"Metric"}),a.jsx(Q,{align:"right",children:"Mean"}),a.jsx(Q,{align:"right",children:"Median"}),a.jsx(Q,{align:"right",children:"90th Percentile"}),a.jsx(Q,{align:"right",children:"Min"}),a.jsx(Q,{align:"right",children:"Max"}),a.jsx(Q,{align:"right",children:"Std Dev"})]})}),a.jsxs(Ss,{children:[a.jsxs(ut,{children:[a.jsx(Q,{children:"Dispatch Time"}),a.jsx(Q,{align:"right",children:fe(e.mean.dispatchTime,"dispatch")}),a.jsx(Q,{align:"right",children:fe(e.median.dispatchTime,"dispatch")}),a.jsx(Q,{align:"right",children:fe(e.ninetiethPercentile.dispatchTime,"dispatch")}),a.jsx(Q,{align:"right",children:fe(e.min.dispatchTime,"dispatch")}),a.jsx(Q,{align:"right",children:fe(e.max.dispatchTime,"dispatch")}),a.jsx(Q,{align:"right",children:fe(e.standardDeviation.dispatchTime,"dispatch")})]}),a.jsxs(ut,{children:[a.jsx(Q,{children:"Turnout Time"}),a.jsx(Q,{align:"right",children:fe(e.mean.turnoutTime,"turnout")}),a.jsx(Q,{align:"right",children:fe(e.median.turnoutTime,"turnout")}),a.jsx(Q,{align:"right",children:fe(e.ninetiethPercentile.turnoutTime,"turnout")}),a.jsx(Q,{align:"right",children:fe(e.min.turnoutTime,"turnout")}),a.jsx(Q,{align:"right",children:fe(e.max.turnoutTime,"turnout")}),a.jsx(Q,{align:"right",children:fe(e.standardDeviation.turnoutTime,"turnout")})]}),a.jsxs(ut,{children:[a.jsx(Q,{children:"Travel Time"}),a.jsx(Q,{align:"right",children:fe(e.mean.travelTime,"travel")}),a.jsx(Q,{align:"right",children:fe(e.median.travelTime,"travel")}),a.jsx(Q,{align:"right",children:fe(e.ninetiethPercentile.travelTime,"travel")}),a.jsx(Q,{align:"right",children:fe(e.min.travelTime,"travel")}),a.jsx(Q,{align:"right",children:fe(e.max.travelTime,"travel")}),a.jsx(Q,{align:"right",children:fe(e.standardDeviation.travelTime,"travel")})]}),a.jsxs(ut,{sx:{bgcolor:"action.hover"},children:[a.jsx(Q,{children:a.jsx("strong",{children:"Total Response Time"})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.mean.totalResponseTime,"total")})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.median.totalResponseTime,"total")})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.ninetiethPercentile.totalResponseTime,"total")})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.min.totalResponseTime,"total")})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.max.totalResponseTime,"total")})}),a.jsx(Q,{align:"right",children:a.jsx("strong",{children:fe(e.standardDeviation.totalResponseTime,"total")})})]}),a.jsxs(ut,{children:[a.jsx(Q,{children:"Scene Time"}),a.jsx(Q,{align:"right",children:fe(e.mean.sceneTime,"scene")}),a.jsx(Q,{align:"right",children:fe(e.median.sceneTime,"scene")}),a.jsx(Q,{align:"right",children:fe(e.ninetiethPercentile.sceneTime,"scene")}),a.jsx(Q,{align:"right",children:fe(e.min.sceneTime,"scene")}),a.jsx(Q,{align:"right",children:fe(e.max.sceneTime,"scene")}),a.jsx(Q,{align:"right",children:fe(e.standardDeviation.sceneTime,"scene")})]}),a.jsxs(ut,{children:[a.jsx(Q,{children:"Total Incident Time"}),a.jsx(Q,{align:"right",children:fe(e.mean.totalIncidentTime,"incident")}),a.jsx(Q,{align:"right",children:fe(e.median.totalIncidentTime,"incident")}),a.jsx(Q,{align:"right",children:fe(e.ninetiethPercentile.totalIncidentTime,"incident")}),a.jsx(Q,{align:"right",children:fe(e.min.totalIncidentTime,"incident")}),a.jsx(Q,{align:"right",children:fe(e.max.totalIncidentTime,"incident")}),a.jsx(Q,{align:"right",children:fe(e.standardDeviation.totalIncidentTime,"incident")})]})]})]})}),a.jsx(P,{variant:"body2",color:"text.secondary",children:"* Times are displayed using industry-standard units: dispatch times in seconds, longer intervals in minutes and seconds."})]})},yi=({count:e,maxCount:n,label:t,color:r,height:s=150,showValue:o=!0})=>{const i=n>0?Math.max(8,e/n*100):0;return a.jsxs(A,{sx:{display:"flex",flexDirection:"column",alignItems:"center",minWidth:45},children:[a.jsx(A,{sx:{height:s,display:"flex",alignItems:"flex-end"},children:a.jsx(A,{sx:{width:40,height:`${i}%`,bgcolor:r,borderTopLeftRadius:6,borderTopRightRadius:6,position:"relative",border:`1px solid ${r}`,transition:"all 0.2s ease-in-out","&:hover":{opacity:.8,transform:"translateY(-2px)",boxShadow:`0 4px 8px ${r}40`}},children:o&&e>0&&a.jsx(P,{variant:"caption",sx:{position:"absolute",top:-22,left:"50%",transform:"translateX(-50%)",whiteSpace:"nowrap",fontWeight:600,color:"text.primary",fontSize:"0.75rem"},children:e})})}),a.jsx(P,{variant:"caption",sx:{mt:1.5,textAlign:"center",fontSize:"0.7rem",fontWeight:500,color:"text.secondary",lineHeight:1.2},children:t})]})},Os=()=>{const{incidents:e}=Pe(i=>i.analyzer.rawData),{responseTimeStats:n}=Pe(i=>i.analyzer.calculatedMetrics),t=ln(),r={fast:t.palette.success.main,average:t.palette.info.main,slow:t.palette.warning.main,verySlow:t.palette.error.main},s=f.useMemo(()=>{if(!e.length||!n)return null;const c=e.map(tt).map(x=>x.totalResponseTime).filter(x=>x!==null);if(!c.length)return null;const d=[{min:0,max:240,label:"0-4 min",color:r.fast},{min:240,max:360,label:"4-6 min",color:r.fast},{min:360,max:480,label:"6-8 min",color:r.average},{min:480,max:600,label:"8-10 min",color:r.average},{min:600,max:900,label:"10-15 min",color:r.slow},{min:900,max:1200,label:"15-20 min",color:r.slow},{min:1200,max:1/0,label:"20+ min",color:r.verySlow}].map(x=>{const y=c.filter(m=>m>=x.min&&m<x.max).length;return{...x,count:y}}),u=Math.max(...d.map(x=>x.count));return{buckets:d,maxCount:u,totalCount:c.length}},[e,n,r]),o=f.useMemo(()=>{if(!e.length||!n)return null;const c=e.map(tt).map(d=>d.totalResponseTime).filter(d=>d!==null);return c.length?[{max:240,label:"Under 4 min",color:r.fast},{max:480,label:"Under 8 min",color:r.average},{max:600,label:"Under 10 min",color:r.average}].map(d=>{const u=c.filter(y=>y<=d.max).length,x=u/c.length*100;return{...d,count:u,percentage:Math.round(x)}}):null},[e,n,r]);return!s||!o?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Distribution"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for distribution analysis."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Distribution"}),a.jsxs(q,{container:!0,spacing:3,children:[a.jsx(q,{size:{xs:12},children:a.jsxs(Ae,{variant:"outlined",sx:{p:3},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Response Time Frequency"}),a.jsxs(A,{sx:{mt:4,display:"flex",justifyContent:"center",alignItems:"flex-end",height:250,px:2,gap:1.5,position:"relative",borderLeft:"2px solid #e0e0e0",borderBottom:"2px solid #e0e0e0",ml:5,mb:5,mr:2},children:[a.jsx(A,{sx:{position:"absolute",left:-30,height:"100%",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end",py:1},children:[...Array(6)].map((i,c)=>a.jsx(P,{variant:"caption",color:"text.secondary",sx:{fontSize:"0.7rem"},children:Math.round(s.maxCount/5*(5-c))},c))}),a.jsx(P,{variant:"caption",color:"text.secondary",sx:{position:"absolute",left:-60,top:"50%",transform:"translateY(-50%) rotate(-90deg)",fontWeight:500,transformOrigin:"center"},children:"Number of Incidents"}),s.buckets.map((i,c)=>a.jsx(yi,{count:i.count,maxCount:s.maxCount,label:i.label,color:i.color,height:220},c)),a.jsx(P,{variant:"caption",color:"text.secondary",sx:{position:"absolute",bottom:-35,left:"50%",transform:"translateX(-50%)",fontWeight:500},children:"Response Time Ranges"})]}),a.jsx(A,{sx:{mt:3,textAlign:"center"},children:a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Distribution of ",s.totalCount," incidents by total response time"]})})]})}),a.jsx(q,{size:{xs:12},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Response Time Compliance"}),a.jsx(q,{container:!0,spacing:3,sx:{mt:1},children:o.map((i,c)=>a.jsx(q,{size:{xs:12,sm:4},children:a.jsxs(A,{sx:{bgcolor:"background.default",p:2,borderRadius:1,border:`1px solid ${i.color}`,height:"100%"},children:[a.jsxs(P,{variant:"h5",gutterBottom:!0,sx:{color:i.color,fontWeight:"bold"},children:[i.percentage,"%"]}),a.jsx(P,{variant:"body2",gutterBottom:!0,children:i.label}),a.jsxs(P,{variant:"caption",color:"text.secondary",children:[i.count," of ",s.totalCount," incidents"]})]})},c))}),n&&a.jsx(A,{sx:{mt:3},children:a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Average response time: ",he(n.mean.totalResponseTime)," | Median: ",he(n.median.totalResponseTime)," | 90th percentile: ",he(n.ninetiethPercentile.totalResponseTime)]})})]})})]})]})},Fr={lat:34.0522,lng:-118.2437},Nr=11,bi=({incidents:e,colorBy:n,onIncidentSelect:t})=>{const r=ln(),s=f.useRef(null),o=f.useRef(null),i=f.useRef(null),{expandedPanels:c}=Pe(m=>m.analyzer.ui),l=c.includes("incident-map"),d=f.useMemo(()=>e.map(m=>{const h={...m};return m.Latitude!==void 0&&!m.latitude&&(h.latitude=m.Latitude),m.Longitude!==void 0&&!m.longitude&&(h.longitude=m.Longitude),m.Address!==void 0&&!m.address&&(h.address=m.Address),console.log("HOTFIX: Converted field names for incident:",m.incidentId,"lat:",h.latitude,"lng:",h.longitude),h}),[e]),u=f.useMemo(()=>{if(d.length===0)return Fr;const m=d.filter(p=>p.latitude!=null&&p.longitude!=null);if(m.length===0)return Fr;const h=m.reduce((p,g)=>p+(g.latitude||0),0),T=m.reduce((p,g)=>p+(g.longitude||0),0);return{lat:h/m.length,lng:T/m.length}},[d]),x=f.useMemo(()=>d.filter(m=>m.latitude!=null&&m.longitude!=null).length,[d]),y=m=>{var h,T;if(n==="responseTime"){const g=tt(m).totalResponseTime;return g===null?"#9e9e9e":g<4?"#4caf50":g<8?"#2196f3":g<12?"#ff9800":"#f44336"}else if(n==="incidentType"){const p=((h=m.incidentType)==null?void 0:h.toLowerCase())||"other";return p.includes("fire")?"#f44336":p.includes("ems")||p.includes("medical")?"#2196f3":p.includes("rescue")?"#ff9800":"#4caf50"}else if(n==="unit"){const p=((T=m.incidentType)==null?void 0:T.toLowerCase())||"other";return p.includes("engine")?"#f44336":p.includes("ambulance")||p.includes("ems")?"#2196f3":p.includes("truck")?"#ff9800":"#4caf50"}return"#2196f3"};return f.useEffect(()=>{if(!s.current||o.current)return;const m=Et.map(s.current,{center:[u.lat,u.lng],zoom:Nr,zoomControl:!0,attributionControl:!0});Et.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"Â© OpenStreetMap contributors",maxZoom:19}).addTo(m);const h=Et.layerGroup().addTo(m);return o.current=m,i.current=h,()=>{o.current&&(o.current.remove(),o.current=null,i.current=null)}},[]),f.useEffect(()=>{o.current&&x>0&&o.current.setView([u.lat,u.lng],Nr)},[u,x]),f.useEffect(()=>{o.current&&setTimeout(()=>{var m;(m=o.current)==null||m.invalidateSize()},100)},[d]),f.useEffect(()=>{if(!s.current||!o.current)return;const m=new ResizeObserver(()=>{o.current&&setTimeout(()=>{var h;(h=o.current)==null||h.invalidateSize()},150)});return m.observe(s.current),()=>{m.disconnect()}},[]),f.useEffect(()=>{if(!o.current||!i.current)return;i.current.clearLayers();const m=d.filter(h=>h.latitude!=null&&h.longitude!=null);if(m.forEach(h=>{const T=h.latitude,p=h.longitude,g=y(h),w=Et.divIcon({className:"custom-marker",html:`<div style="
          background-color: ${g};
          width: 20px;
          height: 20px;
          border-radius: 50%;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        "></div>`,iconSize:[20,20],iconAnchor:[10,10]}),M=Et.marker([T,p],{icon:w}),D=tt(h),j=`
        <div style="min-width: 200px;">
          <h4 style="margin: 0 0 8px 0;">Incident ${h.incidentId}</h4>
          <p style="margin: 0 0 4px 0;"><strong>Type:</strong> ${h.incidentType||"Unknown"}</p>
          <p style="margin: 0 0 4px 0;"><strong>Date:</strong> ${h.incidentDate||"Unknown"}</p>
          <p style="margin: 0 0 4px 0;"><strong>Response Time:</strong> ${he(D.totalResponseTime)}</p>
          ${h.address?`<p style="margin: 0 0 4px 0;"><strong>Address:</strong> ${h.address}</p>`:""}
        </div>
      `;M.bindPopup(j),M.on("click",()=>{t&&t(h.incidentId)}),i.current.addLayer(M)}),m.length>0){const h=new Et.FeatureGroup(i.current.getLayers());o.current.fitBounds(h.getBounds().pad(.1))}},[d,n,t]),x===0?a.jsxs(A,{sx:{position:"relative",height:500,width:"100%",bgcolor:r.palette.grey[100],borderRadius:1,overflow:"hidden",border:`1px solid ${r.palette.divider}`,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",p:3},children:[a.jsx(Ms,{sx:{fontSize:40,color:"text.secondary",mb:2}}),a.jsx(P,{variant:"h6",gutterBottom:!0,children:"No Location Data Available"}),a.jsxs(P,{variant:"body2",color:"text.secondary",align:"center",children:["None of the incidents have valid latitude/longitude coordinates.",a.jsx("br",{}),"Please ensure your data includes location information."]})]}):a.jsxs(A,{sx:{position:"relative",height:l?"calc(100vh - 200px)":"100%",minHeight:{xs:500,sm:600,md:700},width:"100%",maxWidth:"100%",borderRadius:1,overflow:"hidden",border:`1px solid ${r.palette.divider}`,"& .leaflet-container":{width:"100% !important",height:"100% !important"}},children:[a.jsx("div",{ref:s,style:{height:"100%",width:"100%",minWidth:"300px"}}),a.jsxs(A,{sx:{position:"absolute",top:10,right:10,bgcolor:"background.paper",p:1.5,borderRadius:1,boxShadow:2,zIndex:1e3},children:[a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[a.jsx("strong",{children:x})," incidents with location data"]}),a.jsxs(P,{variant:"caption",color:"text.secondary",children:["Center: ",u.lat.toFixed(4),", ",u.lng.toFixed(4)]})]}),a.jsxs(A,{sx:{position:"absolute",bottom:10,left:10,bgcolor:"background.paper",p:1.5,borderRadius:1,boxShadow:2,zIndex:1e3},children:[a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[a.jsx("strong",{children:"Color Legend:"}),n==="responseTime"&&" Response Time",n==="incidentType"&&" Incident Type",n==="unit"&&" Responding Unit"]}),a.jsxs(A,{sx:{display:"flex",gap:1,flexWrap:"wrap",mt:1},children:[n==="responseTime"&&a.jsxs(a.Fragment,{children:[a.jsx(Xe,{size:"small",label:"< 4 min",sx:{bgcolor:"#4caf50",color:"white"}}),a.jsx(Xe,{size:"small",label:"4-8 min",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Xe,{size:"small",label:"8-12 min",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Xe,{size:"small",label:"> 12 min",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Xe,{size:"small",label:"No time data",sx:{bgcolor:"#9e9e9e",color:"white"}})]}),n==="incidentType"&&a.jsxs(a.Fragment,{children:[a.jsx(Xe,{size:"small",label:"Fire",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Xe,{size:"small",label:"EMS",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Xe,{size:"small",label:"Rescue",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Xe,{size:"small",label:"Other",sx:{bgcolor:"#4caf50",color:"white"}})]}),n==="unit"&&a.jsxs(a.Fragment,{children:[a.jsx(Xe,{size:"small",label:"Engine",sx:{bgcolor:"#f44336",color:"white"}}),a.jsx(Xe,{size:"small",label:"Ambulance",sx:{bgcolor:"#2196f3",color:"white"}}),a.jsx(Xe,{size:"small",label:"Truck",sx:{bgcolor:"#ff9800",color:"white"}}),a.jsx(Xe,{size:"small",label:"Other",sx:{bgcolor:"#4caf50",color:"white"}})]})]})]})]})},wi=({incident:e})=>{const n=f.useMemo(()=>tt(e),[e]);return a.jsx(rr,{variant:"outlined",sx:{mb:2},children:a.jsxs(sr,{children:[a.jsxs(P,{variant:"h6",gutterBottom:!0,children:["Incident ",e.incidentId]}),a.jsx(A,{sx:{mb:2},children:a.jsxs(q,{container:!0,spacing:2,children:[a.jsxs(q,{size:{xs:12,sm:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Date & Time"}),a.jsxs(P,{variant:"body1",children:[e.incidentDate," ",e.incidentTime?`at ${e.incidentTime}`:""]})]}),a.jsxs(q,{size:{xs:12,sm:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Type"}),a.jsx(P,{variant:"body1",children:e.incidentType||"Unknown"})]})]})}),a.jsx(Yt,{sx:{my:1.5}}),a.jsxs(A,{sx:{display:"flex",gap:2,alignItems:"center",mb:1.5},children:[a.jsx(Ms,{color:"primary"}),a.jsx(P,{children:e.latitude!=null&&e.longitude!=null?`${e.latitude.toFixed(6)}, ${e.longitude.toFixed(6)}`:"No coordinates available"})]}),e.address&&a.jsxs(P,{variant:"body2",sx:{ml:4,mb:1.5},children:[e.address,e.city?`, ${e.city}`:"",e.state?`, ${e.state}`:"",e.zipCode?` ${e.zipCode}`:""]}),a.jsx(Yt,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Times:"}),a.jsxs(q,{container:!0,spacing:1,children:[a.jsxs(q,{size:{xs:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Dispatch:"}),a.jsx(P,{variant:"body1",children:he(n.dispatchTime)})]}),a.jsxs(q,{size:{xs:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Turnout:"}),a.jsx(P,{variant:"body1",children:he(n.turnoutTime)})]}),a.jsxs(q,{size:{xs:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Travel:"}),a.jsx(P,{variant:"body1",children:he(n.travelTime)})]}),a.jsxs(q,{size:{xs:6},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total:"}),a.jsx(P,{variant:"body1",children:he(n.totalResponseTime)})]})]})]})})},vi=({incidents:e})=>{const{responseTimeStats:n}=Pe(s=>s.analyzer.calculatedMetrics),t=f.useMemo(()=>{const s={};return e.forEach(o=>{const i=o.incidentType||"Unknown";s[i]=(s[i]||0)+1}),s},[e]),r=f.useMemo(()=>Object.entries(t).sort((s,o)=>o[1]-s[1]).slice(0,3),[t]);return n?a.jsx(rr,{variant:"outlined",children:a.jsxs(sr,{children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Regional Statistics"}),a.jsxs(P,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["Based on ",e.length," incidents"]}),a.jsx(Yt,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Times:"}),a.jsxs(q,{container:!0,spacing:1,sx:{mb:2},children:[a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Average:"}),a.jsx(P,{variant:"body1",children:he(n.mean.totalResponseTime)})]}),a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Median:"}),a.jsx(P,{variant:"body1",children:he(n.median.totalResponseTime)})]}),a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"90th Percentile:"}),a.jsx(P,{variant:"body1",children:he(n.ninetiethPercentile.totalResponseTime)})]})]}),a.jsx(Yt,{sx:{my:1.5}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Top Incident Types:"}),a.jsx(A,{sx:{mt:1},children:r.map(([s,o])=>a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:.5},children:[a.jsx(P,{variant:"body2",children:s}),a.jsxs(P,{variant:"body2",children:[o," incidents"]})]},s))})]})}):null},Rs=()=>{console.log("INCIDENT_MAP_COMPONENT: Component is rendering!");const e=yt(),{incidents:n}=Pe(d=>d.analyzer.rawData);console.log("INCIDENT_MAP_COMPONENT: Received",(n==null?void 0:n.length)||0,"incidents");const t=Pe(d=>d.analyzer.ui.selectedIncidentId),[r,s]=f.useState("responseTime"),o=f.useMemo(()=>t&&n.find(d=>d.incidentId===t)||null,[n,t]),i=f.useMemo(()=>n.some(d=>d.latitude!=null&&d.longitude!=null),[n]),c=d=>{s(d.target.value)},l=d=>{e({type:"analyzer/setSelectedIncident",payload:d})};return n.length?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Incident Map"}),!i&&a.jsx(Bt,{severity:"warning",sx:{mb:3},children:"None of the incidents in your dataset have location coordinates (latitude/longitude). The map visualization requires geographic coordinates to display incidents."}),a.jsxs(A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(P,{variant:"body2",color:"text.secondary",children:["Showing ",n.length," incidents"]}),a.jsxs(gs,{size:"small",sx:{width:200},children:[a.jsx(xs,{id:"color-by-label",children:"Color By"}),a.jsxs(wo,{labelId:"color-by-label",value:r,label:"Color By",onChange:c,children:[a.jsx(Ln,{value:"responseTime",children:"Response Time"}),a.jsx(Ln,{value:"incidentType",children:"Incident Type"}),a.jsx(Ln,{value:"unit",children:"Responding Unit"})]})]})]}),a.jsxs(q,{container:!0,spacing:3,children:[a.jsx(q,{size:{xs:12,md:o?8:12},sx:{width:"100%"},children:a.jsx(A,{sx:{width:"100%",height:"100%",minHeight:{xs:500,sm:600,md:700},display:"flex",flexDirection:"column"},children:a.jsx(A,{sx:{flex:1,minHeight:0},children:a.jsx(bi,{incidents:n,colorBy:r,onIncidentSelect:l})})})}),o&&a.jsxs(q,{size:{xs:12,md:4},children:[a.jsx(wi,{incident:o}),a.jsx(vi,{incidents:n})]})]})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Incident Map"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for mapping."})]})},Hn=Ue(a.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),Ti=e=>{if(!e)return"N/A";try{const n=e.split(" ");return n.length>=1?n[0]:e}catch{return e}},Di=e=>{if(!e)return"N/A";try{const n=e.split(" ");return n.length>=2?n[1]:e}catch{return e}},dt=[{id:"incidentId",label:"Incident ID",minWidth:120},{id:"incidentDate",label:"Incident Date",minWidth:110},{id:"incidentTime",label:"Time",minWidth:80},{id:"incidentType",label:"Type",minWidth:120},{id:"dispatchTime",label:"Dispatch Time",align:"right",minWidth:100,format:e=>e===null?"N/A":he(e)},{id:"turnoutTime",label:"Turnout Time",align:"right",minWidth:100,format:e=>e===null?"N/A":he(e)},{id:"travelTime",label:"Travel Time",align:"right",minWidth:100,format:e=>e===null?"N/A":he(e)},{id:"totalResponseTime",label:"Total Response Time",align:"right",minWidth:150,format:e=>e===null?"N/A":he(e)},{id:"respondingUnit",label:"Unit",minWidth:80},{id:"address",label:"Location",minWidth:200}],Es=()=>{const e=yt(),{incidents:n}=Pe(b=>b.analyzer.rawData),{responseTimeStats:t}=Pe(b=>b.analyzer.calculatedMetrics),r=Pe(b=>b.analyzer.ui.selectedIncidentId),[s,o]=f.useState(0),[i,c]=f.useState(10),[l,d]=f.useState("incidentDate"),[u,x]=f.useState("desc"),[y,m]=f.useState(""),h=f.useMemo(()=>n.map(b=>{const C=tt(b);return{...b,...C}}),[n]),T=f.useMemo(()=>{if(!y)return h;const b=y.toLowerCase();return h.filter(C=>C.incidentId&&C.incidentId.toLowerCase().includes(b)||C.incidentType&&C.incidentType.toLowerCase().includes(b)||C.respondingUnit&&C.respondingUnit.toLowerCase().includes(b)||C.address&&C.address.toLowerCase().includes(b))},[h,y]),p=f.useMemo(()=>T.length?[...T].sort((b,C)=>{const R=b[l],N=C[l];return R==null&&N==null?0:R==null?u==="asc"?-1:1:N==null?u==="asc"?1:-1:u==="asc"?R<N?-1:R>N?1:0:N<R?-1:N>R?1:0}):[],[T,l,u]),g=f.useMemo(()=>{const b=s*i;return p.slice(b,b+i)},[p,s,i]),w=b=>{x(l===b&&u==="asc"?"desc":"asc"),d(b)},M=(b,C)=>{o(C)},D=b=>{c(parseInt(b.target.value,10)),o(0)},j=b=>{m(b.target.value),o(0)},I=b=>{e(so(b===r?null:b))},O=b=>{if(b===null||!t)return"unknown";const C=t.ninetiethPercentile.totalResponseTime||0,R=t.mean.totalResponseTime||0;return b>C?"slow":b<R?"fast":"average"};return a.jsxs(A,{sx:{p:3},children:[a.jsxs(A,{sx:{mb:3,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(P,{variant:"h6",children:["Incident Data",a.jsxs(P,{variant:"body2",color:"text.secondary",component:"span",sx:{ml:1},children:["(",T.length," incidents)"]})]}),a.jsx(ys,{size:"small",variant:"outlined",placeholder:"Search incidents...",value:y,onChange:j,InputProps:{startAdornment:a.jsx(bs,{position:"start",children:a.jsx(vo,{})})},sx:{width:250}})]}),a.jsxs(Ae,{variant:"outlined",children:[a.jsx(Ts,{sx:{maxHeight:600},children:a.jsxs(Ds,{stickyHeader:!0,size:"small",children:[a.jsx(Ps,{children:a.jsxs(ut,{children:[dt.map(b=>a.jsx(Q,{align:b.align,style:{minWidth:b.minWidth},sortDirection:l===b.id?u:!1,children:a.jsx(oi,{active:l===b.id,direction:l===b.id?u:"asc",onClick:()=>w(b.id),children:b.label})},b.id)),a.jsx(Q,{style:{minWidth:50}})]})}),a.jsxs(Ss,{children:[g.map(b=>{const C=O(b.totalResponseTime);return a.jsxs(ut,{hover:!0,selected:b.incidentId===r,onClick:()=>I(b.incidentId),sx:{cursor:"pointer"},children:[a.jsx(Q,{children:b.incidentId}),a.jsx(Q,{children:Ti(b.incidentDate||b.incidentTime)}),a.jsx(Q,{children:Di(b.incidentTime||b.incidentDate)}),a.jsx(Q,{children:b.incidentType?a.jsx(Xe,{size:"small",label:b.incidentType,color:b.incidentType.toLowerCase().includes("fire")?"error":b.incidentType.toLowerCase().includes("ems")?"primary":"default",variant:"outlined"}):"Unknown"}),a.jsx(Q,{align:"right",children:dt[4].format?dt[4].format(b.dispatchTime):b.dispatchTime||"N/A"}),a.jsx(Q,{align:"right",children:dt[5].format?dt[5].format(b.turnoutTime):b.turnoutTime||"N/A"}),a.jsx(Q,{align:"right",children:dt[6].format?dt[6].format(b.travelTime):b.travelTime||"N/A"}),a.jsx(Q,{align:"right",children:a.jsxs(A,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:[C==="fast"&&a.jsx(jr,{fontSize:"small",color:"success",sx:{mr:.5}}),C==="average"&&a.jsx(Hn,{fontSize:"small",color:"primary",sx:{mr:.5}}),C==="slow"&&a.jsx(kr,{fontSize:"small",color:"error",sx:{mr:.5}}),dt[7].format?dt[7].format(b.totalResponseTime):b.totalResponseTime||"N/A"]})}),a.jsx(Q,{children:b.respondingUnit||"N/A"}),a.jsx(Q,{children:b.address&&b.address!=="N/A"?a.jsxs(A,{children:[a.jsx(P,{variant:"body2",children:b.address}),(b.city||b.state)&&a.jsxs(P,{variant:"caption",color:"text.secondary",children:[b.city,b.city&&b.state?", ":"",b.state]}),b.latitude&&b.longitude&&a.jsxs(P,{variant:"caption",color:"text.secondary",sx:{display:"block"},children:[b.latitude.toFixed(4),", ",b.longitude.toFixed(4)]})]}):b.latitude&&b.longitude?a.jsxs(P,{variant:"caption",color:"text.secondary",children:[b.latitude.toFixed(4),", ",b.longitude.toFixed(4)]}):a.jsx(P,{variant:"body2",color:"text.secondary",children:"No location data"})}),a.jsx(Q,{children:a.jsx(Mt,{size:"small",onClick:R=>{R.stopPropagation(),I(b.incidentId)},children:a.jsx(Hn,{fontSize:"small"})})})]},b.incidentId)}),g.length===0&&a.jsx(ut,{children:a.jsx(Q,{colSpan:dt.length+1,align:"center",children:T.length===0&&y?a.jsxs(P,{variant:"body2",sx:{py:2},children:['No matching incidents found for "',y,'". Try a different search term.']}):n.length===0?a.jsx(P,{variant:"body2",sx:{py:2},children:"No incident data available. Please load incident data."}):a.jsx(P,{variant:"body2",sx:{py:2},children:"No incidents to display."})})})]})]})}),a.jsx($o,{rowsPerPageOptions:[10,25,50,100],component:"div",count:T.length,rowsPerPage:i,page:s,onPageChange:M,onRowsPerPageChange:D})]}),a.jsx(A,{sx:{mt:2},children:a.jsxs(P,{variant:"caption",color:"text.secondary",children:["* Response time status indicators:",a.jsx(jr,{fontSize:"small",color:"success",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Fast (below average),",a.jsx(Hn,{fontSize:"small",color:"primary",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Average (within normal range),",a.jsx(kr,{fontSize:"small",color:"error",sx:{ml:1,mr:.5,verticalAlign:"middle"}}),"Slow (above 90th percentile)"]})})]})},Xt=q,pn=({id:e,title:n,children:t,height:r=300})=>{const s=yt(),{expandedPanels:o}=Pe(l=>l.analyzer.ui),i=o.includes(e),c=()=>{s(ao(e))};return a.jsxs(Ae,{sx:{height:i?"calc(100vh - 160px)":r,display:"flex",flexDirection:"column",transition:"height 0.3s ease",position:i?"fixed":"relative",top:i?"70px":"auto",left:i?"20px":"auto",right:i?"20px":"auto",zIndex:i?1200:"auto",width:i?"calc(100% - 40px)":"100%"},elevation:i?8:1,children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",p:2,borderBottom:"1px solid",borderColor:"divider"},children:[a.jsx(P,{variant:"h6",children:n}),a.jsxs(A,{children:[a.jsx(Mt,{size:"small",sx:{mr:1},children:a.jsx(To,{fontSize:"small"})}),a.jsx(Mt,{size:"small",onClick:c,children:i?a.jsx(fo,{fontSize:"small"}):a.jsx(po,{fontSize:"small"})})]})]}),a.jsx(A,{sx:{p:2,overflow:"auto",flexGrow:1,display:"flex",flexDirection:"column"},children:t})]})},Pi=()=>{const{activeDashboardPanels:e}=Pe(n=>n.analyzer.ui);return a.jsx(A,{sx:{p:2},children:a.jsxs(Xt,{container:!0,spacing:3,children:[e.includes("response-time-summary")&&a.jsx(Xt,{size:{xs:12,md:6},children:a.jsx(pn,{id:"response-time-summary",title:"Response Time Summary",children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(js,{})})})}),e.includes("time-distribution")&&a.jsx(Xt,{size:{xs:12,md:6},children:a.jsx(pn,{id:"time-distribution",title:"Response Time Distribution",children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(Os,{})})})}),e.includes("incident-map")&&a.jsx(Xt,{size:{xs:12},children:a.jsx(pn,{id:"incident-map",title:"Incident Map",height:400,children:a.jsx(A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:a.jsx(Rs,{})})})}),e.includes("incident-table")&&a.jsx(Xt,{size:{xs:12},children:a.jsx(pn,{id:"incident-table",title:"Incident Data",height:350,children:a.jsx(A,{sx:{maxHeight:300,overflow:"auto"},children:a.jsx(Es,{})})})})]})})},Lr=({incident:e,colors:n,showLabels:t=!0,compact:r=!1})=>{const s=f.useMemo(()=>tt(e),[e]),o=s.totalIncidentTime||0;if(o===0)return a.jsx(A,{sx:{height:r?20:40,display:"flex",alignItems:"center",bgcolor:"action.hover",borderRadius:1,px:1},children:a.jsx(P,{variant:"caption",color:"text.secondary",children:"No time data available"})});const i=(s.dispatchTime||0)/o*100,c=(s.turnoutTime||0)/o*100,l=(s.travelTime||0)/o*100,d=(s.sceneTime||0)/o*100;return a.jsxs(A,{sx:{mb:r?.5:2},children:[!r&&t&&a.jsxs(P,{variant:"body2",gutterBottom:!0,children:[e.incidentId," ",e.incidentType?`(${e.incidentType})`:""]}),a.jsxs(A,{sx:{display:"flex",flexDirection:"column"},children:[a.jsxs(A,{sx:{display:"flex",height:r?20:30,borderRadius:1,overflow:"hidden",border:`1px solid ${n.border}`},children:[s.dispatchTime&&s.dispatchTime>0&&a.jsx(A,{sx:{width:`${i}%`,bgcolor:n.dispatch,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"D"})}),s.turnoutTime&&s.turnoutTime>0&&a.jsx(A,{sx:{width:`${c}%`,bgcolor:n.turnout,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"T"})}),s.travelTime&&s.travelTime>0&&a.jsx(A,{sx:{width:`${l}%`,bgcolor:n.travel,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"R"})}),s.sceneTime&&s.sceneTime>0&&a.jsx(A,{sx:{width:`${d}%`,bgcolor:n.scene,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:!r&&a.jsx(P,{variant:"caption",color:n.text,children:"S"})})]}),!r&&t&&a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mt:.5},children:[a.jsx(P,{variant:"caption",color:"text.secondary",children:he(s.dispatchTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:he(s.turnoutTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:he(s.travelTime,"seconds")}),a.jsx(P,{variant:"caption",color:"text.secondary",children:he(s.sceneTime,"seconds")})]})]})]})},Si=({colors:e})=>a.jsxs(A,{sx:{display:"flex",gap:2,mt:2,mb:3},children:[a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.dispatch,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Dispatch Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.turnout,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Turnout Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.travel,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Travel Time"})]}),a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[a.jsx(A,{sx:{width:20,height:20,bgcolor:e.scene,mr:1,borderRadius:.5,border:`1px solid ${e.border}`}}),a.jsx(P,{variant:"caption",children:"Scene Time"})]})]}),Mi=()=>{const{incidents:e}=Pe(c=>c.analyzer.rawData),{responseTimeStats:n}=Pe(c=>c.analyzer.calculatedMetrics),t=Pe(c=>c.analyzer.ui.selectedIncidentId),r=ln(),s={dispatch:r.palette.info.light,turnout:r.palette.warning.light,travel:r.palette.error.light,scene:r.palette.success.light,border:r.palette.divider,text:r.palette.getContrastText(r.palette.primary.main),background:r.palette.background.paper},o=f.useMemo(()=>t&&e.find(c=>c.incidentId===t)||null,[e,t]),i=f.useMemo(()=>[...e].sort((c,l)=>{const d=new Date(c.incidentDate);return new Date(l.incidentDate).getTime()-d.getTime()}).slice(0,10),[e]);return!e.length||!n?a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Timeline"}),a.jsx(P,{variant:"body1",color:"text.secondary",children:"No incident data available for timeline visualization."})]}):a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Response Time Timeline"}),a.jsx(Si,{colors:s}),a.jsxs(q,{container:!0,spacing:3,children:[o&&a.jsx(q,{size:{xs:12},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2,mb:3},children:[a.jsxs(P,{variant:"subtitle1",gutterBottom:!0,children:["Selected Incident: ",o.incidentId]}),a.jsx(A,{sx:{mb:2},children:a.jsxs(q,{container:!0,spacing:2,children:[a.jsxs(q,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Date"}),a.jsx(P,{variant:"body1",children:o.incidentDate})]}),a.jsxs(q,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Time"}),a.jsx(P,{variant:"body1",children:o.incidentTime||"N/A"})]}),a.jsxs(q,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Type"}),a.jsx(P,{variant:"body1",children:o.incidentType||"Unknown"})]}),a.jsxs(q,{size:{xs:12,sm:6,md:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Unit"}),a.jsx(P,{variant:"body1",children:o.respondingUnit||"N/A"})]})]})}),a.jsx(Yt,{sx:{my:2}}),a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Response Timeline"}),a.jsx(Lr,{incident:o,colors:s,showLabels:!0}),a.jsx(A,{sx:{mt:3},children:a.jsxs(q,{container:!0,spacing:2,children:[a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Dispatch Time"}),a.jsx(P,{variant:"body1",children:he(tt(o).dispatchTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Turnout Time"}),a.jsx(P,{variant:"body1",children:he(tt(o).turnoutTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Travel Time"}),a.jsx(P,{variant:"body1",children:he(tt(o).travelTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total Response Time"}),a.jsx(P,{variant:"body1",children:he(tt(o).totalResponseTime)})]})]})})]})}),a.jsx(q,{size:{xs:12,md:o?12:6},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Recent Incidents Timeline"}),a.jsxs(A,{sx:{mt:2},children:[i.map(c=>a.jsx(Lr,{incident:c,colors:s,showLabels:!0,compact:!1},c.incidentId)),i.length===0&&a.jsx(P,{variant:"body2",color:"text.secondary",children:"No recent incidents to display."})]})]})}),!o&&a.jsx(q,{size:{xs:12,md:6},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Average Response Time Breakdown"}),a.jsxs(A,{sx:{p:2,mt:2,bgcolor:"background.default",borderRadius:1},children:[a.jsx(P,{variant:"body2",gutterBottom:!0,children:"Average time breakdown:"}),a.jsxs(A,{sx:{display:"flex",height:40,borderRadius:1,overflow:"hidden",mt:1},children:[a.jsx(A,{sx:{width:`${(n.mean.dispatchTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.dispatch,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.dispatchTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.turnoutTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.turnout,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.turnoutTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.travelTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.travel,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.travelTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})}),a.jsx(A,{sx:{width:`${(n.mean.sceneTime||0)/(n.mean.totalIncidentTime||1)*100}%`,bgcolor:s.scene,display:"flex",alignItems:"center",justifyContent:"center",minWidth:20},children:a.jsxs(P,{variant:"caption",color:s.text,children:[Math.round((n.mean.sceneTime||0)/(n.mean.totalIncidentTime||1)*100),"%"]})})]}),a.jsx(A,{sx:{mt:3},children:a.jsxs(q,{container:!0,spacing:2,children:[a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Dispatch"}),a.jsx(P,{variant:"body1",children:he(n.mean.dispatchTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Turnout"}),a.jsx(P,{variant:"body1",children:he(n.mean.turnoutTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Travel"}),a.jsx(P,{variant:"body1",children:he(n.mean.travelTime)})]}),a.jsxs(q,{size:{xs:6,sm:3},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Avg Total"}),a.jsx(P,{variant:"body1",children:he(n.mean.totalResponseTime)})]})]})})]})]})})]})]})},Kt=(e,n)=>e.length!==n.length?!1:n.every(t=>e.includes(t)),Ci=({openTo:e,defaultOpenTo:n,views:t,defaultViews:r})=>{const s=t??r;let o;if(e!=null)o=e;else if(s.includes(n))o=n;else if(s.length>0)o=s[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:s,openTo:o}},vn=(e,n,t)=>{let r=n;return r=e.setHours(r,e.getHours(t)),r=e.setMinutes(r,e.getMinutes(t)),r=e.setSeconds(r,e.getSeconds(t)),r=e.setMilliseconds(r,e.getMilliseconds(t)),r},sn=({date:e,disableFuture:n,disablePast:t,maxDate:r,minDate:s,isDateDisabled:o,utils:i,timezone:c})=>{const l=vn(i,i.date(void 0,c),e);t&&i.isBefore(s,l)&&(s=l),n&&i.isAfter(r,l)&&(r=l);let d=e,u=e;for(i.isBefore(e,s)&&(d=s,u=null),i.isAfter(e,r)&&(u&&(u=r),d=null);d||u;){if(d&&i.isAfter(d,r)&&(d=null),u&&i.isBefore(u,s)&&(u=null),d){if(!o(d))return d;d=i.addDays(d,1)}if(u){if(!o(u))return u;u=i.addDays(u,-1)}}return null},ki=(e,n)=>e.isValid(n)?n:null,Vr=(e,n,t)=>n==null||!e.isValid(n)?t:n,Ii=(e,n,t)=>!e.isValid(n)&&n!=null&&!e.isValid(t)&&t!=null?!0:e.isEqual(n,t),or=(e,n)=>{const r=[e.startOfYear(n)];for(;r.length<12;){const s=r[r.length-1];r.push(e.addMonths(s,1))}return r},As=(e,n,t)=>t==="date"?e.startOfDay(e.date(void 0,n)):e.date(void 0,n),ji=["year","month","day"],Br=e=>ji.includes(e),ir=(e,{format:n,views:t},r)=>{if(n!=null)return n;const s=e.formats;return Kt(t,["year"])?s.year:Kt(t,["month"])?s.month:Kt(t,["day"])?s.dayOfMonth:Kt(t,["month","year"])?`${s.month} ${s.year}`:Kt(t,["day","month"])?`${s.month} ${s.dayOfMonth}`:r?/en/.test(e.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},Oi=(e,n)=>{const t=e.startOfWeek(n);return[0,1,2,3,4,5,6].map(r=>e.addDays(t,r))},Ri=["hours","minutes","seconds"],Ei=e=>Ri.includes(e),$r=(e,n)=>n.getHours(e)*3600+n.getMinutes(e)*60+n.getSeconds(e),Ai=(e,n)=>(t,r)=>e?n.isAfter(t,r):$r(t,n)>$r(r,n),ht={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Fi=e=>Math.max(...e.map(n=>ht[n.type]??1)),Zt=(e,n,t)=>{if(n===ht.year)return e.startOfYear(t);if(n===ht.month)return e.startOfMonth(t);if(n===ht.day)return e.startOfDay(t);let r=t;return n<ht.minutes&&(r=e.setMinutes(r,0)),n<ht.seconds&&(r=e.setSeconds(r,0)),n<ht.milliseconds&&(r=e.setMilliseconds(r,0)),r},Ni=({props:e,utils:n,granularity:t,timezone:r,getTodayDate:s})=>{let o=s?s():Zt(n,t,As(n,r));e.minDate!=null&&n.isAfterDay(e.minDate,o)&&(o=Zt(n,t,e.minDate)),e.maxDate!=null&&n.isBeforeDay(e.maxDate,o)&&(o=Zt(n,t,e.maxDate));const i=Ai(e.disableIgnoringDatePartForTimeValidation??!1,n);return e.minTime!=null&&i(e.minTime,o)&&(o=Zt(n,t,e.disableIgnoringDatePartForTimeValidation?e.minTime:vn(n,o,e.minTime))),e.maxTime!=null&&i(o,e.maxTime)&&(o=Zt(n,t,e.disableIgnoringDatePartForTimeValidation?e.maxTime:vn(n,o,e.maxTime))),o},Fs=(e,n)=>{const t=e.formatTokenMap[n];if(t==null)throw new Error([`MUI X: The token "${n}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof t=="string"?{type:t,contentType:t==="meridiem"?"letter":"digit",maxLength:void 0}:{type:t.sectionType,contentType:t.contentType,maxLength:t.maxLength}},Cn=(e,n)=>{const t=[],r=e.date(void 0,"default"),s=e.startOfWeek(r),o=e.endOfWeek(r);let i=s;for(;e.isBefore(i,o);)t.push(i),i=e.addDays(i,1);return t.map(c=>e.formatByString(c,n))},Ns=(e,n,t,r)=>{switch(t){case"month":return or(e,e.date(void 0,n)).map(s=>e.formatByString(s,r));case"weekDay":return Cn(e,r);case"meridiem":{const s=e.date(void 0,n);return[e.startOfDay(s),e.endOfDay(s)].map(o=>e.formatByString(o,r))}default:return[]}},zr="s",Li=["0","1","2","3","4","5","6","7","8","9"],Vi=e=>{const n=e.date(void 0);return e.formatByString(e.setSeconds(n,0),zr)==="0"?Li:Array.from({length:10}).map((r,s)=>e.formatByString(e.setSeconds(n,s),zr))},Ct=(e,n)=>{if(n[0]==="0")return e;const t=[];let r="";for(let s=0;s<e.length;s+=1){r+=e[s];const o=n.indexOf(r);o>-1&&(t.push(o.toString()),r="")}return t.join("")},lr=(e,n)=>n[0]==="0"?e:e.split("").map(t=>n[Number(t)]).join(""),Wr=(e,n)=>{const t=Ct(e,n);return t!==" "&&!Number.isNaN(Number(t))},cr=(e,n)=>Number(e).toString().padStart(n,"0"),Ls=(e,n,t,r,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const i=e.setDate(t.longestMonth,n);return e.formatByString(i,s.format)}let o=n.toString();return s.hasLeadingZerosInInput&&(o=cr(o,s.maxLength)),lr(o,r)},dr=(e,n,t)=>{let r=e.value||e.placeholder;const s=n==="non-input"?e.hasLeadingZerosInFormat:e.hasLeadingZerosInInput;return n==="non-input"&&e.hasLeadingZerosInInput&&!e.hasLeadingZerosInFormat&&(r=Number(Ct(r,t)).toString()),["input-rtl","input-ltr"].includes(n)&&e.contentType==="digit"&&!s&&r.length===1&&(r=`${r}â€Ž`),n==="input-rtl"&&(r=`â¨${r}â©`),r},_r=(e,n,t,r)=>e.formatByString(e.parse(n,t),r),Bi=(e,n)=>e.formatByString(e.date(void 0,"system"),n).length===4,Vs=(e,n,t,r)=>{if(n!=="digit")return!1;const s=e.date(void 0,"default");switch(t){case"year":return e.lib==="dayjs"&&r==="YY"?!0:e.formatByString(e.setYear(s,1),r).startsWith("0");case"month":return e.formatByString(e.startOfYear(s),r).length>1;case"day":return e.formatByString(e.startOfMonth(s),r).length>1;case"weekDay":return e.formatByString(e.startOfWeek(s),r).length>1;case"hours":return e.formatByString(e.setHours(s,1),r).length>1;case"minutes":return e.formatByString(e.setMinutes(s,1),r).length>1;case"seconds":return e.formatByString(e.setSeconds(s,1),r).length>1;default:throw new Error("Invalid section type")}},$i=(e,n,t)=>{const r=n.some(l=>l.type==="day"),s=[],o=[];for(let l=0;l<n.length;l+=1){const d=n[l];r&&d.type==="weekDay"||(s.push(d.format),o.push(dr(d,"non-input",t)))}const i=s.join(" "),c=o.join(" ");return e.parse(c,i)},zi=e=>e.map(n=>`${n.startSeparator}${n.value||n.placeholder}${n.endSeparator}`).join(""),Wi=(e,n,t)=>{const s=e.map(o=>{const i=dr(o,t?"input-rtl":"input-ltr",n);return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return t?`â¦${s}â©`:s},_i=(e,n,t)=>{const r=e.date(void 0,t),s=e.endOfYear(r),o=e.endOfDay(r),{maxDaysInMonth:i,longestMonth:c}=or(e,r).reduce((l,d)=>{const u=e.getDaysInMonth(d);return u>l.maxDaysInMonth?{maxDaysInMonth:u,longestMonth:d}:l},{maxDaysInMonth:0,longestMonth:null});return{year:({format:l})=>({minimum:0,maximum:Bi(e,l)?9999:99}),month:()=>({minimum:1,maximum:e.getMonth(s)+1}),day:({currentDate:l})=>({minimum:1,maximum:e.isValid(l)?e.getDaysInMonth(l):i,longestMonth:c}),weekDay:({format:l,contentType:d})=>{if(d==="digit"){const u=Cn(e,l).map(Number);return{minimum:Math.min(...u),maximum:Math.max(...u)}}return{minimum:1,maximum:7}},hours:({format:l})=>{const d=e.getHours(o);return Ct(e.formatByString(e.endOfDay(r),l),n)!==d.toString()?{minimum:1,maximum:Number(Ct(e.formatByString(e.startOfDay(r),l),n))}:{minimum:0,maximum:d}},minutes:()=>({minimum:0,maximum:e.getMinutes(o)}),seconds:()=>({minimum:0,maximum:e.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}},Hi=(e,n,t,r)=>{switch(n.type){case"year":return e.setYear(r,e.getYear(t));case"month":return e.setMonth(r,e.getMonth(t));case"weekDay":{let s=e.formatByString(t,n.format);n.hasLeadingZerosInInput&&(s=cr(s,n.maxLength));const o=Cn(e,n.format),i=o.indexOf(s),l=o.indexOf(n.value)-i;return e.addDays(t,l)}case"day":return e.setDate(r,e.getDate(t));case"meridiem":{const s=e.getHours(t)<12,o=e.getHours(r);return s&&o>=12?e.addHours(r,-12):!s&&o<12?e.addHours(r,12):r}case"hours":return e.setHours(r,e.getHours(t));case"minutes":return e.setMinutes(r,e.getMinutes(t));case"seconds":return e.setSeconds(r,e.getSeconds(t));default:return r}},Hr={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Yr=(e,n,t,r,s)=>[...t].sort((o,i)=>Hr[o.type]-Hr[i.type]).reduce((o,i)=>!s||i.modified?Hi(e,i,n,o):o,r),Yi=()=>navigator.userAgent.toLowerCase().includes("android"),Ui=(e,n)=>{const t={};if(!n)return e.forEach((l,d)=>{const u=d===0?null:d-1,x=d===e.length-1?null:d+1;t[d]={leftIndex:u,rightIndex:x}}),{neighbors:t,startIndex:0,endIndex:e.length-1};const r={},s={};let o=0,i=0,c=e.length-1;for(;c>=0;){i=e.findIndex((l,d)=>{var u;return d>=o&&((u=l.endSeparator)==null?void 0:u.includes(" "))&&l.endSeparator!==" / "}),i===-1&&(i=e.length-1);for(let l=i;l>=o;l-=1)s[l]=c,r[c]=l,c-=1;o=i+1}return e.forEach((l,d)=>{const u=s[d],x=u===0?null:r[u-1],y=u===e.length-1?null:r[u+1];t[d]={leftIndex:x,rightIndex:y}}),{neighbors:t,startIndex:r[0],endIndex:r[e.length-1]}},Xn=(e,n)=>{if(e==null)return null;if(e==="all")return"all";if(typeof e=="string"){const t=n.findIndex(r=>r.type===e);return t===-1?null:t}return e},qi=["value","referenceDate"],pt={emptyValue:null,getTodayValue:As,getInitialReferenceValue:e=>{let{value:n,referenceDate:t}=e,r=re(e,qi);return r.utils.isValid(n)?n:t??Ni(r)},cleanValue:ki,areValuesEqual:Ii,isSameError:(e,n)=>e===n,hasError:e=>e!=null,defaultErrorState:null,getTimezone:(e,n)=>e.isValid(n)?e.getTimezone(n):null,setTimezone:(e,n,t)=>t==null?null:e.setTimezone(t,n)},Gi={updateReferenceValue:(e,n,t)=>e.isValid(n)?n:t,getSectionsFromValue:(e,n)=>n(e),getV7HiddenInputValueFromSections:zi,getV6InputValueFromSections:Wi,parseValueStr:(e,n,t)=>t(e.trim(),n),getDateFromSection:e=>e,getDateSectionsFromValue:e=>e,updateDateInValue:(e,n,t)=>t,clearDateSections:e=>e.map(n=>v({},n,{value:""}))};function Qi(e){return Be("MuiPickersToolbar",e)}Ve("MuiPickersToolbar",["root","title","content"]);const Xi=["localeText"],Kn=f.createContext(null),Bs=function(n){const{localeText:t}=n,r=re(n,Xi),{utils:s,localeText:o}=f.useContext(Kn)??{utils:void 0,localeText:void 0},i=Re({props:r,name:"MuiLocalizationProvider"}),{children:c,dateAdapter:l,dateFormats:d,dateLibInstance:u,adapterLocale:x,localeText:y}=i,m=f.useMemo(()=>v({},y,o,t),[y,o,t]),h=f.useMemo(()=>{if(!l)return s||null;const g=new l({locale:x,formats:d,instance:u});if(!g.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/quickstart/#installation"].join(`
`));return g},[l,x,d,u,s]),T=f.useMemo(()=>h?{minDate:h.date("1900-01-01T00:00:00.000"),maxDate:h.date("2099-12-31T00:00:00.000")}:null,[h]),p=f.useMemo(()=>({utils:h,defaultDates:T,localeText:m}),[T,h,m]);return a.jsx(Kn.Provider,{value:p,children:c})},$s=f.createContext(()=>!0);function Ki(){return f.useContext($s)}const zs=f.createContext(null);function Ws(){return f.useContext(zs)}const ur=f.createContext(null),Gt=()=>{const e=f.useContext(ur);if(e==null)throw new Error("MUI X: The `usePickerContext` hook can only be called inside the context of a Picker component");return e},_s=f.createContext(null),Hs=f.createContext({ownerState:{isPickerDisabled:!1,isPickerReadOnly:!1,isPickerValueEmpty:!1,isPickerOpen:!1,pickerVariant:"desktop",pickerOrientation:"portrait"},rootRefObject:{current:null},labelId:void 0,dismissViews:()=>{},hasUIView:!0,getCurrentViewMode:()=>"UI",triggerElement:null,viewContainerRole:null,defaultActionBarActions:[],onPopperExited:void 0});function Ys(e){const{contextValue:n,actionsContextValue:t,privateContextValue:r,fieldPrivateContextValue:s,isValidContextValue:o,localeText:i,children:c}=e;return a.jsx(ur.Provider,{value:n,children:a.jsx(_s.Provider,{value:t,children:a.jsx(Hs.Provider,{value:r,children:a.jsx(zs.Provider,{value:s,children:a.jsx($s.Provider,{value:o,children:a.jsx(Bs,{localeText:i,children:c})})})})})})}const Ge=()=>f.useContext(Hs);function Us(){const{ownerState:e}=Ge(),n=bt();return f.useMemo(()=>v({},e,{toolbarDirection:n?"rtl":"ltr"}),[e,n])}const Zi=["children","className","classes","toolbarTitle","hidden","titleId","classes","landscapeDirection"],Ji=e=>Oe({root:["root"],title:["title"],content:["content"]},Qi,e),el=X("div",{name:"MuiPickersToolbar",slot:"Root"})(({theme:e})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:e.spacing(2,3),variants:[{props:{pickerOrientation:"landscape"},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),tl=X("div",{name:"MuiPickersToolbar",slot:"Content",shouldForwardProp:e=>kt(e)&&e!=="landscapeDirection"})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{pickerOrientation:"landscape"},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{pickerOrientation:"landscape",landscapeDirection:"row"},style:{flexDirection:"row"}}]}),nl=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersToolbar"}),{children:s,className:o,classes:i,toolbarTitle:c,hidden:l,titleId:d,landscapeDirection:u}=r,x=re(r,Zi),y=Us(),m=Ji(i);return l?null:a.jsxs(el,v({ref:t,className:Ye(m.root,o),ownerState:y},x,{children:[a.jsx(P,{color:"text.secondary",variant:"overline",id:d,className:m.title,children:c}),a.jsx(tl,{className:m.content,ownerState:y,landscapeDirection:u,children:s})]}))}),rl=e=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:v({},e)}}}}),qs={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:e=>e==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",nextStepButtonLabel:"Next",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",timeRangePickerToolbarTitle:"Select time range",clockLabelText:(e,n)=>`Select ${e}. ${n?`Selected time is ${n}`:"No time selected"}`,hoursClockNumberText:e=>`${e} hours`,minutesClockNumberText:e=>`${e} minutes`,secondsClockNumberText:e=>`${e} seconds`,selectViewText:e=>`Select ${e}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:e=>`Week ${e}`,calendarWeekNumberText:e=>`${e}`,openDatePickerDialogue:e=>e?`Choose date, selected date is ${e}`:"Choose date",openTimePickerDialogue:e=>e?`Choose time, selected time is ${e}`:"Choose time",openRangePickerDialogue:e=>e?`Choose range, selected range is ${e}`:"Choose range",fieldClearLabel:"Clear",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:e=>"Y".repeat(e.digitAmount),fieldMonthPlaceholder:e=>e.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:e=>e.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},sl=qs;rl(qs);const It=()=>{const e=f.useContext(Kn);if(e===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(e.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const n=f.useMemo(()=>v({},sl,e.localeText),[e.localeText]);return f.useMemo(()=>v({},e,{localeText:n}),[e,n])},Ce=()=>It().utils,al=()=>It().defaultDates,kn=e=>{const n=Ce(),t=f.useRef(void 0);return t.current===void 0&&(t.current=n.date(void 0,e)),t.current},vt=()=>It().localeText;function ol(e){return Be("MuiDatePickerToolbar",e)}Ve("MuiDatePickerToolbar",["root","title"]);const Zn=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Jn=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],Gs=["minDateTime","maxDateTime"],il=[...Zn,...Jn,...Gs],Qs=e=>il.reduce((n,t)=>(e.hasOwnProperty(t)&&(n[t]=e[t]),n),{}),ll=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","unstableStartFieldRef","unstableEndFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator","autoFocus","focused"],Xs=(e,n)=>f.useMemo(()=>{const t=v({},e),r={},s=o=>{t.hasOwnProperty(o)&&(r[o]=t[o],delete t[o])};return ll.forEach(s),n==="date"?Zn.forEach(s):n==="time"?Jn.forEach(s):n==="date-time"&&(Zn.forEach(s),Jn.forEach(s),Gs.forEach(s)),{forwardedProps:t,internalProps:r}},[e,n]),cl=({utils:e,format:n})=>{let t=10,r=n,s=e.expandFormat(n);for(;s!==r;)if(r=s,s=e.expandFormat(r),t-=1,t<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the component.");return s},dl=({utils:e,expandedFormat:n})=>{const t=[],{start:r,end:s}=e.escapedCharacters,o=new RegExp(`(\\${r}[^\\${s}]*\\${s})+`,"g");let i=null;for(;i=o.exec(n);)t.push({start:i.index,end:o.lastIndex-1});return t},ul=(e,n,t,r)=>{switch(t.type){case"year":return n.fieldYearPlaceholder({digitAmount:e.formatByString(e.date(void 0,"default"),r).length,format:r});case"month":return n.fieldMonthPlaceholder({contentType:t.contentType,format:r});case"day":return n.fieldDayPlaceholder({format:r});case"weekDay":return n.fieldWeekDayPlaceholder({contentType:t.contentType,format:r});case"hours":return n.fieldHoursPlaceholder({format:r});case"minutes":return n.fieldMinutesPlaceholder({format:r});case"seconds":return n.fieldSecondsPlaceholder({format:r});case"meridiem":return n.fieldMeridiemPlaceholder({format:r});default:return r}},hl=({utils:e,date:n,shouldRespectLeadingZeros:t,localeText:r,localizedDigits:s,now:o,token:i,startSeparator:c})=>{if(i==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const l=Fs(e,i),d=Vs(e,l.contentType,l.type,i),u=t?d:l.contentType==="digit",x=e.isValid(n);let y=x?e.formatByString(n,i):"",m=null;if(u)if(d)m=y===""?e.formatByString(o,i).length:y.length;else{if(l.maxLength==null)throw new Error(`MUI X: The token ${i} should have a 'maxLength' property on it's adapter`);m=l.maxLength,x&&(y=lr(cr(Ct(y,s),m),s))}return v({},l,{format:i,maxLength:m,value:y,placeholder:ul(e,r,l,i),hasLeadingZerosInFormat:d,hasLeadingZerosInInput:u,startSeparator:c,endSeparator:"",modified:!1})},ml=e=>{var m;const{utils:n,expandedFormat:t,escapedParts:r}=e,s=n.date(void 0),o=[];let i="";const c=Object.keys(n.formatTokenMap).sort((h,T)=>T.length-h.length),l=/^([a-zA-Z]+)/,d=new RegExp(`^(${c.join("|")})*$`),u=new RegExp(`^(${c.join("|")})`),x=h=>r.find(T=>T.start<=h&&T.end>=h);let y=0;for(;y<t.length;){const h=x(y),T=h!=null,p=(m=l.exec(t.slice(y)))==null?void 0:m[1];if(!T&&p!=null&&d.test(p)){let g=p;for(;g.length>0;){const w=u.exec(g)[1];g=g.slice(w.length),o.push(hl(v({},e,{now:s,token:w,startSeparator:i}))),i=""}y+=p.length}else{const g=t[y];T&&(h==null?void 0:h.start)===y||(h==null?void 0:h.end)===y||(o.length===0?i+=g:(o[o.length-1].endSeparator+=g,o[o.length-1].isEndFormatSeparator=!0)),y+=1}}return o.length===0&&i.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),o},fl=({isRtl:e,formatDensity:n,sections:t})=>t.map(r=>{const s=o=>{let i=o;return e&&i!==null&&i.includes(" ")&&(i=`â©${i}â¦`),n==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return r.startSeparator=s(r.startSeparator),r.endSeparator=s(r.endSeparator),r}),Ur=e=>{let n=cl(e);e.isRtl&&e.enableAccessibleFieldDOMStructure&&(n=n.split(" ").reverse().join(" "));const t=dl(v({},e,{expandedFormat:n})),r=ml(v({},e,{expandedFormat:n,escapedParts:t}));return fl(v({},e,{sections:r}))},hr=()=>f.useContext(ur),pl=()=>{const e=f.useContext(_s);if(e==null)throw new Error(["MUI X: The `usePickerActionsContext` can only be called in fields that are used as a slot of a Picker component"].join(`
`));return e},gl=["toolbarFormat","toolbarPlaceholder","className","classes"],xl=e=>Oe({root:["root"],title:["title"]},ol,e),yl=X(nl,{name:"MuiDatePickerToolbar",slot:"Root"})({}),bl=X(P,{name:"MuiDatePickerToolbar",slot:"Title"})({variants:[{props:{pickerOrientation:"landscape"},style:{margin:"auto 16px auto auto"}}]}),wl=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiDatePickerToolbar"}),{toolbarFormat:s,toolbarPlaceholder:o="â€“â€“",className:i,classes:c}=r,l=re(r,gl),d=Ce(),{value:u,views:x,orientation:y}=Gt(),m=vt(),h=Us(),T=xl(c),p=f.useMemo(()=>{if(!d.isValid(u))return o;const g=ir(d,{format:s,views:x},!0);return d.formatByString(u,g)},[u,s,o,d,x]);return a.jsx(yl,v({ref:t,toolbarTitle:m.datePickerToolbarTitle,className:Ye(T.root,i)},l,{children:a.jsx(bl,{variant:"h4",align:y==="landscape"?"left":"center",ownerState:h,className:T.title,children:p})}))}),cn=({props:e,value:n,timezone:t,adapter:r})=>{if(n===null)return null;const{shouldDisableDate:s,shouldDisableMonth:o,shouldDisableYear:i,disablePast:c,disableFuture:l,minDate:d,maxDate:u}=e,x=r.utils.date(void 0,t);switch(!0){case!r.utils.isValid(n):return"invalidDate";case!!(s&&s(n)):return"shouldDisableDate";case!!(o&&o(n)):return"shouldDisableMonth";case!!(i&&i(n)):return"shouldDisableYear";case!!(l&&r.utils.isAfterDay(n,x)):return"disableFuture";case!!(c&&r.utils.isBeforeDay(n,x)):return"disablePast";case!!(d&&r.utils.isBeforeDay(n,d)):return"minDate";case!!(u&&r.utils.isAfterDay(n,u)):return"maxDate";default:return null}};cn.valueManager=pt;function Ks(e){const{props:n,validator:t,value:r,timezone:s,onError:o}=e,i=It(),c=f.useRef(t.valueManager.defaultErrorState),l=t({adapter:i,value:r,timezone:s,props:n}),d=t.valueManager.hasError(l);f.useEffect(()=>{o&&!t.valueManager.isSameError(l,c.current)&&o(l,r),c.current=l},[t,o,l,r]);const u=H(x=>t({adapter:i,value:x,timezone:s,props:n}));return{validationError:l,hasValidationError:d,getValidationErrorForNewValue:u}}function vl(e={}){const{enableAccessibleFieldDOMStructure:n=!0}=e;return f.useMemo(()=>({valueType:"date",validator:cn,internal_valueManager:pt,internal_fieldValueManager:Gi,internal_enableAccessibleFieldDOMStructure:n,internal_useApplyDefaultValuesToFieldInternalProps:Dl,internal_useOpenPickerButtonAriaLabel:Tl}),[n])}function Tl(e){const n=Ce(),t=vt();return f.useMemo(()=>{const r=n.isValid(e)?n.format(e,"fullDate"):null;return t.openDatePickerDialogue(r)},[e,t,n])}function Dl(e){const n=Ce(),t=dn(e);return f.useMemo(()=>v({},e,t,{format:e.format??n.formats.keyboardDate}),[e,t,n])}function dn(e){const n=Ce(),t=al();return f.useMemo(()=>({disablePast:e.disablePast??!1,disableFuture:e.disableFuture??!1,minDate:Vr(n,e.minDate,t.minDate),maxDate:Vr(n,e.maxDate,t.maxDate)}),[e.minDate,e.maxDate,e.disableFuture,e.disablePast,n,t])}function Zs(e,n){const t=Re({props:e,name:n}),r=dn(t),s=f.useMemo(()=>{var o;return((o=t.localeText)==null?void 0:o.toolbarTitle)==null?t.localeText:v({},t.localeText,{datePickerToolbarTitle:t.localeText.toolbarTitle})},[t.localeText]);return v({},t,r,{localeText:s},Ci({views:t.views,openTo:t.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{slots:v({toolbar:wl},t.slots)})}function Pl(e){return Be("MuiPickerPopper",e)}Ve("MuiPickerPopper",["root","paper"]);function Sl(e,n){return Array.isArray(n)?n.every(t=>e.indexOf(t)!==-1):e.indexOf(n)!==-1}const Ml=e=>{setTimeout(e,0)},Ke=(e=document)=>{const n=e.activeElement;return n?n.shadowRoot?Ke(n.shadowRoot):n:null},Cl="@media (pointer: fine)",kl=["PaperComponent","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Il=e=>Oe({root:["root"],paper:["paper"]},Pl,e),jl=X(So,{name:"MuiPickerPopper",slot:"Root"})(({theme:e})=>({zIndex:e.zIndex.modal})),Ol=X(Ae,{name:"MuiPickerPopper",slot:"Paper"})({outline:0,transformOrigin:"top center",variants:[{props:({popperPlacement:e})=>["top","top-start","top-end"].includes(e),style:{transformOrigin:"bottom center"}}]});function Rl(e,n){return n.documentElement.clientWidth<e.clientX||n.documentElement.clientHeight<e.clientY}function El(e,n){const t=f.useRef(!1),r=f.useRef(!1),s=f.useRef(null),o=f.useRef(!1);f.useEffect(()=>{if(!e)return;function l(){o.current=!0}return document.addEventListener("mousedown",l,!0),document.addEventListener("touchstart",l,!0),()=>{document.removeEventListener("mousedown",l,!0),document.removeEventListener("touchstart",l,!0),o.current=!1}},[e]);const i=H(l=>{if(!o.current)return;const d=r.current;r.current=!1;const u=Vn(s.current);if(!s.current||"clientX"in l&&Rl(l,u))return;if(t.current){t.current=!1;return}let x;l.composedPath?x=l.composedPath().indexOf(s.current)>-1:x=!u.documentElement.contains(l.target)||s.current.contains(l.target),!x&&!d&&n(l)}),c=()=>{r.current=!0};return f.useEffect(()=>{if(e){const l=Vn(s.current),d=()=>{t.current=!0};return l.addEventListener("touchstart",i),l.addEventListener("touchmove",d),()=>{l.removeEventListener("touchstart",i),l.removeEventListener("touchmove",d)}}},[e,i]),f.useEffect(()=>{if(e){const l=Vn(s.current);return l.addEventListener("click",i),()=>{l.removeEventListener("click",i),r.current=!1}}},[e,i]),[s,c,c]}const Al=f.forwardRef((e,n)=>{const{PaperComponent:t,ownerState:r,children:s,paperSlotProps:o,paperClasses:i,onPaperClick:c,onPaperTouchStart:l}=e,d=re(e,kl),u=ve({elementType:t,externalSlotProps:o,additionalProps:{tabIndex:-1,elevation:8,ref:n},className:i,ownerState:r});return a.jsx(t,v({},d,u,{onClick:x=>{var y;c(x),(y=u.onClick)==null||y.call(u,x)},onTouchStart:x=>{var y;l(x),(y=u.onTouchStart)==null||y.call(u,x)},ownerState:r,children:s}))});function Fl(e){const n=Re({props:e,name:"MuiPickerPopper"}),{children:t,placement:r="bottom-start",slots:s,slotProps:o,classes:i}=n,{open:c,popupRef:l,reduceAnimations:d}=Gt(),{dismissViews:u,getCurrentViewMode:x,onPopperExited:y,triggerElement:m,viewContainerRole:h}=Ge();f.useEffect(()=>{function V(ee){c&&ee.key==="Escape"&&u()}return document.addEventListener("keydown",V),()=>{document.removeEventListener("keydown",V)}},[u,c]);const T=f.useRef(null);f.useEffect(()=>{h==="tooltip"||x()==="field"||(c?T.current=Ke(document):T.current&&T.current instanceof HTMLElement&&setTimeout(()=>{T.current instanceof HTMLElement&&T.current.focus()}))},[c,h,x]);const p=Il(i),{ownerState:g,rootRefObject:w}=Ge(),M=v({},g,{popperPlacement:r}),D=H(()=>{h==="tooltip"?Ml(()=>{var V,ee;(V=w.current)!=null&&V.contains(Ke(document))||(ee=l.current)!=null&&ee.contains(Ke(document))||u()}):u()}),[j,I,O]=El(c,D),b=f.useRef(null),C=nt(b,l),R=nt(C,j),N=V=>{V.key==="Escape"&&(V.stopPropagation(),u())},S=(s==null?void 0:s.desktopTransition)??d?Sn:Do,z=(s==null?void 0:s.desktopTrapFocus)??Po,L=(s==null?void 0:s.desktopPaper)??Ol,E=(s==null?void 0:s.popper)??jl,F=ve({elementType:E,externalSlotProps:o==null?void 0:o.popper,additionalProps:{transition:!0,role:h??void 0,open:c,placement:r,anchorEl:m,onKeyDown:N},className:p.root,ownerState:M});return a.jsx(E,v({},F,{children:({TransitionProps:V})=>a.jsx(z,v({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},o==null?void 0:o.desktopTrapFocus,{children:a.jsx(S,v({},V,o==null?void 0:o.desktopTransition,{onExited:ee=>{var _,te,W;y==null||y(),(te=(_=o==null?void 0:o.desktopTransition)==null?void 0:_.onExited)==null||te.call(_,ee),(W=V==null?void 0:V.onExited)==null||W.call(V)},children:a.jsx(Al,{PaperComponent:L,ownerState:M,ref:R,onPaperClick:I,onPaperTouchStart:O,paperClasses:p.paper,paperSlotProps:o==null?void 0:o.desktopPaper,children:t})}))}))}))}const Nl="@media (prefers-reduced-motion: reduce)",zt=typeof navigator<"u"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),qr=zt&&zt[1]?parseInt(zt[1],10):null,Gr=zt&&zt[2]?parseInt(zt[2],10):null,Ll=qr&&qr<10||Gr&&Gr<13||!1;function Js(e){const n=fs(Nl,{defaultMatches:!1});return e??(n||Ll)}const ea={hasNextStep:!1,hasSeveralSteps:!1,goToNextStep:()=>{},areViewsInSameStep:()=>!0};function Vl(e){const{steps:n,isViewMatchingStep:t,onStepChange:r}=e;return s=>{if(n==null)return ea;const o=n.findIndex(c=>t(s.view,c)),i=o===-1||o===n.length-1?null:n[o+1];return{hasNextStep:i!=null,hasSeveralSteps:n.length>1,goToNextStep:()=>{i!=null&&r(v({},s,{step:i}))},areViewsInSameStep:(c,l)=>{const d=n.find(x=>t(c,x)),u=n.find(x=>t(l,x));return d===u}}}}function ta({onChange:e,onViewChange:n,openTo:t,view:r,views:s,autoFocus:o,focusedView:i,onFocusedViewChange:c,getStepNavigation:l}){const d=f.useRef(t),u=f.useRef(s),x=f.useRef(s.includes(t)?t:s[0]),[y,m]=Ut({name:"useViews",state:"view",controlled:r,default:x.current}),h=f.useRef(o?y:null),[T,p]=Ut({name:"useViews",state:"focusedView",controlled:i,default:h.current}),g=l?l({setView:m,view:y,defaultView:x.current,views:s}):ea;f.useEffect(()=>{(d.current&&d.current!==t||u.current&&u.current.some(C=>!s.includes(C)))&&(m(s.includes(t)?t:s[0]),u.current=s,d.current=t)},[t,m,y,s]);const w=s.indexOf(y),M=s[w-1]??null,D=s[w+1]??null,j=H((C,R)=>{p(R?C:N=>C===N?null:N),c==null||c(C,R)}),I=H(C=>{j(C,!0),C!==y&&(m(C),n&&n(C))}),O=H(()=>{D&&I(D)}),b=H((C,R,N)=>{const S=R==="finish",z=N?s.indexOf(N)<s.length-1:!!D;e(C,S&&z?"partial":R,N);let E=null;if(N!=null&&N!==y?E=N:S&&(E=y),E==null)return;const F=s[s.indexOf(E)+1];F==null||!g.areViewsInSameStep(E,F)||I(F)});return v({},g,{view:y,setView:I,focusedView:T,setFocusedView:j,nextView:D,previousView:M,defaultView:s.includes(t)?t:s[0],goToNextView:O,setValueAndGoToNextView:b})}function Qr(){return typeof window>"u"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}function Bl(e,n){const[t,r]=f.useState(Qr);return gt(()=>{const s=()=>{r(Qr())};return window.addEventListener("orientationchange",s),()=>{window.removeEventListener("orientationchange",s)}},[]),Sl(e,["hours","minutes","seconds"])?"portrait":n??t}const un=({name:e,timezone:n,value:t,defaultValue:r,referenceDate:s,onChange:o,valueManager:i})=>{const c=Ce(),[l,d]=Ut({name:e,state:"value",controlled:t,default:r??i.emptyValue}),u=f.useMemo(()=>i.getTimezone(c,l),[c,i,l]),x=H(T=>u==null?T:i.setTimezone(c,u,T)),y=f.useMemo(()=>n||u||(s?c.getTimezone(s):"default"),[n,u,s,c]),m=f.useMemo(()=>i.setTimezone(c,y,l),[i,c,y,l]),h=H((T,...p)=>{const g=x(T);d(g),o==null||o(g,...p)});return{value:m,handleValueChange:h,timezone:y}};function $l(e){const{props:n,valueManager:t,validator:r}=e,{value:s,defaultValue:o,onChange:i,referenceDate:c,timezone:l,onAccept:d,closeOnSelect:u,open:x,onOpen:y,onClose:m}=n,{current:h}=f.useRef(o),{current:T}=f.useRef(s!==void 0),{current:p}=f.useRef(x!==void 0),g=Ce(),{timezone:w,value:M,handleValueChange:D}=un({name:"a picker component",timezone:l,value:s,defaultValue:h,referenceDate:c,onChange:i,valueManager:t}),[j,I]=f.useState(()=>({open:!1,lastExternalValue:M,clockShallowValue:void 0,lastCommittedValue:M,hasBeenModifiedSinceMount:!1})),{getValidationErrorForNewValue:O}=Ks({props:n,validator:r,timezone:w,value:M,onError:n.onError}),b=H(S=>{const z=typeof S=="function"?S(j.open):S;p||I(L=>v({},L,{open:z})),z&&y&&y(),z||m==null||m()}),C=H((S,z)=>{const{changeImportance:L="accept",skipPublicationIfPristine:E=!1,validationError:F,shortcut:V,shouldClose:ee=L==="accept"}=z??{};let _,te;!E&&!T&&!j.hasBeenModifiedSinceMount?(_=!0,te=L==="accept"):(_=!t.areValuesEqual(g,S,M),te=L==="accept"&&!t.areValuesEqual(g,S,j.lastCommittedValue)),I(Te=>v({},Te,{clockShallowValue:_?void 0:Te.clockShallowValue,lastCommittedValue:te?M:Te.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let W=null;const le=()=>(W||(W={validationError:F??O(S)},V&&(W.shortcut=V)),W);_&&D(S,le()),te&&d&&d(S,le()),ee&&b(!1)});M!==j.lastExternalValue&&I(S=>v({},S,{lastExternalValue:M,clockShallowValue:void 0,hasBeenModifiedSinceMount:!0}));const R=H((S,z="partial")=>{if(z==="shallow"){I(L=>v({},L,{clockShallowValue:S,hasBeenModifiedSinceMount:!0}));return}C(S,{changeImportance:z==="finish"&&u?"accept":"set"})});f.useEffect(()=>{if(p){if(x===void 0)throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");I(S=>v({},S,{open:x}))}},[p,x]);const N=f.useMemo(()=>t.cleanValue(g,j.clockShallowValue===void 0?M:j.clockShallowValue),[g,t,j.clockShallowValue,M]);return{timezone:w,state:j,setValue:C,setValueFromView:R,setOpen:b,value:M,viewValue:N}}const zl=["className","sx"],na=({ref:e,props:n,valueManager:t,valueType:r,variant:s,validator:o,onPopperExited:i,autoFocusView:c,rendererInterceptor:l,localeText:d,viewContainerRole:u,getStepNavigation:x})=>{const{views:y,view:m,openTo:h,onViewChange:T,viewRenderers:p,reduceAnimations:g,orientation:w,disableOpenPicker:M,closeOnSelect:D,disabled:j,readOnly:I,formatDensity:O,enableAccessibleFieldDOMStructure:b,selectedSections:C,onSelectedSectionsChange:R,format:N,label:S,autoFocus:z,name:L}=n,{className:E,sx:F}=n,V=re(n,zl),ee=Mn(),_=Ce(),te=It(),W=Js(g),le=Bl(y,w),{current:Te}=f.useRef(h??null),[ye,Se]=f.useState(null),ae=f.useRef(null),ge=f.useRef(null),Me=f.useRef(null),ce=nt(e,Me),{timezone:ne,state:B,setOpen:K,setValue:$,setValueFromView:se,value:de,viewValue:G}=$l({props:n,valueManager:t,validator:o}),{view:xe,setView:U,defaultView:oe,focusedView:Z,setFocusedView:ie,setValueAndGoToNextView:qe,goToNextStep:$e,hasNextStep:et,hasSeveralSteps:Ze}=ta({view:m,views:y,openTo:h,onChange:se,onViewChange:T,autoFocus:c,getStepNavigation:x}),ct=H(()=>$(t.emptyValue)),Ot=H(()=>$(t.getTodayValue(_,ne,r))),Rt=H(()=>$(de)),ue=H(()=>$(B.lastCommittedValue,{skipPublicationIfPristine:!0})),me=H(()=>{$(de,{skipPublicationIfPristine:!0})}),{hasUIView:we,viewModeLookup:ke,timeViewsCount:Qe}=f.useMemo(()=>y.reduce((Le,it)=>{const Pr=p[it]==null?"field":"UI";return Le.viewModeLookup[it]=Pr,Pr==="UI"&&(Le.hasUIView=!0,Ei(it)&&(Le.timeViewsCount+=1)),Le},{hasUIView:!1,viewModeLookup:{},timeViewsCount:0}),[p,y]),ze=ke[xe],rt=H(()=>ze),[_e,pe]=f.useState(ze==="UI"?xe:null);_e!==xe&&ke[xe]==="UI"&&pe(xe),gt(()=>{ze==="field"&&B.open&&(K(!1),setTimeout(()=>{var Le,it;(Le=ge==null?void 0:ge.current)==null||Le.setSelectedSections(xe),(it=ge==null?void 0:ge.current)==null||it.focusField(xe)}))},[xe]),gt(()=>{if(!B.open)return;let Le=xe;ze==="field"&&_e!=null&&(Le=_e),Le!==oe&&ke[Le]==="UI"&&ke[oe]==="UI"&&(Le=oe),Le!==xe&&U(Le),ie(Le,!0)},[B.open]);const He=f.useMemo(()=>({isPickerValueEmpty:t.areValuesEqual(_,de,t.emptyValue),isPickerOpen:B.open,isPickerDisabled:n.disabled??!1,isPickerReadOnly:n.readOnly??!1,pickerOrientation:le,pickerVariant:s}),[_,t,de,B.open,le,s,n.disabled,n.readOnly]),Je=f.useMemo(()=>M||!we?"hidden":j||I?"disabled":"enabled",[M,we,j,I]),ot=H($e),mn=f.useMemo(()=>D&&!Ze?[]:["cancel","nextOrAccept"],[D,Ze]),st=f.useMemo(()=>({setValue:$,setOpen:K,clearValue:ct,setValueToToday:Ot,acceptValueChanges:Rt,cancelValueChanges:ue,setView:U,goToNextStep:ot}),[$,K,ct,Ot,Rt,ue,U,ot]),Ga=f.useMemo(()=>v({},st,{value:de,timezone:ne,open:B.open,views:y,view:_e,initialView:Te,disabled:j??!1,readOnly:I??!1,autoFocus:z??!1,variant:s,orientation:le,popupRef:ae,reduceAnimations:W,triggerRef:Se,triggerStatus:Je,hasNextStep:et,fieldFormat:N??"",name:L,label:S,rootSx:F,rootRef:ce,rootClassName:E}),[st,de,ce,s,le,W,j,I,N,E,L,S,F,Je,et,ne,B.open,_e,y,Te,z]),Qa=f.useMemo(()=>({dismissViews:me,ownerState:He,hasUIView:we,getCurrentViewMode:rt,rootRefObject:Me,labelId:ee,triggerElement:ye,viewContainerRole:u,defaultActionBarActions:mn,onPopperExited:i}),[me,He,we,rt,ee,ye,u,mn,i]),Xa=f.useMemo(()=>({formatDensity:O,enableAccessibleFieldDOMStructure:b,selectedSections:C,onSelectedSectionsChange:R,fieldRef:ge}),[O,b,C,R,ge]);return{providerProps:{localeText:d,contextValue:Ga,privateContextValue:Qa,actionsContextValue:st,fieldPrivateContextValue:Xa,isValidContextValue:Le=>{const it=o({adapter:te,value:Le,timezone:ne,props:n});return!t.hasError(it)}},renderCurrentView:()=>{if(_e==null)return null;const Le=p[_e];if(Le==null)return null;const it=v({},V,{views:y,timezone:ne,value:G,onChange:qe,view:_e,onViewChange:U,showViewSwitcher:Qe>1,timeViewsCount:Qe},u==="tooltip"?{focusedView:null,onFocusedViewChange:()=>{}}:{focusedView:Z,onFocusedViewChange:ie});return l?a.jsx(l,{viewRenderers:p,popperView:_e,rendererProps:it}):Le(it)},ownerState:He}};function ra(e){return Be("MuiPickersLayout",e)}const Tt=Ve("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]),Wl=["actions"],_l=X(Mo,{name:"MuiPickersLayout",slot:"ActionBar"})({});function Hl(e){const{actions:n}=e,t=re(e,Wl),r=vt(),{clearValue:s,setValueToToday:o,acceptValueChanges:i,cancelValueChanges:c,goToNextStep:l,hasNextStep:d}=Gt();if(n==null||n.length===0)return null;const u=n==null?void 0:n.map(x=>{switch(x){case"clear":return a.jsx(We,{onClick:s,children:r.clearButtonLabel},x);case"cancel":return a.jsx(We,{onClick:c,children:r.cancelButtonLabel},x);case"accept":return a.jsx(We,{onClick:i,children:r.okButtonLabel},x);case"today":return a.jsx(We,{onClick:o,children:r.todayButtonLabel},x);case"next":return a.jsx(We,{onClick:l,children:r.nextStepButtonLabel},x);case"nextOrAccept":return d?a.jsx(We,{onClick:l,children:r.nextStepButtonLabel},x):a.jsx(We,{onClick:i,children:r.okButtonLabel},x);default:return null}});return a.jsx(_l,v({},t,{children:u}))}const Yl=f.memo(Hl),an=36,In=2,jn=320,Ul=280,mr=336,ql=["items","changeImportance"],Gl=["getValue"],Ql=X(Qn,{name:"MuiPickersLayout",slot:"Shortcuts"})({});function Xl(e){const{items:n,changeImportance:t="accept"}=e,r=re(e,ql),{setValue:s}=pl(),o=Ki();if(n==null||n.length===0)return null;const i=n.map(c=>{let{getValue:l}=c,d=re(c,Gl);const u=l({isValid:o});return v({},d,{label:d.label,onClick:()=>{s(u,{changeImportance:t,shortcut:d})},disabled:!o(u)})});return a.jsx(Ql,v({dense:!0,sx:[{maxHeight:mr,maxWidth:200,overflow:"auto"},...Array.isArray(r.sx)?r.sx:[r.sx]]},r,{children:i.map(c=>a.jsx(Gn,{children:a.jsx(Xe,v({},c))},c.id??c.label))}))}const Kl=["ownerState"];function Zl(e){return e.view!==null}const Jl=(e,n)=>{const{pickerOrientation:t}=n;return Oe({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]},ra,e)},ec=e=>{const{ownerState:n,defaultActionBarActions:t}=Ge(),{view:r}=Gt(),s=bt(),{children:o,slots:i,slotProps:c,classes:l}=e,d=f.useMemo(()=>v({},n,{layoutDirection:s?"rtl":"ltr"}),[n,s]),u=Jl(l,d),x=(i==null?void 0:i.actionBar)??Yl,y=ve({elementType:x,externalSlotProps:c==null?void 0:c.actionBar,additionalProps:{actions:t},className:u.actionBar,ownerState:d}),m=re(y,Kl),h=a.jsx(x,v({},m)),T=i==null?void 0:i.toolbar,p=ve({elementType:T,externalSlotProps:c==null?void 0:c.toolbar,className:u.toolbar,ownerState:d}),g=Zl(p)&&T?a.jsx(T,v({},p)):null,w=o,M=i==null?void 0:i.tabs,D=r&&M?a.jsx(M,v({className:u.tabs},c==null?void 0:c.tabs)):null,j=(i==null?void 0:i.shortcuts)??Xl,I=ve({elementType:j,externalSlotProps:c==null?void 0:c.shortcuts,className:u.shortcuts,ownerState:d}),O=r&&j?a.jsx(j,v({},I)):null;return{toolbar:g,content:w,tabs:D,actionBar:h,shortcuts:O,ownerState:d}},tc=(e,n)=>{const{pickerOrientation:t}=n;return Oe({root:["root",t==="landscape"&&"landscape"],contentWrapper:["contentWrapper"]},ra,e)},nc=X("div",{name:"MuiPickersLayout",slot:"Root"})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Tt.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{pickerOrientation:"landscape"},style:{[`& .${Tt.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${Tt.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{pickerOrientation:"landscape",layoutDirection:"rtl"},style:{[`& .${Tt.toolbar}`]:{gridColumn:3}}},{props:{pickerOrientation:"portrait"},style:{[`& .${Tt.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Tt.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{pickerOrientation:"portrait",layoutDirection:"rtl"},style:{[`& .${Tt.shortcuts}`]:{gridColumn:3}}}]}),rc=X("div",{name:"MuiPickersLayout",slot:"ContentWrapper"})({gridColumn:"2 / 4",gridRow:2,display:"flex",flexDirection:"column"}),sa=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersLayout"}),{toolbar:s,content:o,tabs:i,actionBar:c,shortcuts:l,ownerState:d}=ec(r),{orientation:u,variant:x}=Gt(),{sx:y,className:m,classes:h}=r,T=tc(h,d);return a.jsxs(nc,{ref:t,sx:y,className:Ye(T.root,m),ownerState:d,children:[u==="landscape"?l:s,u==="landscape"?s:l,a.jsx(rc,{className:T.contentWrapper,ownerState:d,children:x==="desktop"?a.jsxs(f.Fragment,{children:[o,i]}):a.jsxs(f.Fragment,{children:[i,o]})}),c]})});function fr(e){const{ownerState:n}=Ge(),t=bt();return f.useMemo(()=>v({},n,{isFieldDisabled:e.disabled??!1,isFieldReadOnly:e.readOnly??!1,isFieldRequired:e.required??!1,fieldDirection:t?"rtl":"ltr"}),[n,e.disabled,e.readOnly,e.required,t])}const sc=Ue(a.jsx("path",{d:"M7 10l5 5 5-5z"})),ac=Ue(a.jsx("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"})),oc=Ue(a.jsx("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"})),ic=Ue(a.jsx("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}));Ue(a.jsxs(f.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));Ue(a.jsx("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}));Ue(a.jsxs(f.Fragment,{children:[a.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),a.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}));const lc=Ue(a.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function cc(e){return Be("MuiPickersTextField",e)}Ve("MuiPickersTextField",["root","focused","disabled","error","required"]);function dc(e){return Be("MuiPickersInputBase",e)}const Wt=Ve("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input","activeBar"]);function uc(e){return Be("MuiPickersSectionList",e)}const Jt=Ve("MuiPickersSectionList",["root","section","sectionContent"]),hc=["slots","slotProps","elements","sectionListRef","classes"],aa=X("div",{name:"MuiPickersSectionList",slot:"Root"})({direction:"ltr /*! @noflip */",outline:"none"}),oa=X("span",{name:"MuiPickersSectionList",slot:"Section"})({}),ia=X("span",{name:"MuiPickersSectionList",slot:"SectionSeparator"})({whiteSpace:"pre"}),la=X("span",{name:"MuiPickersSectionList",slot:"SectionContent"})({outline:"none"}),mc=e=>Oe({root:["root"],section:["section"],sectionContent:["sectionContent"]},uc,e);function fc(e){const{slots:n,slotProps:t,element:r,classes:s}=e,{ownerState:o}=Ge(),i=(n==null?void 0:n.section)??oa,c=ve({elementType:i,externalSlotProps:t==null?void 0:t.section,externalForwardedProps:r.container,className:s.section,ownerState:o}),l=(n==null?void 0:n.sectionContent)??la,d=ve({elementType:l,externalSlotProps:t==null?void 0:t.sectionContent,externalForwardedProps:r.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:o}),u=(n==null?void 0:n.sectionSeparator)??ia,x=ve({elementType:u,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.before,ownerState:v({},o,{separatorPosition:"before"})}),y=ve({elementType:u,externalSlotProps:t==null?void 0:t.sectionSeparator,externalForwardedProps:r.after,ownerState:v({},o,{separatorPosition:"after"})});return a.jsxs(i,v({},c,{children:[a.jsx(u,v({},x)),a.jsx(l,v({},d)),a.jsx(u,v({},y))]}))}const pc=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersSectionList"}),{slots:s,slotProps:o,elements:i,sectionListRef:c,classes:l}=r,d=re(r,hc),u=mc(l),{ownerState:x}=Ge(),y=f.useRef(null),m=nt(t,y),h=g=>{if(!y.current)throw new Error(`MUI X: Cannot call sectionListRef.${g} before the mount of the component.`);return y.current};f.useImperativeHandle(c,()=>({getRoot(){return h("getRoot")},getSectionContainer(g){return h("getSectionContainer").querySelector(`.${Jt.section}[data-sectionindex="${g}"]`)},getSectionContent(g){return h("getSectionContent").querySelector(`.${Jt.section}[data-sectionindex="${g}"] .${Jt.sectionContent}`)},getSectionIndexFromDOMElement(g){const w=h("getSectionIndexFromDOMElement");if(g==null||!w.contains(g))return null;let M=null;return g.classList.contains(Jt.section)?M=g:g.classList.contains(Jt.sectionContent)&&(M=g.parentElement),M==null?null:Number(M.dataset.sectionindex)}}));const T=(s==null?void 0:s.root)??aa,p=ve({elementType:T,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:d,additionalProps:{ref:m,suppressContentEditableWarning:!0},className:u.root,ownerState:x});return a.jsx(T,v({},p,{children:p.contentEditable?i.map(({content:g,before:w,after:M})=>`${w.children}${g.children}${M.children}`).join(""):a.jsx(f.Fragment,{children:i.map((g,w)=>a.jsx(fc,{slots:s,slotProps:o,element:g,classes:u},w))})}))}),ca=f.createContext(null),On=()=>{const e=f.useContext(ca);if(e==null)throw new Error(["MUI X: The `usePickerTextFieldOwnerState` can only be called in components that are used inside a PickerTextField component"].join(`
`));return e},gc=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef","onFocus","onBlur","classes","ownerState"],xc=e=>Math.round(e*1e5)/1e5,Rn=X("div",{name:"MuiPickersInputBase",slot:"Root"})(({theme:e})=>v({},e.typography.body1,{color:(e.vars||e).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${xc(.15/16)}em`,variants:[{props:{isInputInFullWidth:!0},style:{width:"100%"}}]})),pr=X(aa,{name:"MuiPickersInputBase",slot:"SectionsContainer"})(({theme:e})=>({padding:"4px 0 5px",fontFamily:e.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{fieldDirection:"rtl"},style:{textAlign:"right /*! @noflip */"}},{props:{inputSize:"small"},style:{paddingTop:1}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0},style:{color:"currentColor",opacity:0}},{props:{hasStartAdornment:!1,isFieldFocused:!1,isFieldValueEmpty:!0,inputHasLabel:!1},style:e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:e.palette.mode==="light"?.42:.5}}]})),yc=X(oa,{name:"MuiPickersInputBase",slot:"Section"})(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"inline-block",whiteSpace:"nowrap"})),bc=X(la,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(e,n)=>n.content})(({theme:e})=>({fontFamily:e.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),wc=X(ia,{name:"MuiPickersInputBase",slot:"Separator"})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),vc=X("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(e,n)=>n.hiddenInput})(v({},go)),Tc=X("div",{name:"MuiPickersInputBase",slot:"ActiveBar"})(({theme:e,ownerState:n})=>({display:"none",position:"absolute",height:2,bottom:2,borderTopLeftRadius:2,borderTopRightRadius:2,transition:e.transitions.create(["width","left"],{duration:e.transitions.duration.shortest}),backgroundColor:(e.vars||e).palette.primary.main,'[data-active-range-position="start"] &, [data-active-range-position="end"] &':{display:"block"},'[data-active-range-position="start"] &':{left:n.sectionOffsets[0]},'[data-active-range-position="end"] &':{left:n.sectionOffsets[1]}})),Dc=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldReadOnly:s,hasFieldError:o,inputSize:i,isInputInFullWidth:c,inputColor:l,hasStartAdornment:d,hasEndAdornment:u}=n,x={root:["root",t&&!r&&"focused",r&&"disabled",s&&"readOnly",o&&"error",c&&"fullWidth",`color${bn(l)}`,i==="small"&&"inputSizeSmall",d&&"adornedStart",u&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"],activeBar:["activeBar"]};return Oe(x,dc,e)};function Xr(e,n,t,r){var s;if(e.content.id){const o=(s=n.current)==null?void 0:s.querySelectorAll(`[data-sectionindex="${t}"] [data-range-position="${r}"]`);if(o)return Array.from(o).reduce((i,c)=>i+c.offsetWidth,0)}return 0}function Pc(e,n){var s,o,i,c,l;let t=0;if(((s=n.current)==null?void 0:s.getAttribute("data-active-range-position"))==="end")for(let d=e.length-1;d>=e.length/2;d-=1)t+=Xr(e[d],n,d,"end");else for(let d=0;d<e.length/2;d+=1)t+=Xr(e[d],n,d,"start");return{activeBarWidth:t,sectionOffsets:[((i=(o=n.current)==null?void 0:o.querySelector('[data-sectionindex="0"]'))==null?void 0:i.offsetLeft)||0,((l=(c=n.current)==null?void 0:c.querySelector(`[data-sectionindex="${e.length/2}"]`))==null?void 0:l.offsetLeft)||0]}}const gr=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:o,value:i,onChange:c,id:l,endAdornment:d,startAdornment:u,renderSuffix:x,slots:y,slotProps:m,contentEditable:h,tabIndex:T,onInput:p,onPaste:g,onKeyDown:w,name:M,readOnly:D,inputProps:j,inputRef:I,sectionListRef:O,onFocus:b,onBlur:C,classes:R,ownerState:N}=r,S=re(r,gc),z=On(),L=f.useRef(null),E=f.useRef(null),F=f.useRef([]),V=nt(t,L),ee=nt(j==null?void 0:j.ref,I),_=ws();if(!_)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const te=N??z,W=ne=>{var B;(B=_.onFocus)==null||B.call(_,ne),b==null||b(ne)},le=ne=>{W(ne)},Te=ne=>{var B,K;if(w==null||w(ne),ne.key==="Enter"&&!ne.defaultMuiPrevented){if((B=L.current)!=null&&B.dataset.multiInput)return;const $=(K=L.current)==null?void 0:K.closest("form"),se=$==null?void 0:$.querySelector('[type="submit"]');if(!$||!se)return;ne.preventDefault(),$.requestSubmit(se)}},ye=ne=>{var B;(B=_.onBlur)==null||B.call(_,ne),C==null||C(ne)};f.useEffect(()=>{_&&_.setAdornedStart(!!u)},[_,u]),f.useEffect(()=>{_&&(o?_.onEmpty():_.onFilled())},[_,o]);const Se=Dc(R,te),ae=(y==null?void 0:y.root)||Rn,ge=ve({elementType:ae,externalSlotProps:m==null?void 0:m.root,externalForwardedProps:S,additionalProps:{"aria-invalid":_.error,ref:V},className:Se.root,ownerState:te}),Me=(y==null?void 0:y.input)||pr,ce=s.some(ne=>ne.content["data-range-position"]!==void 0);return f.useEffect(()=>{if(!ce||!te.isPickerOpen)return;const{activeBarWidth:ne,sectionOffsets:B}=Pc(s,L);F.current=[B[0],B[1]],E.current&&(E.current.style.width=`${ne}px`)},[s,ce,te.isPickerOpen]),a.jsxs(ae,v({},ge,{children:[u,a.jsx(pc,{sectionListRef:O,elements:s,contentEditable:h,tabIndex:T,className:Se.sectionsContainer,onFocus:W,onBlur:ye,onInput:p,onPaste:g,onKeyDown:Te,slots:{root:Me,section:yc,sectionContent:bc,sectionSeparator:wc},slotProps:{root:v({},m==null?void 0:m.input,{ownerState:te}),sectionContent:{className:Wt.sectionContent},sectionSeparator:({separatorPosition:ne})=>({className:ne==="before"?Wt.sectionBefore:Wt.sectionAfter})}}),d,x?x(v({},_)):null,a.jsx(vc,v({name:M,className:Se.input,value:i,onChange:c,id:l,"aria-hidden":"true",tabIndex:-1,readOnly:D,required:_.required,disabled:_.disabled,onFocus:le},j,{ref:ee})),ce&&a.jsx(Tc,{className:Se.activeBar,ref:E,ownerState:{sectionOffsets:F.current}})]}))});function Sc(e){return Be("MuiPickersOutlinedInput",e)}const lt=v({},Wt,Ve("MuiPickersOutlinedInput",["root","notchedOutline","input"])),Mc=["children","className","label","notched","shrink"],Cc=X("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}}),Kr=X("span")(({theme:e})=>({fontFamily:e.typography.fontFamily,fontSize:"inherit"})),kc=X("legend",{shouldForwardProp:e=>kt(e)&&e!=="notched"})(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{inputHasLabel:!1},style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:{inputHasLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{inputHasLabel:!0,notched:!0},style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]}));function Ic(e){const{className:n,label:t,notched:r}=e,s=re(e,Mc),o=On();return a.jsx(Cc,v({"aria-hidden":!0,className:n},s,{ownerState:o,children:a.jsx(kc,{ownerState:o,notched:r,children:t?a.jsx(Kr,{children:t}):a.jsx(Kr,{className:"notranslate",children:"â€‹"})})}))}const jc=["label","autoFocus","ownerState","classes","notched"],Oc=X(Rn,{name:"MuiPickersOutlinedInput",slot:"Root"})(({theme:e})=>{const n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${lt.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${lt.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${lt.focused} .${lt.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${lt.disabled}`]:{[`& .${lt.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled},"*":{color:(e.vars||e).palette.action.disabled}},[`&.${lt.error} .${lt.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},variants:Object.keys((e.vars??e).palette).filter(t=>{var r;return((r=(e.vars??e).palette[t])==null?void 0:r.main)??!1}).map(t=>({props:{inputColor:t},style:{[`&.${lt.focused}:not(.${lt.error}) .${lt.notchedOutline}`]:{borderColor:(e.vars||e).palette[t].main}}}))}}),Rc=X(pr,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer"})({padding:"16.5px 0",variants:[{props:{inputSize:"small"},style:{padding:"8.5px 0"}}]}),Ec=e=>{const t=Oe({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Sc,e);return v({},e,t)},da=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersOutlinedInput"}),{label:s,classes:o,notched:i}=r,c=re(r,jc),l=ws(),d=Ec(o);return a.jsx(gr,v({slots:{root:Oc,input:Rc},renderSuffix:u=>a.jsx(Ic,{shrink:!!(i||u.adornedStart||u.focused||u.filled),notched:!!(i||u.adornedStart||u.focused||u.filled),className:d.notchedOutline,label:s!=null&&s!==""&&(l!=null&&l.required)?a.jsxs(f.Fragment,{children:[s,"â€‰","*"]}):s})},c,{label:s,classes:d,ref:t}))});da.muiName="Input";function Ac(e){return Be("MuiPickersFilledInput",e)}const Dt=v({},Wt,Ve("MuiPickersFilledInput",["root","underline","input"])),Fc=["label","autoFocus","disableUnderline","hiddenLabel","classes"],Nc=X(Rn,{name:"MuiPickersFilledInput",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="disableUnderline"})(({theme:e})=>{const n=e.palette.mode==="light",t=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${Dt.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${Dt.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys((e.vars??e).palette).filter(i=>(e.vars??e).palette[i].main).map(i=>{var c;return{props:{inputColor:i,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(e.vars||e).palette[i])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dt.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dt.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dt.disabled}, .${Dt.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Dt.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:{hasStartAdornment:!0},style:{paddingLeft:12}},{props:{hasEndAdornment:!0},style:{paddingRight:12}}]}}),Lc=X(pr,{name:"MuiPickersFilledInput",slot:"sectionsContainer",shouldForwardProp:e=>kt(e)&&e!=="hiddenLabel"})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{inputSize:"small"},style:{paddingTop:21,paddingBottom:4}},{props:{hasStartAdornment:!0},style:{paddingLeft:0}},{props:{hasEndAdornment:!0},style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,inputSize:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Vc=(e,n)=>{const{inputHasUnderline:t}=n,s=Oe({root:["root",t&&"underline"],input:["input"]},Ac,e);return v({},e,s)},ua=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersFilledInput"}),{label:s,disableUnderline:o=!1,hiddenLabel:i=!1,classes:c}=r,l=re(r,Fc),d=On(),u=v({},d,{inputHasUnderline:!o}),x=Vc(c,u);return a.jsx(gr,v({slots:{root:Nc,input:Lc},slotProps:{root:{disableUnderline:o},input:{hiddenLabel:i}}},l,{label:s,classes:x,ref:t,ownerState:u}))});ua.muiName="Input";function Bc(e){return Be("MuiPickersFilledInput",e)}const en=v({},Wt,Ve("MuiPickersInput",["root","underline","input"])),$c=["label","autoFocus","disableUnderline","ownerState","classes"],zc=X(Rn,{name:"MuiPickersInput",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="disableUnderline"})(({theme:e})=>{let t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(t=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys((e.vars??e).palette).filter(r=>(e.vars??e).palette[r].main).map(r=>({props:{inputColor:r},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${en.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${en.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${t}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${en.disabled}, .${en.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${t}`}},[`&.${en.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Wc=(e,n)=>{const{inputHasUnderline:t}=n,s=Oe({root:["root",!t&&"underline"],input:["input"]},Bc,e);return v({},e,s)},ha=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersInput"}),{label:s,disableUnderline:o=!1,classes:i}=r,c=re(r,$c),l=On(),d=v({},l,{inputHasUnderline:!o}),u=Wc(i,d);return a.jsx(gr,v({slots:{root:zc},slotProps:{root:{disableUnderline:o}}},c,{label:s,classes:u,ref:t}))});ha.muiName="Input";const _c=["onFocus","onBlur","className","classes","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps","data-active-range-position"],Hc={standard:ha,filled:ua,outlined:da},Yc=X(gs,{name:"MuiPickersTextField",slot:"Root"})({}),Uc=(e,n)=>{const{isFieldFocused:t,isFieldDisabled:r,isFieldRequired:s}=n;return Oe({root:["root",t&&!r&&"focused",r&&"disabled",s&&"required"]},cc,e)},ma=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersTextField"}),{onFocus:s,onBlur:o,className:i,classes:c,color:l="primary",disabled:d=!1,error:u=!1,variant:x="outlined",required:y=!1,InputProps:m,inputProps:h,inputRef:T,sectionListRef:p,elements:g,areAllSectionsEmpty:w,onClick:M,onKeyDown:D,onKeyUp:j,onPaste:I,onInput:O,endAdornment:b,startAdornment:C,tabIndex:R,contentEditable:N,focused:S,value:z,onChange:L,fullWidth:E,id:F,name:V,helperText:ee,FormHelperTextProps:_,label:te,InputLabelProps:W,"data-active-range-position":le}=r,Te=re(r,_c),ye=f.useRef(null),Se=nt(t,ye),ae=Mn(F),ge=ee&&ae?`${ae}-helper-text`:void 0,Me=te&&ae?`${ae}-label`:void 0,ce=fr({disabled:r.disabled,required:r.required,readOnly:m==null?void 0:m.readOnly}),ne=f.useMemo(()=>v({},ce,{isFieldValueEmpty:w,isFieldFocused:S??!1,hasFieldError:u??!1,inputSize:r.size??"medium",inputColor:l??"primary",isInputInFullWidth:E??!1,hasStartAdornment:!!(C??(m==null?void 0:m.startAdornment)),hasEndAdornment:!!(b??(m==null?void 0:m.endAdornment)),inputHasLabel:!!te}),[ce,w,S,u,r.size,l,E,C,b,m==null?void 0:m.startAdornment,m==null?void 0:m.endAdornment,te]),B=Uc(c,ne),K=Hc[x];return a.jsx(ca.Provider,{value:ne,children:a.jsxs(Yc,v({className:Ye(B.root,i),ref:Se,focused:S,disabled:d,variant:x,error:u,color:l,fullWidth:E,required:y,ownerState:ne},Te,{children:[te!=null&&te!==""&&a.jsx(xs,v({htmlFor:ae,id:Me},W,{children:te})),a.jsx(K,v({elements:g,areAllSectionsEmpty:w,onClick:M,onKeyDown:D,onKeyUp:j,onInput:O,onPaste:I,onFocus:s,onBlur:o,endAdornment:b,startAdornment:C,tabIndex:R,contentEditable:N,value:z,onChange:L,id:ae,fullWidth:E,inputProps:h,inputRef:T,sectionListRef:p,label:te,name:V,role:"group","aria-labelledby":Me,"aria-describedby":ge,"aria-live":ge?"polite":void 0,"data-active-range-position":le},m)),ee&&a.jsx(Co,v({id:ge},_,{children:ee}))]}))})}),qc=["enableAccessibleFieldDOMStructure"],Gc=["InputProps","readOnly","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Qc=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef","onClear","clearable","clearButtonPosition","openPickerButtonPosition","openPickerAriaLabel"],Xc=["ownerState"],Kc=["ownerState"],Zc=["ownerState"],Jc=["ownerState"],ed=["InputProps","inputProps"],td=e=>{let{enableAccessibleFieldDOMStructure:n}=e,t=re(e,qc);if(n){const{InputProps:p,readOnly:g,onClear:w,clearable:M,clearButtonPosition:D,openPickerButtonPosition:j,openPickerAriaLabel:I}=t,O=re(t,Gc);return{clearable:M,onClear:w,clearButtonPosition:D,openPickerButtonPosition:j,openPickerAriaLabel:I,textFieldProps:v({},O,{InputProps:v({},p??{},{readOnly:g})})}}const{onPaste:r,onKeyDown:s,inputMode:o,readOnly:i,InputProps:c,inputProps:l,inputRef:d,onClear:u,clearable:x,clearButtonPosition:y,openPickerButtonPosition:m,openPickerAriaLabel:h}=t,T=re(t,Qc);return{clearable:x,onClear:u,clearButtonPosition:y,openPickerButtonPosition:m,openPickerAriaLabel:h,textFieldProps:v({},T,{InputProps:v({},c??{},{readOnly:i}),inputProps:v({},l??{},{inputMode:o,onPaste:r,onKeyDown:s,ref:d})})}},xr=f.createContext({slots:{},slotProps:{},inputRef:void 0});function nd(e){var _,te;const{slots:n,slotProps:t,fieldResponse:r,defaultOpenPickerIcon:s}=e,o=vt(),i=hr(),c=f.useContext(xr),{textFieldProps:l,onClear:d,clearable:u,openPickerAriaLabel:x,clearButtonPosition:y="end",openPickerButtonPosition:m="end"}=td(r),h=fr(l),T=H(W=>{W.preventDefault(),i==null||i.setOpen(le=>!le)}),p=i?i.triggerStatus:"hidden",g=u?y:null,w=p!=="hidden"?m:null,M=(n==null?void 0:n.textField)??c.slots.textField??(r.enableAccessibleFieldDOMStructure===!1?ys:ma),D=(n==null?void 0:n.inputAdornment)??c.slots.inputAdornment??bs,j=ve({elementType:D,externalSlotProps:yn(c.slotProps.inputAdornment,t==null?void 0:t.inputAdornment),additionalProps:{position:"start"},ownerState:v({},h,{position:"start"})}),I=re(j,Xc),O=ve({elementType:D,externalSlotProps:t==null?void 0:t.inputAdornment,additionalProps:{position:"end"},ownerState:v({},h,{position:"end"})}),b=re(O,Kc),C=c.slots.openPickerButton??Mt,R=ve({elementType:C,externalSlotProps:c.slotProps.openPickerButton,additionalProps:{disabled:p==="disabled",onClick:T,"aria-label":x,edge:l.variant!=="standard"?w:!1},ownerState:h}),N=re(R,Zc),S=c.slots.openPickerIcon??s,z=ve({elementType:S,externalSlotProps:c.slotProps.openPickerIcon,ownerState:h}),L=(n==null?void 0:n.clearButton)??c.slots.clearButton??Mt,E=ve({elementType:L,externalSlotProps:yn(c.slotProps.clearButton,t==null?void 0:t.clearButton),className:"clearButton",additionalProps:{title:o.fieldClearLabel,tabIndex:-1,onClick:d,disabled:r.disabled||r.readOnly,edge:l.variant!=="standard"&&g!==w?g:!1},ownerState:h}),F=re(E,Jc),V=(n==null?void 0:n.clearIcon)??c.slots.clearIcon??lc,ee=ve({elementType:V,externalSlotProps:yn(c.slotProps.clearIcon,t==null?void 0:t.clearIcon),additionalProps:{fontSize:"small"},ownerState:h});return l.ref=nt(l.ref,i==null?void 0:i.rootRef),l.InputProps||(l.InputProps={}),i&&(l.InputProps.ref=i.triggerRef),!((_=l.InputProps)!=null&&_.startAdornment)&&(g==="start"||w==="start")&&(l.InputProps.startAdornment=a.jsxs(D,v({},I,{children:[w==="start"&&a.jsx(C,v({},N,{children:a.jsx(S,v({},z))})),g==="start"&&a.jsx(L,v({},F,{children:a.jsx(V,v({},ee))}))]}))),!((te=l.InputProps)!=null&&te.endAdornment)&&(g==="end"||w==="end")&&(l.InputProps.endAdornment=a.jsxs(D,v({},b,{children:[g==="end"&&a.jsx(L,v({},F,{children:a.jsx(V,v({},ee))})),w==="end"&&a.jsx(C,v({},N,{children:a.jsx(S,v({},z))}))]}))),g!=null&&(l.sx=[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(l.sx)?l.sx:[l.sx]]),a.jsx(M,v({},l))}function yn(e,n){return e?n?t=>v({},wn(n,t),wn(e,t)):e:n}function rd(e){const{ref:n,externalForwardedProps:t,slotProps:r}=e,s=f.useContext(xr),o=hr(),i=fr(t),{InputProps:c,inputProps:l}=t,d=re(t,ed),u=ve({elementType:ma,externalSlotProps:yn(s.slotProps.textField,r==null?void 0:r.textField),externalForwardedProps:d,additionalProps:{ref:n,sx:o==null?void 0:o.rootSx,label:o==null?void 0:o.label,name:o==null?void 0:o.name,className:o==null?void 0:o.rootClassName,inputRef:s.inputRef},ownerState:i});return u.inputProps=v({},l,u.inputProps),u.InputProps=v({},c,u.InputProps),u}function fa(e){const{slots:n={},slotProps:t={},inputRef:r,children:s}=e,o=f.useMemo(()=>({inputRef:r,slots:{openPickerButton:n.openPickerButton,openPickerIcon:n.openPickerIcon,textField:n.textField,inputAdornment:n.inputAdornment,clearIcon:n.clearIcon,clearButton:n.clearButton},slotProps:{openPickerButton:t.openPickerButton,openPickerIcon:t.openPickerIcon,textField:t.textField,inputAdornment:t.inputAdornment,clearIcon:t.clearIcon,clearButton:t.clearButton}}),[r,n.openPickerButton,n.openPickerIcon,n.textField,n.inputAdornment,n.clearIcon,n.clearButton,t.openPickerButton,t.openPickerIcon,t.textField,t.inputAdornment,t.clearIcon,t.clearButton]);return a.jsx(xr.Provider,{value:o,children:s})}function pa(e){const{steps:n}=e;return Vl({steps:n,isViewMatchingStep:(t,r)=>r.views==null||r.views.includes(t),onStepChange:({step:t,defaultView:r,setView:s,view:o,views:i})=>{const c=t.views==null?r:t.views.find(l=>i.includes(l));c!==o&&s(c)}})}const sd=["props","steps"],ad=["ownerState"],od=e=>{var I;let{props:n,steps:t}=e,r=re(e,sd);const{slots:s,slotProps:o,label:i,inputRef:c,localeText:l}=n,d=pa({steps:t}),{providerProps:u,renderCurrentView:x,ownerState:y}=na(v({},r,{props:n,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"desktop",getStepNavigation:d})),m=u.privateContextValue.labelId,h=((I=o==null?void 0:o.toolbar)==null?void 0:I.hidden)??!1,T=s.field,p=ve({elementType:T,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},h&&{id:m}),ownerState:y}),g=re(p,ad),w=s.layout??sa;let M=m;h&&(i?M=`${m}-label`:M=void 0);const D=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:m}),popper:v({"aria-labelledby":M},o==null?void 0:o.popper)});return{renderPicker:()=>a.jsx(Ys,v({},u,{children:a.jsxs(fa,{slots:s,slotProps:D,inputRef:c,children:[a.jsx(T,v({},g)),a.jsx(Fl,{slots:s,slotProps:D,children:a.jsx(w,v({},D==null?void 0:D.layout,{slots:s,slotProps:D,children:x()}))})]})}))}},Nt=e=>e.saveQuery!=null,ga=({stateResponse:{localizedDigits:e,sectionsValueBoundaries:n,state:t,timezone:r,setCharacterQuery:s,setTempAndroidValueStr:o,updateSectionValue:i}})=>{const c=Ce(),l=({keyPressed:x,sectionIndex:y},m,h)=>{const T=x.toLowerCase(),p=t.sections[y];if(t.characterQuery!=null&&(!h||h(t.characterQuery.value))&&t.characterQuery.sectionIndex===y){const w=`${t.characterQuery.value}${T}`,M=m(w,p);if(!Nt(M))return s({sectionIndex:y,value:w,sectionType:p.type}),M}const g=m(T,p);return Nt(g)&&!g.saveQuery?(s(null),null):(s({sectionIndex:y,value:T,sectionType:p.type}),Nt(g)?null:g)},d=x=>{const y=(T,p,g)=>{const w=p.filter(M=>M.toLowerCase().startsWith(g));return w.length===0?{saveQuery:!1}:{sectionValue:w[0],shouldGoToNextSection:w.length===1}},m=(T,p,g,w)=>{const M=D=>Ns(c,r,p.type,D);if(p.contentType==="letter")return y(p.format,M(p.format),T);if(g&&w!=null&&Fs(c,g).contentType==="letter"){const D=M(g),j=y(g,D,T);return Nt(j)?{saveQuery:!1}:v({},j,{sectionValue:w(j.sectionValue,D)})}return{saveQuery:!1}};return l(x,(T,p)=>{switch(p.type){case"month":{const g=w=>_r(c,w,c.formats.month,p.format);return m(T,p,c.formats.month,g)}case"weekDay":{const g=(w,M)=>M.indexOf(w).toString();return m(T,p,c.formats.weekday,g)}case"meridiem":return m(T,p);default:return{saveQuery:!1}}})},u=x=>{const y=(h,T)=>{const p=Ct(h,e),g=Number(p),w=n[T.type]({currentDate:null,format:T.format,contentType:T.contentType});if(g>w.maximum)return{saveQuery:!1};if(g<w.minimum)return{saveQuery:!0};const M=g*10>w.maximum||p.length===w.maximum.toString().length;return{sectionValue:Ls(c,g,w,e,T),shouldGoToNextSection:M}};return l(x,(h,T)=>{if(T.contentType==="digit"||T.contentType==="digit-with-letter")return y(h,T);if(T.type==="month"){Vs(c,"digit","month","MM");const p=y(h,{type:T.type,format:"MM",hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Nt(p))return p;const g=_r(c,p.sectionValue,"MM",T.format);return v({},p,{sectionValue:g})}if(T.type==="weekDay"){const p=y(h,T);if(Nt(p))return p;const g=Cn(c,T.format)[Number(p.sectionValue)-1];return v({},p,{sectionValue:g})}return{saveQuery:!1}},h=>Wr(h,e))};return H(x=>{const y=t.sections[x.sectionIndex],h=Wr(x.keyPressed,e)?u(v({},x,{keyPressed:lr(x.keyPressed,e)})):d(x);if(h==null){o(null);return}i({section:y,newSectionValue:h.sectionValue,shouldGoToNextSection:h.shouldGoToNextSection})})},id=5e3,xa=e=>{var xe;const n=Ce(),t=vt(),r=It(),s=bt(),{manager:{validator:o,valueType:i,internal_valueManager:c,internal_fieldValueManager:l},internalPropsWithDefaults:d,internalPropsWithDefaults:{value:u,defaultValue:x,referenceDate:y,onChange:m,format:h,formatDensity:T="dense",selectedSections:p,onSelectedSectionsChange:g,shouldRespectLeadingZeros:w=!1,timezone:M,enableAccessibleFieldDOMStructure:D=!0},forwardedProps:{error:j}}=e,{value:I,handleValueChange:O,timezone:b}=un({name:"a field component",timezone:M,value:u,defaultValue:x,referenceDate:y,onChange:m,valueManager:c}),C=f.useRef(I);f.useEffect(()=>{C.current=I},[I]);const{hasValidationError:R}=Ks({props:d,validator:o,timezone:b,value:I,onError:d.onError}),N=f.useMemo(()=>j!==void 0?j:R,[R,j]),S=f.useMemo(()=>Vi(n),[n]),z=f.useMemo(()=>_i(n,S,b),[n,S,b]),L=f.useCallback(U=>l.getSectionsFromValue(U,oe=>Ur({utils:n,localeText:t,localizedDigits:S,format:h,date:oe,formatDensity:T,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:D,isRtl:s})),[l,h,t,S,s,w,n,T,D]),[E,F]=f.useState(()=>{const U=L(I),oe={sections:U,lastExternalValue:I,lastSectionsDependencies:{format:h,isRtl:s,locale:n.locale},tempValueStrAndroid:null,characterQuery:null},Z=Fi(U),ie=c.getInitialReferenceValue({referenceDate:y,value:I,utils:n,props:d,granularity:Z,timezone:b});return v({},oe,{referenceValue:ie})}),[V,ee]=Ut({controlled:p,default:null,name:"useField",state:"selectedSections"}),_=U=>{ee(U),g==null||g(U)},te=f.useMemo(()=>Xn(V,E.sections),[V,E.sections]),W=te==="all"?0:te,le=f.useMemo(()=>Ui(E.sections,s&&!D),[E.sections,s,D]),Te=f.useMemo(()=>E.sections.every(U=>U.value===""),[E.sections]),ye=U=>{const oe={validationError:o({adapter:r,value:U,timezone:b,props:d})};O(U,oe)},Se=(U,oe)=>{const Z=[...E.sections];return Z[U]=v({},Z[U],{value:oe,modified:!0}),Z},ae=f.useRef(null),ge=$t(),Me=U=>{W!=null&&(ae.current={sectionIndex:W,value:U},ge.start(0,()=>{ae.current=null}))},ce=()=>{c.areValuesEqual(n,I,c.emptyValue)?F(U=>v({},U,{sections:U.sections.map(oe=>v({},oe,{value:""})),tempValueStrAndroid:null,characterQuery:null})):(F(U=>v({},U,{characterQuery:null})),ye(c.emptyValue))},ne=()=>{if(W==null)return;const U=E.sections[W];U.value!==""&&(Me(""),l.getDateFromSection(I,U)===null?F(oe=>v({},oe,{sections:Se(W,""),tempValueStrAndroid:null,characterQuery:null})):(F(oe=>v({},oe,{characterQuery:null})),ye(l.updateDateInValue(I,U,null))))},B=U=>{const oe=(ie,qe)=>{const $e=n.parse(ie,h);if(!n.isValid($e))return null;const et=Ur({utils:n,localeText:t,localizedDigits:S,format:h,date:$e,formatDensity:T,shouldRespectLeadingZeros:w,enableAccessibleFieldDOMStructure:D,isRtl:s});return Yr(n,$e,et,qe,!1)},Z=l.parseValueStr(U,E.referenceValue,oe);ye(Z)},K=$t(),$=({section:U,newSectionValue:oe,shouldGoToNextSection:Z})=>{ge.clear(),K.clear();const ie=l.getDateFromSection(I,U);Z&&W<E.sections.length-1&&_(W+1);const qe=Se(W,oe),$e=l.getDateSectionsFromValue(qe,U),et=$i(n,$e,S);if(n.isValid(et)){const Ze=Yr(n,et,$e,l.getDateFromSection(E.referenceValue,U),!0);return ie==null&&K.start(0,()=>{C.current===I&&F(ct=>v({},ct,{sections:l.clearDateSections(E.sections,U),tempValueStrAndroid:null}))}),ye(l.updateDateInValue(I,U,Ze))}return $e.every(Ze=>Ze.value!=="")?(Me(oe),ye(l.updateDateInValue(I,U,et))):ie!=null?(Me(oe),ye(l.updateDateInValue(I,U,null))):F(Ze=>v({},Ze,{sections:qe,tempValueStrAndroid:null}))},se=U=>F(oe=>v({},oe,{tempValueStrAndroid:U})),de=H(U=>{F(oe=>v({},oe,{characterQuery:U}))});if(I!==E.lastExternalValue){let U;ae.current!=null&&!n.isValid(l.getDateFromSection(I,E.sections[ae.current.sectionIndex]))?U=Se(ae.current.sectionIndex,ae.current.value):U=L(I),F(oe=>v({},oe,{lastExternalValue:I,sections:U,sectionsDependencies:{format:h,isRtl:s,locale:n.locale},referenceValue:l.updateReferenceValue(n,I,oe.referenceValue),tempValueStrAndroid:null}))}if(s!==E.lastSectionsDependencies.isRtl||h!==E.lastSectionsDependencies.format||n.locale!==E.lastSectionsDependencies.locale){const U=L(I);F(oe=>v({},oe,{lastSectionsDependencies:{format:h,isRtl:s,locale:n.locale},sections:U,tempValueStrAndroid:null,characterQuery:null}))}E.characterQuery!=null&&!N&&W==null&&de(null),E.characterQuery!=null&&((xe=E.sections[E.characterQuery.sectionIndex])==null?void 0:xe.type)!==E.characterQuery.sectionType&&de(null),f.useEffect(()=>{ae.current!=null&&(ae.current=null)});const G=$t();return f.useEffect(()=>(E.characterQuery!=null&&G.start(id,()=>de(null)),()=>{}),[E.characterQuery,de,G]),f.useEffect(()=>{E.tempValueStrAndroid!=null&&W!=null&&ne()},[E.sections]),{activeSectionIndex:W,areAllSectionsEmpty:Te,error:N,localizedDigits:S,parsedSelectedSections:te,sectionOrder:le,sectionsValueBoundaries:z,state:E,timezone:b,value:I,clearValue:ce,clearActiveSection:ne,setCharacterQuery:de,setSelectedSections:_,setTempAndroidValueStr:se,updateSectionValue:$,updateValueFromValueStr:B,getSectionsFromValue:L}};function ya(e){const{manager:{internal_useApplyDefaultValuesToFieldInternalProps:n},internalProps:t,skipContextFieldRefAssignment:r}=e,s=hr(),o=Ws(),i=nt(t.unstableFieldRef,r?null:o==null?void 0:o.fieldRef),c=s==null?void 0:s.setValue,l=f.useCallback((u,x)=>c==null?void 0:c(u,{validationError:x.validationError,shouldClose:!1}),[c]),d=f.useMemo(()=>o!=null&&s!=null?v({value:s.value,onChange:l,timezone:s.timezone,disabled:s.disabled,readOnly:s.readOnly,autoFocus:s.autoFocus&&!s.open,focused:s.open?!0:void 0,format:s.fieldFormat,formatDensity:o.formatDensity,enableAccessibleFieldDOMStructure:o.enableAccessibleFieldDOMStructure,selectedSections:o.selectedSections,onSelectedSectionsChange:o.onSelectedSectionsChange,unstableFieldRef:i},t):t,[s,o,t,l,i]);return n(d)}function yr(e){const{focused:n,domGetters:t,stateResponse:{parsedSelectedSections:r,state:s}}=e;if(!t.isReady())return;const o=document.getSelection();if(!o)return;if(r==null){o.rangeCount>0&&t.getRoot().contains(o.getRangeAt(0).startContainer)&&o.removeAllRanges(),n&&t.getRoot().blur();return}if(!t.getRoot().contains(Ke(document)))return;const i=new window.Range;let c;r==="all"?c=t.getRoot():s.sections[r].type==="empty"?c=t.getSectionContainer(r):c=t.getSectionContent(r),i.selectNodeContents(c),c.focus(),o.removeAllRanges(),o.addRange(i)}function ba(e){const n=Ce(),{manager:{internal_fieldValueManager:t},internalPropsWithDefaults:{minutesStep:r,disabled:s,readOnly:o},stateResponse:{state:i,value:c,activeSectionIndex:l,parsedSelectedSections:d,sectionsValueBoundaries:u,localizedDigits:x,timezone:y,sectionOrder:m,clearValue:h,clearActiveSection:T,setSelectedSections:p,updateSectionValue:g}}=e;return H(w=>{if(!s)switch(!0){case((w.ctrlKey||w.metaKey)&&String.fromCharCode(w.keyCode)==="A"&&!w.shiftKey&&!w.altKey):{w.preventDefault(),p("all");break}case w.key==="ArrowRight":{if(w.preventDefault(),d==null)p(m.startIndex);else if(d==="all")p(m.endIndex);else{const M=m.neighbors[d].rightIndex;M!==null&&p(M)}break}case w.key==="ArrowLeft":{if(w.preventDefault(),d==null)p(m.endIndex);else if(d==="all")p(m.startIndex);else{const M=m.neighbors[d].leftIndex;M!==null&&p(M)}break}case w.key==="Delete":{if(w.preventDefault(),o)break;d==null||d==="all"?h():T();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(w.key):{if(w.preventDefault(),o||l==null)break;d==="all"&&p(l);const M=i.sections[l],D=cd(n,y,M,w.key,u,x,t.getDateFromSection(c,M),{minutesStep:r});g({section:M,newSectionValue:D,shouldGoToNextSection:!1});break}}})}function ld(e){switch(e){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}}function cd(e,n,t,r,s,o,i,c){const l=ld(r),d=r==="Home",u=r==="End",x=t.value===""||d||u,y=()=>{const h=s[t.type]({currentDate:i,format:t.format,contentType:t.contentType}),T=w=>Ls(e,w,h,o,t),p=t.type==="minutes"&&(c!=null&&c.minutesStep)?c.minutesStep:1;let g;if(x){if(t.type==="year"&&!u&&!d)return e.formatByString(e.date(void 0,n),t.format);l>0||d?g=h.minimum:g=h.maximum}else g=parseInt(Ct(t.value,o),10)+l*p;return g%p!==0&&((l<0||d)&&(g+=p-(p+g)%p),(l>0||u)&&(g-=g%p)),g>h.maximum?T(h.minimum+(g-h.maximum-1)%(h.maximum-h.minimum+1)):g<h.minimum?T(h.maximum-(h.minimum-g-1)%(h.maximum-h.minimum+1)):T(g)},m=()=>{const h=Ns(e,n,t.type,t.format);if(h.length===0)return t.value;if(x)return l>0||d?h[0]:h[h.length-1];const g=((h.indexOf(t.value)+l)%h.length+h.length)%h.length;return h[g]};return t.contentType==="digit"||t.contentType==="digit-with-letter"?y():m()}function dd(e){const{manager:n,focused:t,setFocused:r,domGetters:s,stateResponse:o,applyCharacterEditing:i,internalPropsWithDefaults:c,stateResponse:{parsedSelectedSections:l,sectionOrder:d,state:u,clearValue:x,setCharacterQuery:y,setSelectedSections:m,updateValueFromValueStr:h},internalPropsWithDefaults:{disabled:T=!1,readOnly:p=!1}}=e,g=ba({manager:n,internalPropsWithDefaults:c,stateResponse:o}),w=$t(),M=H(b=>{T||!s.isReady()||(r(!0),l==="all"?w.start(0,()=>{const C=document.getSelection().getRangeAt(0).startOffset;if(C===0){m(d.startIndex);return}let R=0,N=0;for(;N<C&&R<u.sections.length;){const S=u.sections[R];R+=1,N+=`${S.startSeparator}${S.value||S.placeholder}${S.endSeparator}`.length}m(R-1)}):t?s.getRoot().contains(b.target)||m(d.startIndex):(r(!0),m(d.startIndex)))}),D=H(b=>{if(!s.isReady()||l!=="all")return;const R=b.target.textContent??"";s.getRoot().innerHTML=u.sections.map(N=>`${N.startSeparator}${N.value||N.placeholder}${N.endSeparator}`).join(""),yr({focused:t,domGetters:s,stateResponse:o}),R.length===0||R.charCodeAt(0)===10?(x(),m("all")):R.length>1?h(R):(l==="all"&&m(0),i({keyPressed:R,sectionIndex:0}))}),j=H(b=>{if(p||l!=="all"){b.preventDefault();return}const C=b.clipboardData.getData("text");b.preventDefault(),y(null),h(C)}),I=H(()=>{if(t||T||!s.isReady())return;const b=Ke(document);r(!0),s.getSectionIndexFromDOMElement(b)!=null||m(d.startIndex)}),O=H(()=>{setTimeout(()=>{if(!s.isReady())return;const b=Ke(document);!s.getRoot().contains(b)&&(r(!1),m(null))})});return{onKeyDown:g,onBlur:O,onFocus:I,onClick:M,onPaste:j,onInput:D,contentEditable:l==="all",tabIndex:l===0?-1:0}}function ud(e){const{manager:{internal_fieldValueManager:n},stateResponse:{areAllSectionsEmpty:t,state:r,updateValueFromValueStr:s}}=e,o=H(c=>{s(c.target.value)});return{value:f.useMemo(()=>t?"":n.getV7HiddenInputValueFromSections(r.sections),[t,r.sections,n]),onChange:o}}function hd(e){const{stateResponse:{setSelectedSections:n},internalPropsWithDefaults:{disabled:t=!1}}=e,r=H(s=>o=>{t||o.isDefaultPrevented()||n(s)});return f.useCallback(s=>({"data-sectionindex":s,onClick:r(s)}),[r])}function md(e){const n=Ce(),t=vt(),r=Mn(),{focused:s,domGetters:o,stateResponse:i,applyCharacterEditing:c,manager:{internal_fieldValueManager:l},stateResponse:{parsedSelectedSections:d,sectionsValueBoundaries:u,state:x,value:y,clearActiveSection:m,setCharacterQuery:h,setSelectedSections:T,updateSectionValue:p,updateValueFromValueStr:g},internalPropsWithDefaults:{disabled:w=!1,readOnly:M=!1}}=e,D=d==="all",j=!D&&!w&&!M,I=H(S=>{if(!o.isReady())return;const z=x.sections[S];o.getSectionContent(S).innerHTML=z.value||z.placeholder,yr({focused:s,domGetters:o,stateResponse:i})}),O=H(S=>{if(!o.isReady())return;const z=S.target,L=z.textContent??"",E=o.getSectionIndexFromDOMElement(z),F=x.sections[E];if(M){I(E);return}if(L.length===0){if(F.value===""){I(E);return}const V=S.nativeEvent.inputType;if(V==="insertParagraph"||V==="insertLineBreak"){I(E);return}I(E),m();return}c({keyPressed:L,sectionIndex:E}),I(E)}),b=H(S=>{S.preventDefault()}),C=H(S=>{if(S.preventDefault(),M||w||typeof d!="number")return;const z=x.sections[d],L=S.clipboardData.getData("text"),E=/^[a-zA-Z]+$/.test(L),F=/^[0-9]+$/.test(L),V=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(L);z.contentType==="letter"&&E||z.contentType==="digit"&&F||z.contentType==="digit-with-letter"&&V?(h(null),p({section:z,newSectionValue:L,shouldGoToNextSection:!0})):!E&&!F&&(h(null),g(L))}),R=H(S=>{S.preventDefault(),S.dataTransfer.dropEffect="none"}),N=H(S=>()=>{w||T(S)});return f.useCallback((S,z)=>{const L=u[S.type]({currentDate:l.getDateFromSection(y,S),contentType:S.contentType,format:S.format});return{onInput:O,onPaste:C,onMouseUp:b,onDragOver:R,onFocus:N(z),"aria-labelledby":`${r}-${S.type}`,"aria-readonly":M,"aria-valuenow":pd(S,n),"aria-valuemin":L.minimum,"aria-valuemax":L.maximum,"aria-valuetext":S.value?fd(S,n):t.empty,"aria-label":t[S.type],"aria-disabled":w,tabIndex:D||z>0?-1:0,contentEditable:!D&&!w&&!M,role:"spinbutton",id:`${r}-${S.type}`,"data-range-position":S.dateName||void 0,spellCheck:j?!1:void 0,autoCapitalize:j?"off":void 0,autoCorrect:j?"off":void 0,children:S.value||S.placeholder,inputMode:S.contentType==="letter"?"text":"numeric"}},[u,r,D,w,M,j,t,n,O,C,b,R,N,l,y])}function fd(e,n){if(e.value)switch(e.type){case"month":{if(e.contentType==="digit")return n.format(n.setMonth(n.date(),Number(e.value)-1),"month");const t=n.parse(e.value,e.format);return t?n.format(t,"month"):void 0}case"day":return e.contentType==="digit"?n.format(n.setDate(n.startOfYear(n.date()),Number(e.value)),"dayOfMonthFull"):e.value;case"weekDay":return;default:return}}function pd(e,n){if(e.value)switch(e.type){case"weekDay":return e.contentType==="letter"?void 0:Number(e.value);case"meridiem":{const t=n.parse(`01:00 ${e.value}`,`${n.formats.hours12h}:${n.formats.minutes} ${e.format}`);return t?n.getHours(t)>=12?1:0:void 0}case"day":return e.contentType==="digit-with-letter"?parseInt(e.value,10):Number(e.value);case"month":{if(e.contentType==="digit")return Number(e.value);const t=n.parse(e.value,e.format);return t?n.getMonth(t)+1:void 0}default:return e.contentType!=="letter"?Number(e.value):void 0}}const gd=e=>{const{props:n,manager:t,skipContextFieldRefAssignment:r,manager:{valueType:s,internal_useOpenPickerButtonAriaLabel:o}}=e,{internalProps:i,forwardedProps:c}=Xs(n,s),l=ya({manager:t,internalProps:i,skipContextFieldRefAssignment:r}),{sectionListRef:d,onBlur:u,onClick:x,onFocus:y,onInput:m,onPaste:h,onKeyDown:T,onClear:p,clearable:g}=c,{disabled:w=!1,readOnly:M=!1,autoFocus:D=!1,focused:j,unstableFieldRef:I}=l,O=f.useRef(null),b=nt(d,O),C=f.useMemo(()=>({isReady:()=>O.current!=null,getRoot:()=>O.current.getRoot(),getSectionContainer:G=>O.current.getSectionContainer(G),getSectionContent:G=>O.current.getSectionContent(G),getSectionIndexFromDOMElement:G=>O.current.getSectionIndexFromDOMElement(G)}),[O]),R=xa({manager:t,internalPropsWithDefaults:l,forwardedProps:c}),{areAllSectionsEmpty:N,error:S,parsedSelectedSections:z,sectionOrder:L,state:E,value:F,clearValue:V,setSelectedSections:ee}=R,_=ga({stateResponse:R}),te=o(F),[W,le]=f.useState(!1);function Te(G=0){if(w||!O.current||Zr(O)!=null)return;const xe=Xn(G,E.sections);le(!0),O.current.getSectionContent(xe).focus()}const ye=dd({manager:t,internalPropsWithDefaults:l,stateResponse:R,applyCharacterEditing:_,focused:W,setFocused:le,domGetters:C}),Se=ud({manager:t,stateResponse:R}),ae=hd({stateResponse:R,internalPropsWithDefaults:l}),ge=md({manager:t,stateResponse:R,applyCharacterEditing:_,internalPropsWithDefaults:l,domGetters:C,focused:W}),Me=H(G=>{T==null||T(G),ye.onKeyDown(G)}),ce=H(G=>{u==null||u(G),ye.onBlur(G)}),ne=H(G=>{y==null||y(G),ye.onFocus(G)}),B=H(G=>{G.isDefaultPrevented()||(x==null||x(G),ye.onClick(G))}),K=H(G=>{h==null||h(G),ye.onPaste(G)}),$=H(G=>{m==null||m(G),ye.onInput(G)}),se=H((G,...xe)=>{G.preventDefault(),p==null||p(G,...xe),V(),Jr(O)?ee(L.startIndex):Te(0)}),de=f.useMemo(()=>E.sections.map((G,xe)=>{const U=ge(G,xe);return{container:ae(xe),content:ge(G,xe),before:{children:G.startSeparator},after:{children:G.endSeparator,"data-range-position":G.isEndFormatSeparator?U["data-range-position"]:void 0}}}),[E.sections,ae,ge]);return f.useEffect(()=>{if(O.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please add the `enableAccessibleFieldDOMStructure={false}` prop to your Picker or Field component:","","<DatePicker enableAccessibleFieldDOMStructure={false} slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));D&&!w&&O.current&&O.current.getSectionContent(L.startIndex).focus()},[]),gt(()=>{if(!(!W||!O.current)){if(z==="all")O.current.getRoot().focus();else if(typeof z=="number"){const G=O.current.getSectionContent(z);G&&G.focus()}}},[z,W]),gt(()=>{yr({focused:W,domGetters:C,stateResponse:R})}),f.useImperativeHandle(I,()=>({getSections:()=>E.sections,getActiveSectionIndex:()=>Zr(O),setSelectedSections:G=>{if(w||!O.current)return;const xe=Xn(G,E.sections);le((xe==="all"?0:xe)!==null),ee(G)},focusField:Te,isFieldFocused:()=>Jr(O)})),v({},c,ye,{onBlur:ce,onClick:B,onFocus:ne,onInput:$,onPaste:K,onKeyDown:Me,onClear:se},Se,{error:S,clearable:!!(g&&!N&&!M&&!w),focused:j??W,sectionListRef:b,enableAccessibleFieldDOMStructure:!0,elements:de,areAllSectionsEmpty:N,disabled:w,readOnly:M,autoFocus:D,openPickerAriaLabel:te})};function Zr(e){const n=Ke(document);return!n||!e.current||!e.current.getRoot().contains(n)?null:e.current.getSectionIndexFromDOMElement(n)}function Jr(e){const n=Ke(document);return!!e.current&&e.current.getRoot().contains(n)}const Vt=e=>e.replace(/[\u2066\u2067\u2068\u2069]/g,""),xd=(e,n,t)=>{let r=0,s=t?1:0;const o=[];for(let i=0;i<e.length;i+=1){const c=e[i],l=dr(c,t?"input-rtl":"input-ltr",n),d=`${c.startSeparator}${l}${c.endSeparator}`,u=Vt(d).length,x=d.length,y=Vt(l),m=s+(y===""?0:l.indexOf(y[0]))+c.startSeparator.length,h=m+y.length;o.push(v({},c,{start:r,end:r+u,startInInput:m,endInInput:h})),r+=u,s+=x}return o},yd=e=>{const n=bt(),t=$t(),r=$t(),{props:s,manager:o,skipContextFieldRefAssignment:i,manager:{valueType:c,internal_valueManager:l,internal_fieldValueManager:d,internal_useOpenPickerButtonAriaLabel:u}}=e,{internalProps:x,forwardedProps:y}=Xs(s,c),m=ya({manager:o,internalProps:x,skipContextFieldRefAssignment:i}),{onFocus:h,onClick:T,onPaste:p,onBlur:g,onKeyDown:w,onClear:M,clearable:D,inputRef:j,placeholder:I}=y,{readOnly:O=!1,disabled:b=!1,autoFocus:C=!1,focused:R,unstableFieldRef:N}=m,S=f.useRef(null),z=nt(j,S),L=xa({manager:o,internalPropsWithDefaults:m,forwardedProps:y}),{activeSectionIndex:E,areAllSectionsEmpty:F,error:V,localizedDigits:ee,parsedSelectedSections:_,sectionOrder:te,state:W,value:le,clearValue:Te,clearActiveSection:ye,setCharacterQuery:Se,setSelectedSections:ae,setTempAndroidValueStr:ge,updateSectionValue:Me,updateValueFromValueStr:ce,getSectionsFromValue:ne}=L,B=ga({stateResponse:L}),K=u(le),$=f.useMemo(()=>xd(W.sections,ee,n),[W.sections,ee,n]);function se(){const ue=S.current.selectionStart??0;let me;ue<=$[0].startInInput||ue>=$[$.length-1].endInInput?me=1:me=$.findIndex(ke=>ke.startInInput-ke.startSeparator.length>ue);const we=me===-1?$.length-1:me-1;ae(we)}function de(ue=0){var me;Ke(document)!==S.current&&((me=S.current)==null||me.focus(),ae(ue))}const G=H(ue=>{h==null||h(ue);const me=S.current;t.start(0,()=>{!me||me!==S.current||E==null&&(me.value.length&&Number(me.selectionEnd)-Number(me.selectionStart)===me.value.length?ae("all"):se())})}),xe=H((ue,...me)=>{ue.isDefaultPrevented()||(T==null||T(ue,...me),se())}),U=H(ue=>{if(p==null||p(ue),ue.preventDefault(),O||b)return;const me=ue.clipboardData.getData("text");if(typeof _=="number"){const we=W.sections[_],ke=/^[a-zA-Z]+$/.test(me),Qe=/^[0-9]+$/.test(me),ze=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(me);if(we.contentType==="letter"&&ke||we.contentType==="digit"&&Qe||we.contentType==="digit-with-letter"&&ze){Se(null),Me({section:we,newSectionValue:me,shouldGoToNextSection:!0});return}if(ke||Qe)return}Se(null),ce(me)}),oe=H(ue=>{g==null||g(ue),ae(null)}),Z=H(ue=>{if(O)return;const me=ue.target.value;if(me===""){Te();return}const we=ue.nativeEvent.data,ke=we&&we.length>1,Qe=ke?we:me,ze=Vt(Qe);if(_==="all"&&ae(E),E==null||ke){ce(ke?we:ze);return}let rt;if(_==="all"&&ze.length===1)rt=ze;else{const _e=Vt(d.getV6InputValueFromSections($,ee,n));let pe=-1,He=-1;for(let st=0;st<_e.length;st+=1)pe===-1&&_e[st]!==ze[st]&&(pe=st),He===-1&&_e[_e.length-st-1]!==ze[ze.length-st-1]&&(He=st);const Je=$[E];if(pe<Je.start||_e.length-He-1>Je.end)return;const mn=ze.length-_e.length+Je.end-Vt(Je.endSeparator||"").length;rt=ze.slice(Je.start+Vt(Je.startSeparator||"").length,mn)}if(rt.length===0){Yi()&&ge(Qe),ye();return}B({keyPressed:rt,sectionIndex:E})}),ie=H((ue,...me)=>{ue.preventDefault(),M==null||M(ue,...me),Te(),es(S)?ae(te.startIndex):de(0)}),qe=ba({manager:o,internalPropsWithDefaults:m,stateResponse:L}),$e=H(ue=>{w==null||w(ue),qe(ue)}),et=f.useMemo(()=>I!==void 0?I:d.getV6InputValueFromSections(ne(l.emptyValue),ee,n),[I,d,ne,l.emptyValue,ee,n]),Ze=f.useMemo(()=>W.tempValueStrAndroid??d.getV6InputValueFromSections(W.sections,ee,n),[W.sections,d,W.tempValueStrAndroid,ee,n]);f.useEffect(()=>{S.current&&S.current===Ke(document)&&ae("all")},[]),gt(()=>{function ue(){if(!S.current)return;if(_==null){S.current.scrollLeft&&(S.current.scrollLeft=0);return}if(S.current!==Ke(document))return;const me=S.current.scrollTop;if(_==="all")S.current.select();else{const we=$[_],ke=we.type==="empty"?we.startInInput-we.startSeparator.length:we.startInInput,Qe=we.type==="empty"?we.endInInput+we.endSeparator.length:we.endInInput;(ke!==S.current.selectionStart||Qe!==S.current.selectionEnd)&&S.current===Ke(document)&&S.current.setSelectionRange(ke,Qe),r.start(0,()=>{S.current&&S.current===Ke(document)&&S.current.selectionStart===S.current.selectionEnd&&(S.current.selectionStart!==ke||S.current.selectionEnd!==Qe)&&ue()})}S.current.scrollTop=me}ue()});const ct=f.useMemo(()=>E==null||W.sections[E].contentType==="letter"?"text":"numeric",[E,W.sections]),Rt=!(S.current&&S.current===Ke(document))&&F;return f.useImperativeHandle(N,()=>({getSections:()=>W.sections,getActiveSectionIndex:()=>{const ue=S.current.selectionStart??0,me=S.current.selectionEnd??0;if(ue===0&&me===0)return null;const we=ue<=$[0].startInInput?1:$.findIndex(ke=>ke.startInInput-ke.startSeparator.length>ue);return we===-1?$.length-1:we-1},setSelectedSections:ue=>ae(ue),focusField:de,isFieldFocused:()=>es(S)})),v({},y,{error:V,clearable:!!(D&&!F&&!O&&!b),onBlur:oe,onClick:xe,onFocus:G,onPaste:U,onKeyDown:$e,onClear:ie,inputRef:z,enableAccessibleFieldDOMStructure:!1,placeholder:et,inputMode:ct,autoComplete:"off",value:Rt?"":Ze,onChange:Z,focused:R,disabled:b,readOnly:O,autoFocus:C,openPickerAriaLabel:K})};function es(e){return e.current===Ke(document)}const bd=e=>{const n=Ws();return(e.props.enableAccessibleFieldDOMStructure??(n==null?void 0:n.enableAccessibleFieldDOMStructure)??!0?gd:yd)(e)},wd=e=>{const n=vl(e);return bd({manager:n,props:e})},vd=["slots","slotProps"],wa=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiDateField"}),{slots:s,slotProps:o}=r,i=re(r,vd),c=rd({slotProps:o,ref:t,externalForwardedProps:i}),l=wd(c);return a.jsx(nd,{slots:s,slotProps:o,fieldResponse:l,defaultOpenPickerIcon:ic})}),va=({shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:s,disableFuture:o,disablePast:i,timezone:c})=>{const l=It();return f.useCallback(d=>cn({adapter:l,value:d,timezone:c,props:{shouldDisableDate:e,shouldDisableMonth:n,shouldDisableYear:t,minDate:r,maxDate:s,disableFuture:o,disablePast:i}})!==null,[l,e,n,t,r,s,o,i,c])},Td=(e,n)=>(t,r)=>{switch(r.type){case"setVisibleDate":return v({},t,{slideDirection:r.direction,currentMonth:r.month,isMonthSwitchingAnimating:!n.isSameMonth(r.month,t.currentMonth)&&!e&&!r.skipAnimation,focusedDay:r.focusedDay});case"changeMonthTimezone":{const s=r.newTimezone;if(n.getTimezone(t.currentMonth)===s)return t;let o=n.setTimezone(t.currentMonth,s);return n.getMonth(o)!==n.getMonth(t.currentMonth)&&(o=n.setMonth(o,n.getMonth(t.currentMonth))),v({},t,{currentMonth:o})}case"finishMonthSwitchingAnimation":return v({},t,{isMonthSwitchingAnimating:!1});default:throw new Error("missing support")}},Dd=e=>{const{value:n,referenceDate:t,disableFuture:r,disablePast:s,maxDate:o,minDate:i,onMonthChange:c,onYearChange:l,reduceAnimations:d,shouldDisableDate:u,timezone:x,getCurrentMonthFromVisibleDate:y}=e,m=Ce(),h=f.useRef(Td(!!d,m)).current,T=f.useMemo(()=>pt.getInitialReferenceValue({value:n,utils:m,timezone:x,props:e,referenceDate:t,granularity:ht.day}),[t,x]),[p,g]=f.useReducer(h,{isMonthSwitchingAnimating:!1,focusedDay:T,currentMonth:m.startOfMonth(T),slideDirection:"left"}),w=va({shouldDisableDate:u,minDate:i,maxDate:o,disableFuture:r,disablePast:s,timezone:x});f.useEffect(()=>{g({type:"changeMonthTimezone",newTimezone:m.getTimezone(T)})},[T,m]);const M=H(({target:j,reason:I})=>{if(I==="cell-interaction"&&p.focusedDay!=null&&m.isSameDay(j,p.focusedDay))return;const O=I==="cell-interaction";let b,C;if(I==="cell-interaction")b=y(j,p.currentMonth),C=j;else if(b=m.isSameMonth(j,p.currentMonth)?p.currentMonth:m.startOfMonth(j),C=j,w(C)){const S=m.startOfMonth(j),z=m.endOfMonth(j);C=sn({utils:m,date:C,minDate:m.isBefore(i,S)?S:i,maxDate:m.isAfter(o,z)?z:o,disablePast:s,disableFuture:r,isDateDisabled:w,timezone:x})}const R=!m.isSameMonth(p.currentMonth,b),N=!m.isSameYear(p.currentMonth,b);R&&(c==null||c(b)),N&&(l==null||l(m.startOfYear(b))),g({type:"setVisibleDate",month:b,direction:m.isAfterDay(b,p.currentMonth)?"left":"right",focusedDay:p.focusedDay!=null&&C!=null&&m.isSameDay(C,p.focusedDay)?p.focusedDay:C,skipAnimation:O})}),D=f.useCallback(()=>{g({type:"finishMonthSwitchingAnimation"})},[]);return{referenceDate:T,calendarState:p,setVisibleDate:M,isDateDisabled:w,onMonthSwitchingAnimationEnd:D}},Pd=e=>Be("MuiPickersFadeTransitionGroup",e);Ve("MuiPickersFadeTransitionGroup",["root"]);const Sd=["children"],Md=e=>Oe({root:["root"]},Pd,e),Cd=X(vs,{name:"MuiPickersFadeTransitionGroup",slot:"Root"})({display:"block",position:"relative"});function Ta(e){const n=Re({props:e,name:"MuiPickersFadeTransitionGroup"}),{className:t,reduceAnimations:r,transKey:s,classes:o}=n,{children:i}=n,c=re(n,Sd),l=Md(o),d=ln();if(r)return i;const u=v({},c);return a.jsx(Cd,{className:Ye(l.root,t),ownerState:u,children:a.jsx(Sn,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:d.transitions.duration.enteringScreen,enter:d.transitions.duration.enteringScreen,exit:0},children:i},s)})}function kd(e){return Be("MuiPickersDay",e)}const Pt=Ve("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]);function Da(e){const{disabled:n,selected:t,today:r,outsideCurrentMonth:s,day:o,disableMargin:i,disableHighlightToday:c,showDaysOutsideCurrentMonth:l}=e,d=Ce(),{ownerState:u}=Ge();return f.useMemo(()=>v({},u,{day:o,isDaySelected:t??!1,isDayDisabled:n??!1,isDayCurrent:r??!1,isDayOutsideMonth:s??!1,isDayStartOfWeek:d.isSameDay(o,d.startOfWeek(o)),isDayEndOfWeek:d.isSameDay(o,d.endOfWeek(o)),disableMargin:i??!1,disableHighlightToday:c??!1,showDaysOutsideCurrentMonth:l??!1}),[d,u,o,t,n,r,s,i,c,l])}const Id=["autoFocus","className","classes","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","children","isFirstVisibleCell","isLastVisibleCell","day","selected","disabled","today","outsideCurrentMonth","disableMargin","disableHighlightToday","showDaysOutsideCurrentMonth"],jd=(e,n)=>{const{isDaySelected:t,isDayDisabled:r,isDayCurrent:s,isDayOutsideMonth:o,disableMargin:i,disableHighlightToday:c,showDaysOutsideCurrentMonth:l}=n,d=o&&!l;return Oe({root:["root",t&&!d&&"selected",r&&"disabled",!i&&"dayWithMargin",!c&&s&&"today",o&&l&&"dayOutsideMonth",d&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]},kd,e)},Pa=({theme:e})=>v({},e.typography.caption,{width:an,height:an,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:e.transitions.create("background-color",{duration:e.transitions.duration.short}),color:(e.vars||e).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ht(e.palette.primary.main,e.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.focusOpacity})`:Ht(e.palette.primary.main,e.palette.action.focusOpacity),[`&.${Pt.selected}`]:{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Pt.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,fontWeight:e.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(e.vars||e).palette.primary.dark}},[`&.${Pt.disabled}:not(.${Pt.selected})`]:{color:(e.vars||e).palette.text.disabled},[`&.${Pt.disabled}&.${Pt.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${In}px`}},{props:{isDayOutsideMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(e.vars||e).palette.text.secondary}},{props:{disableHighlightToday:!1,isDayCurrent:!0},style:{[`&:not(.${Pt.selected})`]:{border:`1px solid ${(e.vars||e).palette.text.secondary}`}}}]}),Sa=(e,n)=>{const{ownerState:t}=e;return[n.root,!t.disableMargin&&n.dayWithMargin,!t.disableHighlightToday&&t.isDayCurrent&&n.today,!t.isDayOutsideMonth&&t.showDaysOutsideCurrentMonth&&n.dayOutsideMonth,t.isDayOutsideMonth&&!t.showDaysOutsideCurrentMonth&&n.hiddenDaySpacingFiller]},Od=X(ps,{name:"MuiPickersDay",slot:"Root",overridesResolver:Sa})(Pa),Rd=X("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Sa})(({theme:e})=>v({},Pa({theme:e}),{opacity:0,pointerEvents:"none"})),tn=()=>{},Ed=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiPickersDay"}),{autoFocus:s=!1,className:o,classes:i,isAnimating:c,onClick:l,onDaySelect:d,onFocus:u=tn,onBlur:x=tn,onKeyDown:y=tn,onMouseDown:m=tn,onMouseEnter:h=tn,children:T,day:p,selected:g,disabled:w,today:M,outsideCurrentMonth:D,disableMargin:j,disableHighlightToday:I,showDaysOutsideCurrentMonth:O}=r,b=re(r,Id),C=Da({day:p,selected:g,disabled:w,today:M,outsideCurrentMonth:D,disableMargin:j,disableHighlightToday:I,showDaysOutsideCurrentMonth:O}),R=jd(i,C),N=Ce(),S=f.useRef(null),z=nt(S,t);gt(()=>{s&&!w&&!c&&!D&&S.current.focus()},[s,w,c,D]);const L=F=>{m(F),D&&F.preventDefault()},E=F=>{w||d(p),D&&F.currentTarget.focus(),l&&l(F)};return D&&!O?a.jsx(Rd,{className:Ye(R.root,R.hiddenDaySpacingFiller,o),ownerState:C,role:b.role}):a.jsx(Od,v({className:Ye(R.root,o),ref:z,centerRipple:!0,disabled:w,tabIndex:g?0:-1,onKeyDown:F=>y(F,p),onFocus:F=>u(F,p),onBlur:F=>x(F,p),onMouseEnter:F=>h(F,p),onClick:E,onMouseDown:L},b,{ownerState:C,children:T||N.format(p,"dayOfMonth")}))}),Ad=f.memo(Ed),Fd=e=>Be("MuiPickersSlideTransition",e),at=Ve("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),Nd=["children","className","reduceAnimations","slideDirection","transKey","classes"],Ld=(e,n)=>{const{slideDirection:t}=n,r={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${t}`],exitActive:[`slideExitActiveLeft-${t}`]};return Oe(r,Fd,e)},Vd=X(vs,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(e,n)=>[n.root,{[`.${at["slideEnter-left"]}`]:n["slideEnter-left"]},{[`.${at["slideEnter-right"]}`]:n["slideEnter-right"]},{[`.${at.slideEnterActive}`]:n.slideEnterActive},{[`.${at.slideExit}`]:n.slideExit},{[`.${at["slideExitActiveLeft-left"]}`]:n["slideExitActiveLeft-left"]},{[`.${at["slideExitActiveLeft-right"]}`]:n["slideExitActiveLeft-right"]}]})(({theme:e})=>{const n=e.transitions.create("transform",{duration:e.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${at["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${at["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${at.slideEnterActive}`]:{transform:"translate(0%)",transition:n},[`& .${at.slideExit}`]:{transform:"translate(0%)"},[`& .${at["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:n,zIndex:0},[`& .${at["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:n,zIndex:0}}});function Bd(e){const n=Re({props:e,name:"MuiPickersSlideTransition"}),{children:t,className:r,reduceAnimations:s,slideDirection:o,transKey:i,classes:c}=n,l=re(n,Nd),{ownerState:d}=Ge(),u=v({},d,{slideDirection:o}),x=Ld(c,u),y=ln();if(s)return a.jsx("div",{className:Ye(x.root,r),children:t});const m={exit:x.exit,enterActive:x.enterActive,enter:x.enter,exitActive:x.exitActive};return a.jsx(Vd,{className:Ye(x.root,r),childFactory:h=>f.cloneElement(h,{classNames:m}),role:"presentation",ownerState:u,children:a.jsx(ar,v({mountOnEnter:!0,unmountOnExit:!0,timeout:y.transitions.duration.complex,classNames:m},l,{children:t}),i)})}const $d=e=>Be("MuiDayCalendar",e);Ve("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]);const zd=["parentProps","day","focusedDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Wd=["ownerState"],_d=e=>Oe({root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]},$d,e),Ma=(an+In*2)*6,Hd=X("div",{name:"MuiDayCalendar",slot:"Root"})({}),Yd=X("div",{name:"MuiDayCalendar",slot:"Header"})({display:"flex",justifyContent:"center",alignItems:"center"}),Ud=X(P,{name:"MuiDayCalendar",slot:"WeekDayLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.secondary})),qd=X(P,{name:"MuiDayCalendar",slot:"WeekNumberLabel"})(({theme:e})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(e.vars||e).palette.text.disabled})),Gd=X(P,{name:"MuiDayCalendar",slot:"WeekNumber"})(({theme:e})=>v({},e.typography.caption,{width:an,height:an,padding:0,margin:`0 ${In}px`,color:(e.vars||e).palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Qd=X("div",{name:"MuiDayCalendar",slot:"LoadingContainer"})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Ma}),Xd=X(Bd,{name:"MuiDayCalendar",slot:"SlideTransition"})({minHeight:Ma}),Kd=X("div",{name:"MuiDayCalendar",slot:"MonthContainer"})({overflow:"hidden"}),Zd=X("div",{name:"MuiDayCalendar",slot:"WeekContainer"})({margin:`${In}px 0`,display:"flex",justifyContent:"center"});function Jd(e){let{parentProps:n,day:t,focusedDay:r,selectedDays:s,isDateDisabled:o,currentMonthNumber:i,isViewFocused:c}=e,l=re(e,zd);const{disabled:d,disableHighlightToday:u,isMonthSwitchingAnimating:x,showDaysOutsideCurrentMonth:y,slots:m,slotProps:h,timezone:T}=n,p=Ce(),g=kn(T),w=r!=null&&p.isSameDay(t,r),M=c&&w,D=s.some(L=>p.isSameDay(L,t)),j=p.isSameDay(t,g),I=f.useMemo(()=>d||o(t),[d,o,t]),O=f.useMemo(()=>p.getMonth(t)!==i,[p,t,i]),b=Da({day:t,selected:D,disabled:I,today:j,outsideCurrentMonth:O,disableMargin:void 0,disableHighlightToday:u,showDaysOutsideCurrentMonth:y}),C=(m==null?void 0:m.day)??Ad,R=ve({elementType:C,externalSlotProps:h==null?void 0:h.day,additionalProps:v({disableHighlightToday:u,showDaysOutsideCurrentMonth:y,role:"gridcell",isAnimating:x,"data-timestamp":p.toJsDate(t).valueOf()},l),ownerState:v({},b,{day:t,isDayDisabled:I,isDaySelected:D})}),N=re(R,Wd),S=f.useMemo(()=>{const L=p.startOfMonth(p.setMonth(t,i));return y?p.isSameDay(t,p.startOfWeek(L)):p.isSameDay(t,L)},[i,t,y,p]),z=f.useMemo(()=>{const L=p.endOfMonth(p.setMonth(t,i));return y?p.isSameDay(t,p.endOfWeek(L)):p.isSameDay(t,L)},[i,t,y,p]);return a.jsx(C,v({},N,{day:t,disabled:I,autoFocus:!O&&M,today:j,outsideCurrentMonth:O,isFirstVisibleCell:S,isLastVisibleCell:z,selected:D,tabIndex:w?0:-1,"aria-selected":D,"aria-current":j?"date":void 0}))}function eu(e){const n=Re({props:e,name:"MuiDayCalendar"}),t=Ce(),{onFocusedDayChange:r,className:s,classes:o,currentMonth:i,selectedDays:c,focusedDay:l,loading:d,onSelectedDaysChange:u,onMonthSwitchingAnimationEnd:x,readOnly:y,reduceAnimations:m,renderLoading:h=()=>a.jsx("span",{children:"..."}),slideDirection:T,TransitionProps:p,disablePast:g,disableFuture:w,minDate:M,maxDate:D,shouldDisableDate:j,shouldDisableMonth:I,shouldDisableYear:O,dayOfWeekFormatter:b=B=>t.format(B,"weekdayShort").charAt(0).toUpperCase(),hasFocus:C,onFocusedViewChange:R,gridLabelId:N,displayWeekNumber:S,fixedWeekNumber:z,timezone:L}=n,E=kn(L),F=_d(o),V=bt(),ee=va({shouldDisableDate:j,shouldDisableMonth:I,shouldDisableYear:O,minDate:M,maxDate:D,disablePast:g,disableFuture:w,timezone:L}),_=vt(),te=H(B=>{y||u(B)}),W=B=>{ee(B)||(r(B),R==null||R(!0))},le=H((B,K)=>{switch(B.key){case"ArrowUp":W(t.addDays(K,-7)),B.preventDefault();break;case"ArrowDown":W(t.addDays(K,7)),B.preventDefault();break;case"ArrowLeft":{const $=t.addDays(K,V?1:-1),se=t.addMonths(K,V?1:-1),de=sn({utils:t,date:$,minDate:V?$:t.startOfMonth(se),maxDate:V?t.endOfMonth(se):$,isDateDisabled:ee,timezone:L});W(de||$),B.preventDefault();break}case"ArrowRight":{const $=t.addDays(K,V?-1:1),se=t.addMonths(K,V?-1:1),de=sn({utils:t,date:$,minDate:V?t.startOfMonth(se):$,maxDate:V?$:t.endOfMonth(se),isDateDisabled:ee,timezone:L});W(de||$),B.preventDefault();break}case"Home":W(t.startOfWeek(K)),B.preventDefault();break;case"End":W(t.endOfWeek(K)),B.preventDefault();break;case"PageUp":W(t.addMonths(K,1)),B.preventDefault();break;case"PageDown":W(t.addMonths(K,-1)),B.preventDefault();break}}),Te=H((B,K)=>W(K)),ye=H((B,K)=>{l!=null&&t.isSameDay(l,K)&&(R==null||R(!1))}),Se=t.getMonth(i),ae=t.getYear(i),ge=f.useMemo(()=>c.filter(B=>!!B).map(B=>t.startOfDay(B)),[t,c]),Me=`${ae}-${Se}`,ce=f.useMemo(()=>f.createRef(),[Me]),ne=f.useMemo(()=>{const B=t.getWeekArray(i);let K=t.addMonths(i,1);for(;z&&B.length<z;){const $=t.getWeekArray(K),se=t.isSameDay(B[B.length-1][0],$[0][0]);$.slice(se?1:0).forEach(de=>{B.length<z&&B.push(de)}),K=t.addMonths(K,1)}return B},[i,z,t]);return a.jsxs(Hd,{role:"grid","aria-labelledby":N,className:F.root,children:[a.jsxs(Yd,{role:"row",className:F.header,children:[S&&a.jsx(qd,{variant:"caption",role:"columnheader","aria-label":_.calendarWeekNumberHeaderLabel,className:F.weekNumberLabel,children:_.calendarWeekNumberHeaderText}),Oi(t,E).map((B,K)=>a.jsx(Ud,{variant:"caption",role:"columnheader","aria-label":t.format(B,"weekday"),className:F.weekDayLabel,children:b(B)},K.toString()))]}),d?a.jsx(Qd,{className:F.loadingContainer,children:h()}):a.jsx(Xd,v({transKey:Me,onExited:x,reduceAnimations:m,slideDirection:T,className:Ye(s,F.slideTransition)},p,{nodeRef:ce,children:a.jsx(Kd,{ref:ce,role:"rowgroup",className:F.monthContainer,children:ne.map((B,K)=>a.jsxs(Zd,{role:"row",className:F.weekContainer,"aria-rowindex":K+1,children:[S&&a.jsx(Gd,{className:F.weekNumber,role:"rowheader","aria-label":_.calendarWeekNumberAriaLabelText(t.getWeekNumber(B[0])),children:_.calendarWeekNumberText(t.getWeekNumber(B[0]))}),B.map(($,se)=>a.jsx(Jd,{parentProps:n,day:$,selectedDays:ge,isViewFocused:C,focusedDay:l,onKeyDown:le,onFocus:Te,onBlur:ye,onDaySelect:te,isDateDisabled:ee,currentMonthNumber:Se,"aria-colindex":se+1},$.toString()))]},`week-${B[0]}`))})}))]})}function Ca(e){return Be("MuiMonthCalendar",e)}const gn=Ve("MuiMonthCalendar",["root","button","disabled","selected"]),tu=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],nu=(e,n)=>{const t={button:["button",n.isMonthDisabled&&"disabled",n.isMonthSelected&&"selected"]};return Oe(t,Ca,e)},ru=X("button",{name:"MuiMonthCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${gn.disabled}`]:n.disabled},{[`&.${gn.selected}`]:n.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ht(e.palette.action.active,e.palette.action.hoverOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ht(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${gn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${gn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),su=f.memo(function(n){const{autoFocus:t,classes:r,disabled:s,selected:o,value:i,onClick:c,onKeyDown:l,onFocus:d,onBlur:u,slots:x,slotProps:y}=n,m=re(n,tu),h=f.useRef(null),{ownerState:T}=Ge(),p=v({},T,{isMonthDisabled:s,isMonthSelected:o}),g=nu(r,p);gt(()=>{var D;t&&((D=h.current)==null||D.focus())},[t]);const w=(x==null?void 0:x.monthButton)??ru,M=ve({elementType:w,externalSlotProps:y==null?void 0:y.monthButton,externalForwardedProps:m,additionalProps:{disabled:s,ref:h,type:"button",role:"radio","aria-checked":o,onClick:D=>c(D,i),onKeyDown:D=>l(D,i),onFocus:D=>d(D,i),onBlur:D=>u(D,i)},ownerState:p,className:g.button});return a.jsx(w,v({},M))}),au=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],ou=e=>Oe({root:["root"]},Ca,e);function iu(e,n){const t=Re({props:e,name:n}),r=dn(t);return v({},t,r,{monthsPerRow:t.monthsPerRow??3})}const lu=X("div",{name:"MuiMonthCalendar",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="monthsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:16,padding:"8px 0",width:jn,boxSizing:"border-box",variants:[{props:{monthsPerRow:3},style:{columnGap:24}},{props:{monthsPerRow:4},style:{columnGap:0}}]}),cu=f.forwardRef(function(n,t){const r=iu(n,"MuiMonthCalendar"),{autoFocus:s,className:o,classes:i,value:c,defaultValue:l,referenceDate:d,disabled:u,disableFuture:x,disablePast:y,maxDate:m,minDate:h,onChange:T,shouldDisableMonth:p,readOnly:g,onMonthFocus:w,hasFocus:M,onFocusedViewChange:D,monthsPerRow:j,timezone:I,gridLabelId:O,slots:b,slotProps:C}=r,R=re(r,au),{value:N,handleValueChange:S,timezone:z}=un({name:"MonthCalendar",timezone:I,value:c,defaultValue:l,referenceDate:d,onChange:T,valueManager:pt}),L=kn(z),E=bt(),F=Ce(),{ownerState:V}=Ge(),ee=f.useMemo(()=>pt.getInitialReferenceValue({value:N,utils:F,props:r,timezone:z,referenceDate:d,granularity:ht.month}),[]),_=ou(i),te=f.useMemo(()=>F.getMonth(L),[F,L]),W=f.useMemo(()=>N!=null?F.getMonth(N):null,[N,F]),[le,Te]=f.useState(()=>W||F.getMonth(ee)),[ye,Se]=Ut({name:"MonthCalendar",state:"hasFocus",controlled:M,default:s??!1}),ae=H($=>{Se($),D&&D($)}),ge=f.useCallback($=>{const se=F.startOfMonth(y&&F.isAfter(L,h)?L:h),de=F.startOfMonth(x&&F.isBefore(L,m)?L:m),G=F.startOfMonth($);return F.isBefore(G,se)||F.isAfter(G,de)?!0:p?p(G):!1},[x,y,m,h,L,p,F]),Me=H(($,se)=>{if(g)return;const de=F.setMonth(N??ee,se);S(de)}),ce=H($=>{ge(F.setMonth(N??ee,$))||(Te($),ae(!0),w&&w($))});f.useEffect(()=>{Te($=>W!==null&&$!==W?W:$)},[W]);const ne=H(($,se)=>{switch($.key){case"ArrowUp":ce((12+se-3)%12),$.preventDefault();break;case"ArrowDown":ce((12+se+3)%12),$.preventDefault();break;case"ArrowLeft":ce((12+se+(E?1:-1))%12),$.preventDefault();break;case"ArrowRight":ce((12+se+(E?-1:1))%12),$.preventDefault();break}}),B=H(($,se)=>{ce(se)}),K=H(($,se)=>{le===se&&ae(!1)});return a.jsx(lu,v({ref:t,className:Ye(_.root,o),ownerState:V,role:"radiogroup","aria-labelledby":O,monthsPerRow:j},R,{children:or(F,N??ee).map($=>{const se=F.getMonth($),de=F.format($,"monthShort"),G=F.format($,"month"),xe=se===W,U=u||ge($);return a.jsx(su,{selected:xe,value:se,onClick:Me,onKeyDown:ne,autoFocus:ye&&se===le,disabled:U,tabIndex:se===le&&!U?0:-1,onFocus:B,onBlur:K,"aria-current":te===se?"date":void 0,"aria-label":G,slots:b,slotProps:C,classes:i,children:de},de)})}))});function ka(e){return Be("MuiYearCalendar",e)}const xn=Ve("MuiYearCalendar",["root","button","disabled","selected"]),du=["autoFocus","classes","disabled","selected","value","onClick","onKeyDown","onFocus","onBlur","slots","slotProps"],uu=(e,n)=>{const t={button:["button",n.isYearDisabled&&"disabled",n.isYearSelected&&"selected"]};return Oe(t,ka,e)},hu=X("button",{name:"MuiYearCalendar",slot:"Button",overridesResolver:(e,n)=>[n.button,{[`&.${xn.disabled}`]:n.disabled},{[`&.${xn.selected}`]:n.selected}]})(({theme:e})=>v({color:"unset",backgroundColor:"transparent",border:0,outline:0},e.typography.subtitle1,{height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.focusOpacity})`:Ht(e.palette.action.active,e.palette.action.focusOpacity)},"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.activeChannel} / ${e.vars.palette.action.hoverOpacity})`:Ht(e.palette.action.active,e.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${xn.disabled}`]:{color:(e.vars||e).palette.text.secondary},[`&.${xn.selected}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.main,"&:focus, &:hover":{backgroundColor:(e.vars||e).palette.primary.dark}}})),mu=f.memo(function(n){const{autoFocus:t,classes:r,disabled:s,selected:o,value:i,onClick:c,onKeyDown:l,onFocus:d,onBlur:u,slots:x,slotProps:y}=n,m=re(n,du),h=f.useRef(null),{ownerState:T}=Ge(),p=v({},T,{isYearDisabled:s,isYearSelected:o}),g=uu(r,p);gt(()=>{var D;t&&((D=h.current)==null||D.focus())},[t]);const w=(x==null?void 0:x.yearButton)??hu,M=ve({elementType:w,externalSlotProps:y==null?void 0:y.yearButton,externalForwardedProps:m,additionalProps:{disabled:s,ref:h,type:"button",role:"radio","aria-checked":o,onClick:D=>c(D,i),onKeyDown:D=>l(D,i),onFocus:D=>d(D,i),onBlur:D=>u(D,i)},ownerState:p,className:g.button});return a.jsx(w,v({},M))}),fu=["autoFocus","className","classes","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsOrder","yearsPerRow","timezone","gridLabelId","slots","slotProps"],pu=e=>Oe({root:["root"]},ka,e);function gu(e,n){const t=Re({props:e,name:n}),r=dn(t);return v({},t,r,{yearsPerRow:t.yearsPerRow??3,yearsOrder:t.yearsOrder??"asc"})}const xu=X("div",{name:"MuiYearCalendar",slot:"Root",shouldForwardProp:e=>kt(e)&&e!=="yearsPerRow"})({display:"flex",flexWrap:"wrap",justifyContent:"space-evenly",rowGap:12,padding:"6px 0",overflowY:"auto",height:"100%",width:jn,maxHeight:Ul,boxSizing:"border-box",position:"relative",variants:[{props:{yearsPerRow:3},style:{columnGap:24}},{props:{yearsPerRow:4},style:{columnGap:0,padding:"0 2px"}}]}),yu=X("div",{name:"MuiYearCalendar",slot:"ButtonFiller"})({height:36,width:72}),bu=f.forwardRef(function(n,t){const r=gu(n,"MuiYearCalendar"),{autoFocus:s,className:o,classes:i,value:c,defaultValue:l,referenceDate:d,disabled:u,disableFuture:x,disablePast:y,maxDate:m,minDate:h,onChange:T,readOnly:p,shouldDisableYear:g,onYearFocus:w,hasFocus:M,onFocusedViewChange:D,yearsOrder:j,yearsPerRow:I,timezone:O,gridLabelId:b,slots:C,slotProps:R}=r,N=re(r,fu),{value:S,handleValueChange:z,timezone:L}=un({name:"YearCalendar",timezone:O,value:c,defaultValue:l,referenceDate:d,onChange:T,valueManager:pt}),E=kn(L),F=bt(),V=Ce(),{ownerState:ee}=Ge(),_=f.useMemo(()=>pt.getInitialReferenceValue({value:S,utils:V,props:r,timezone:L,referenceDate:d,granularity:ht.year}),[]),te=pu(i),W=f.useMemo(()=>V.getYear(E),[V,E]),le=f.useMemo(()=>S!=null?V.getYear(S):null,[S,V]),[Te,ye]=f.useState(()=>le||V.getYear(_)),[Se,ae]=Ut({name:"YearCalendar",state:"hasFocus",controlled:M,default:s??!1}),ge=H(Z=>{ae(Z),D&&D(Z)}),Me=f.useCallback(Z=>{if(y&&V.isBeforeYear(Z,E)||x&&V.isAfterYear(Z,E)||h&&V.isBeforeYear(Z,h)||m&&V.isAfterYear(Z,m))return!0;if(!g)return!1;const ie=V.startOfYear(Z);return g(ie)},[x,y,m,h,E,g,V]),ce=H((Z,ie)=>{if(p)return;const qe=V.setYear(S??_,ie);z(qe)}),ne=H(Z=>{Me(V.setYear(S??_,Z))||(ye(Z),ge(!0),w==null||w(Z))});f.useEffect(()=>{ye(Z=>le!==null&&Z!==le?le:Z)},[le]);const B=j!=="desc"?I*1:I*-1,K=F&&j==="asc"||!F&&j==="desc"?-1:1,$=H((Z,ie)=>{switch(Z.key){case"ArrowUp":ne(ie-B),Z.preventDefault();break;case"ArrowDown":ne(ie+B),Z.preventDefault();break;case"ArrowLeft":ne(ie-K),Z.preventDefault();break;case"ArrowRight":ne(ie+K),Z.preventDefault();break}}),se=H((Z,ie)=>{ne(ie)}),de=H((Z,ie)=>{Te===ie&&ge(!1)}),G=f.useRef(null),xe=nt(t,G);f.useEffect(()=>{if(s||G.current===null)return;const Z=G.current.querySelector('[tabindex="0"]');if(!Z)return;const ie=Z.offsetHeight,qe=Z.offsetTop,$e=G.current.clientHeight,et=G.current.scrollTop,Ze=qe+ie;ie>$e||qe<et||(G.current.scrollTop=Ze-$e/2-ie/2)},[s]);const U=V.getYearRange([h,m]);j==="desc"&&U.reverse();let oe=I-U.length%I;return oe===I&&(oe=0),a.jsxs(xu,v({ref:xe,className:Ye(te.root,o),ownerState:ee,role:"radiogroup","aria-labelledby":b,yearsPerRow:I},N,{children:[U.map(Z=>{const ie=V.getYear(Z),qe=ie===le,$e=u||Me(Z);return a.jsx(mu,{selected:qe,value:ie,onClick:ce,onKeyDown:$,autoFocus:Se&&ie===Te,disabled:$e,tabIndex:ie===Te&&!$e?0:-1,onFocus:se,onBlur:de,"aria-current":W===ie?"date":void 0,slots:C,slotProps:R,classes:i,children:V.format(Z,"year")},V.format(Z,"year"))}),Array.from({length:oe},(Z,ie)=>a.jsx(yu,{},ie))]}))}),wu=e=>Be("MuiPickersCalendarHeader",e),vu=Ve("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]);function Tu(e){return Be("MuiPickersArrowSwitcher",e)}Ve("MuiPickersArrowSwitcher",["root","spacer","button","previousIconButton","nextIconButton","leftArrowIcon","rightArrowIcon"]);const Du=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId","classes"],Pu=["ownerState"],Su=["ownerState"],Mu=X("div",{name:"MuiPickersArrowSwitcher",slot:"Root"})({display:"flex"}),Cu=X("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer"})(({theme:e})=>({width:e.spacing(3)})),ts=X(Mt,{name:"MuiPickersArrowSwitcher",slot:"Button"})({variants:[{props:{isButtonHidden:!0},style:{visibility:"hidden"}}]}),ku=e=>Oe({root:["root"],spacer:["spacer"],button:["button"],previousIconButton:["previousIconButton"],nextIconButton:["nextIconButton"],leftArrowIcon:["leftArrowIcon"],rightArrowIcon:["rightArrowIcon"]},Tu,e),Iu=f.forwardRef(function(n,t){const r=bt(),s=Re({props:n,name:"MuiPickersArrowSwitcher"}),{children:o,className:i,slots:c,slotProps:l,isNextDisabled:d,isNextHidden:u,onGoToNext:x,nextLabel:y,isPreviousDisabled:m,isPreviousHidden:h,onGoToPrevious:T,previousLabel:p,labelId:g,classes:w}=s,M=re(s,Du),{ownerState:D}=Ge(),j=ku(w),I={isDisabled:d,isHidden:u,goTo:x,label:y},O={isDisabled:m,isHidden:h,goTo:T,label:p},b=(c==null?void 0:c.previousIconButton)??ts,C=ve({elementType:b,externalSlotProps:l==null?void 0:l.previousIconButton,additionalProps:{size:"medium",title:O.label,"aria-label":O.label,disabled:O.isDisabled,edge:"end",onClick:O.goTo},ownerState:v({},D,{isButtonHidden:O.isHidden??!1}),className:Ye(j.button,j.previousIconButton)}),R=(c==null?void 0:c.nextIconButton)??ts,N=ve({elementType:R,externalSlotProps:l==null?void 0:l.nextIconButton,additionalProps:{size:"medium",title:I.label,"aria-label":I.label,disabled:I.isDisabled,edge:"start",onClick:I.goTo},ownerState:v({},D,{isButtonHidden:I.isHidden??!1}),className:Ye(j.button,j.nextIconButton)}),S=(c==null?void 0:c.leftArrowIcon)??ac,z=ve({elementType:S,externalSlotProps:l==null?void 0:l.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:j.leftArrowIcon}),L=re(z,Pu),E=(c==null?void 0:c.rightArrowIcon)??oc,F=ve({elementType:E,externalSlotProps:l==null?void 0:l.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:D,className:j.rightArrowIcon}),V=re(F,Su);return a.jsxs(Mu,v({ref:t,className:Ye(j.root,i),ownerState:D},M,{children:[a.jsx(b,v({},C,{children:r?a.jsx(E,v({},V)):a.jsx(S,v({},L))})),o?a.jsx(P,{variant:"subtitle1",component:"span",id:g,children:o}):a.jsx(Cu,{className:j.spacer,ownerState:D}),a.jsx(R,v({},N,{children:r?a.jsx(S,v({},L)):a.jsx(E,v({},V))}))]}))});function ju(e,{disableFuture:n,maxDate:t,timezone:r}){const s=Ce();return f.useMemo(()=>{const o=s.date(void 0,r),i=s.startOfMonth(n&&s.isBefore(o,t)?o:t);return!s.isAfter(i,e)},[n,t,e,s,r])}function Ou(e,{disablePast:n,minDate:t,timezone:r}){const s=Ce();return f.useMemo(()=>{const o=s.date(void 0,r),i=s.startOfMonth(n&&s.isAfter(o,t)?o:t);return!s.isBefore(i,e)},[n,t,e,s,r])}const Ru=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","classes","timezone","format"],Eu=["ownerState"],Au=e=>Oe({root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]},wu,e),Fu=X("div",{name:"MuiPickersCalendarHeader",slot:"Root"})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Nu=X("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer"})(({theme:e})=>v({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},e.typography.body1,{fontWeight:e.typography.fontWeightMedium})),Lu=X("div",{name:"MuiPickersCalendarHeader",slot:"Label"})({marginRight:6}),Vu=X(Mt,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton"})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${vu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Bu=X(sc,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon"})(({theme:e})=>({willChange:"transform",transition:e.transitions.create("transform"),transform:"rotate(0deg)"})),$u=f.forwardRef(function(n,t){const r=vt(),s=Ce(),o=Re({props:n,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:c,currentMonth:l,disabled:d,disableFuture:u,disablePast:x,maxDate:y,minDate:m,onMonthChange:h,onViewChange:T,view:p,reduceAnimations:g,views:w,labelId:M,className:D,classes:j,timezone:I,format:O=`${s.formats.month} ${s.formats.year}`}=o,b=re(o,Ru),{ownerState:C}=Ge(),R=Au(j),N=(i==null?void 0:i.switchViewButton)??Vu,S=ve({elementType:N,externalSlotProps:c==null?void 0:c.switchViewButton,additionalProps:{size:"small","aria-label":r.calendarViewSwitchingButtonAriaLabel(p)},ownerState:C,className:R.switchViewButton}),z=(i==null?void 0:i.switchViewIcon)??Bu,L=ve({elementType:z,externalSlotProps:c==null?void 0:c.switchViewIcon,ownerState:C,className:R.switchViewIcon}),E=re(L,Eu),F=()=>h(s.addMonths(l,1)),V=()=>h(s.addMonths(l,-1)),ee=ju(l,{disableFuture:u,maxDate:y,timezone:I}),_=Ou(l,{disablePast:x,minDate:m,timezone:I}),te=()=>{if(!(w.length===1||!T||d))if(w.length===2)T(w.find(le=>le!==p)||w[0]);else{const le=w.indexOf(p)!==0?0:1;T(w[le])}};if(w.length===1&&w[0]==="year")return null;const W=s.formatByString(l,O);return a.jsxs(Fu,v({},b,{ownerState:C,className:Ye(R.root,D),ref:t,children:[a.jsxs(Nu,{role:"presentation",onClick:te,ownerState:C,"aria-live":"polite",className:R.labelContainer,children:[a.jsx(Ta,{reduceAnimations:g,transKey:W,children:a.jsx(Lu,{id:M,ownerState:C,className:R.label,children:W})}),w.length>1&&!d&&a.jsx(N,v({},S,{children:a.jsx(z,v({},E))}))]}),a.jsx(Sn,{in:p==="day",appear:!g,enter:!g,children:a.jsx(Iu,{slots:i,slotProps:c,onGoToPrevious:V,isPreviousDisabled:_,previousLabel:r.previousMonth,onGoToNext:F,isNextDisabled:ee,nextLabel:r.nextMonth})})]}))}),zu=X("div")({overflow:"hidden",width:jn,maxHeight:mr,display:"flex",flexDirection:"column",margin:"0 auto"}),Wu=e=>Be("MuiDateCalendar",e);Ve("MuiDateCalendar",["root","viewTransitionContainer"]);const _u=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","classes","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsOrder","yearsPerRow","monthsPerRow","timezone"],Hu=e=>Oe({root:["root"],viewTransitionContainer:["viewTransitionContainer"]},Wu,e);function Yu(e,n){const t=Re({props:e,name:n}),r=Js(t.reduceAnimations),s=dn(t);return v({},t,s,{loading:t.loading??!1,openTo:t.openTo??"day",views:t.views??["year","day"],reduceAnimations:r,renderLoading:t.renderLoading??(()=>a.jsx("span",{children:"..."}))})}const Uu=X(zu,{name:"MuiDateCalendar",slot:"Root"})({display:"flex",flexDirection:"column",height:mr}),qu=X(Ta,{name:"MuiDateCalendar",slot:"ViewTransitionContainer"})({}),Gu=f.forwardRef(function(n,t){const r=Ce(),{ownerState:s}=Ge(),o=Mn(),i=Yu(n,"MuiDateCalendar"),{autoFocus:c,onViewChange:l,value:d,defaultValue:u,referenceDate:x,disableFuture:y,disablePast:m,onChange:h,onMonthChange:T,reduceAnimations:p,shouldDisableDate:g,shouldDisableMonth:w,shouldDisableYear:M,view:D,views:j,openTo:I,className:O,classes:b,disabled:C,readOnly:R,minDate:N,maxDate:S,disableHighlightToday:z,focusedView:L,onFocusedViewChange:E,showDaysOutsideCurrentMonth:F,fixedWeekNumber:V,dayOfWeekFormatter:ee,slots:_,slotProps:te,loading:W,renderLoading:le,displayWeekNumber:Te,yearsOrder:ye,yearsPerRow:Se,monthsPerRow:ae,timezone:ge}=i,Me=re(i,_u),{value:ce,handleValueChange:ne,timezone:B}=un({name:"DateCalendar",timezone:ge,value:d,defaultValue:u,referenceDate:x,onChange:h,valueManager:pt}),{view:K,setView:$,focusedView:se,setFocusedView:de,goToNextView:G,setValueAndGoToNextView:xe}=ta({view:D,views:j,openTo:I,onChange:ne,onViewChange:l,autoFocus:c,focusedView:L,onFocusedViewChange:E}),{referenceDate:U,calendarState:oe,setVisibleDate:Z,isDateDisabled:ie,onMonthSwitchingAnimationEnd:qe}=Dd({value:ce,referenceDate:x,reduceAnimations:p,onMonthChange:T,minDate:N,maxDate:S,shouldDisableDate:g,disablePast:m,disableFuture:y,timezone:B,getCurrentMonthFromVisibleDate:(pe,He)=>r.isSameMonth(pe,He)?He:r.startOfMonth(pe)}),$e=C&&ce||N,et=C&&ce||S,Ze=`${o}-grid-label`,ct=se!==null,Ot=(_==null?void 0:_.calendarHeader)??$u,Rt=ve({elementType:Ot,externalSlotProps:te==null?void 0:te.calendarHeader,additionalProps:{views:j,view:K,currentMonth:oe.currentMonth,onViewChange:$,onMonthChange:pe=>Z({target:pe,reason:"header-navigation"}),minDate:$e,maxDate:et,disabled:C,disablePast:m,disableFuture:y,reduceAnimations:p,timezone:B,labelId:Ze},ownerState:s}),ue=H(pe=>{const He=r.startOfMonth(pe),Je=r.endOfMonth(pe),ot=ie(pe)?sn({utils:r,date:pe,minDate:r.isBefore(N,He)?He:N,maxDate:r.isAfter(S,Je)?Je:S,disablePast:m,disableFuture:y,isDateDisabled:ie,timezone:B}):pe;ot?(xe(ot,"finish"),Z({target:ot,reason:"cell-interaction"})):(G(),Z({target:He,reason:"cell-interaction"}))}),me=H(pe=>{const He=r.startOfYear(pe),Je=r.endOfYear(pe),ot=ie(pe)?sn({utils:r,date:pe,minDate:r.isBefore(N,He)?He:N,maxDate:r.isAfter(S,Je)?Je:S,disablePast:m,disableFuture:y,isDateDisabled:ie,timezone:B}):pe;ot?(xe(ot,"finish"),Z({target:ot,reason:"cell-interaction"})):(G(),Z({target:He,reason:"cell-interaction"}))}),we=H(pe=>ne(pe&&vn(r,pe,ce??U),"finish",K));f.useEffect(()=>{r.isValid(ce)&&Z({target:ce,reason:"controlled-value-change"})},[ce]);const ke=Hu(b),Qe={disablePast:m,disableFuture:y,maxDate:S,minDate:N},ze={disableHighlightToday:z,readOnly:R,disabled:C,timezone:B,gridLabelId:Ze,slots:_,slotProps:te},rt=f.useRef(K);f.useEffect(()=>{rt.current!==K&&(se===rt.current&&de(K,!0),rt.current=K)},[se,de,K]);const _e=f.useMemo(()=>[ce],[ce]);return a.jsxs(Uu,v({ref:t,className:Ye(ke.root,O),ownerState:s},Me,{children:[a.jsx(Ot,v({},Rt,{slots:_,slotProps:te})),a.jsx(qu,{reduceAnimations:p,className:ke.viewTransitionContainer,transKey:K,ownerState:s,children:a.jsxs("div",{children:[K==="year"&&a.jsx(bu,v({},Qe,ze,{value:ce,onChange:me,shouldDisableYear:M,hasFocus:ct,onFocusedViewChange:pe=>de("year",pe),yearsOrder:ye,yearsPerRow:Se,referenceDate:U})),K==="month"&&a.jsx(cu,v({},Qe,ze,{hasFocus:ct,className:O,value:ce,onChange:ue,shouldDisableMonth:w,onFocusedViewChange:pe=>de("month",pe),monthsPerRow:ae,referenceDate:U})),K==="day"&&a.jsx(eu,v({},oe,Qe,ze,{onMonthSwitchingAnimationEnd:qe,hasFocus:ct,onFocusedDayChange:pe=>Z({target:pe,reason:"cell-interaction"}),reduceAnimations:p,selectedDays:_e,onSelectedDaysChange:we,shouldDisableDate:g,shouldDisableMonth:w,shouldDisableYear:M,onFocusedViewChange:pe=>de("day",pe),showDaysOutsideCurrentMonth:F,fixedWeekNumber:V,dayOfWeekFormatter:ee,displayWeekNumber:Te,loading:W,renderLoading:le}))]})})]}))}),_t=({view:e,onViewChange:n,views:t,focusedView:r,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:x,disablePast:y,minDate:m,maxDate:h,shouldDisableDate:T,shouldDisableMonth:p,shouldDisableYear:g,reduceAnimations:w,onMonthChange:M,monthsPerRow:D,onYearChange:j,yearsOrder:I,yearsPerRow:O,slots:b,slotProps:C,loading:R,renderLoading:N,disableHighlightToday:S,readOnly:z,disabled:L,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:F,sx:V,autoFocus:ee,fixedWeekNumber:_,displayWeekNumber:te,timezone:W})=>a.jsx(Gu,{view:e,onViewChange:n,views:t.filter(Br),focusedView:r&&Br(r)?r:null,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:c,onChange:l,className:d,classes:u,disableFuture:x,disablePast:y,minDate:m,maxDate:h,shouldDisableDate:T,shouldDisableMonth:p,shouldDisableYear:g,reduceAnimations:w,onMonthChange:M,monthsPerRow:D,onYearChange:j,yearsOrder:I,yearsPerRow:O,slots:b,slotProps:C,loading:R,renderLoading:N,disableHighlightToday:S,readOnly:z,disabled:L,showDaysOutsideCurrentMonth:E,dayOfWeekFormatter:F,sx:V,autoFocus:ee,fixedWeekNumber:_,displayWeekNumber:te,timezone:W}),Ia=f.forwardRef(function(n,t){var l;const r=Ce(),s=Zs(n,"MuiDesktopDatePicker"),o=v({day:_t,month:_t,year:_t},s.viewRenderers),i=v({},s,{closeOnSelect:s.closeOnSelect??!0,viewRenderers:o,format:ir(r,s,!1),yearsPerRow:s.yearsPerRow??4,slots:v({field:wa},s.slots),slotProps:v({},s.slotProps,{field:d=>{var u;return v({},wn((u=s.slotProps)==null?void 0:u.field,d),Qs(s))},toolbar:v({hidden:!0},(l=s.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:c}=od({ref:t,props:i,valueManager:pt,valueType:"date",validator:cn,steps:null});return c()});Ia.propTypes={autoFocus:k.bool,className:k.string,closeOnSelect:k.bool,dayOfWeekFormatter:k.func,defaultValue:k.object,disabled:k.bool,disableFuture:k.bool,disableHighlightToday:k.bool,disableOpenPicker:k.bool,disablePast:k.bool,displayWeekNumber:k.bool,enableAccessibleFieldDOMStructure:k.any,fixedWeekNumber:k.number,format:k.string,formatDensity:k.oneOf(["dense","spacious"]),inputRef:ks,label:k.node,loading:k.bool,localeText:k.object,maxDate:k.object,minDate:k.object,monthsPerRow:k.oneOf([3,4]),name:k.string,onAccept:k.func,onChange:k.func,onClose:k.func,onError:k.func,onMonthChange:k.func,onOpen:k.func,onSelectedSectionsChange:k.func,onViewChange:k.func,onYearChange:k.func,open:k.bool,openTo:k.oneOf(["day","month","year"]),orientation:k.oneOf(["landscape","portrait"]),readOnly:k.bool,reduceAnimations:k.bool,referenceDate:k.object,renderLoading:k.func,selectedSections:k.oneOfType([k.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),k.number]),shouldDisableDate:k.func,shouldDisableMonth:k.func,shouldDisableYear:k.func,showDaysOutsideCurrentMonth:k.bool,slotProps:k.object,slots:k.object,sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object]),timezone:k.string,value:k.object,view:k.oneOf(["day","month","year"]),viewRenderers:k.shape({day:k.func,month:k.func,year:k.func}),views:k.arrayOf(k.oneOf(["day","month","year"]).isRequired),yearsOrder:k.oneOf(["asc","desc"]),yearsPerRow:k.oneOf([3,4])};const Qu=X(ko)({[`& .${Ir.container}`]:{outline:0},[`& .${Ir.paper}`]:{outline:0,minWidth:jn}}),Xu=X(Io)({"&:first-of-type":{padding:0}});function Ku(e){const{children:n,slots:t,slotProps:r}=e,{open:s}=Gt(),{dismissViews:o}=Ge(),i=(t==null?void 0:t.dialog)??Qu,c=(t==null?void 0:t.mobileTransition)??Sn;return a.jsx(i,v({open:s,onClose:o},r==null?void 0:r.dialog,{TransitionComponent:c,TransitionProps:r==null?void 0:r.mobileTransition,PaperComponent:t==null?void 0:t.mobilePaper,PaperProps:r==null?void 0:r.mobilePaper,children:a.jsx(Xu,{children:n})}))}const Zu=["props","steps"],Ju=["ownerState"],eh=e=>{var I;let{props:n,steps:t}=e,r=re(e,Zu);const{slots:s,slotProps:o,label:i,inputRef:c,localeText:l}=n,d=pa({steps:t}),{providerProps:u,renderCurrentView:x,ownerState:y}=na(v({},r,{props:n,localeText:l,autoFocusView:!0,viewContainerRole:"dialog",variant:"mobile",getStepNavigation:d})),m=u.privateContextValue.labelId,h=((I=o==null?void 0:o.toolbar)==null?void 0:I.hidden)??!1,T=s.field,p=ve({elementType:T,externalSlotProps:o==null?void 0:o.field,additionalProps:v({},h&&{id:m}),ownerState:y}),g=re(p,Ju),w=s.layout??sa;let M=m;h&&(i?M=`${m}-label`:M=void 0);const D=v({},o,{toolbar:v({},o==null?void 0:o.toolbar,{titleId:m}),mobilePaper:v({"aria-labelledby":M},o==null?void 0:o.mobilePaper)});return{renderPicker:()=>a.jsx(Ys,v({},u,{children:a.jsxs(fa,{slots:s,slotProps:D,inputRef:c,children:[a.jsx(T,v({},g)),a.jsx(Ku,{slots:s,slotProps:D,children:a.jsx(w,v({},D==null?void 0:D.layout,{slots:s,slotProps:D,children:x()}))})]})}))}},ja=f.forwardRef(function(n,t){var l;const r=Ce(),s=Zs(n,"MuiMobileDatePicker"),o=v({day:_t,month:_t,year:_t},s.viewRenderers),i=v({},s,{viewRenderers:o,format:ir(r,s,!1),slots:v({field:wa},s.slots),slotProps:v({},s.slotProps,{field:d=>{var u;return v({},wn((u=s.slotProps)==null?void 0:u.field,d),Qs(s))},toolbar:v({hidden:!1},(l=s.slotProps)==null?void 0:l.toolbar)})}),{renderPicker:c}=eh({ref:t,props:i,valueManager:pt,valueType:"date",validator:cn,steps:null});return c()});ja.propTypes={autoFocus:k.bool,className:k.string,closeOnSelect:k.bool,dayOfWeekFormatter:k.func,defaultValue:k.object,disabled:k.bool,disableFuture:k.bool,disableHighlightToday:k.bool,disableOpenPicker:k.bool,disablePast:k.bool,displayWeekNumber:k.bool,enableAccessibleFieldDOMStructure:k.any,fixedWeekNumber:k.number,format:k.string,formatDensity:k.oneOf(["dense","spacious"]),inputRef:ks,label:k.node,loading:k.bool,localeText:k.object,maxDate:k.object,minDate:k.object,monthsPerRow:k.oneOf([3,4]),name:k.string,onAccept:k.func,onChange:k.func,onClose:k.func,onError:k.func,onMonthChange:k.func,onOpen:k.func,onSelectedSectionsChange:k.func,onViewChange:k.func,onYearChange:k.func,open:k.bool,openTo:k.oneOf(["day","month","year"]),orientation:k.oneOf(["landscape","portrait"]),readOnly:k.bool,reduceAnimations:k.bool,referenceDate:k.object,renderLoading:k.func,selectedSections:k.oneOfType([k.oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),k.number]),shouldDisableDate:k.func,shouldDisableMonth:k.func,shouldDisableYear:k.func,showDaysOutsideCurrentMonth:k.bool,slotProps:k.object,slots:k.object,sx:k.oneOfType([k.arrayOf(k.oneOfType([k.func,k.object,k.bool])),k.func,k.object]),timezone:k.string,value:k.object,view:k.oneOf(["day","month","year"]),viewRenderers:k.shape({day:k.func,month:k.func,year:k.func}),views:k.arrayOf(k.oneOf(["day","month","year"]).isRequired),yearsOrder:k.oneOf(["asc","desc"]),yearsPerRow:k.oneOf([3,4])};const th=["desktopModeMediaQuery"],ns=f.forwardRef(function(n,t){const r=Re({props:n,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=Cl}=r,o=re(r,th);return fs(s,{defaultMatches:!0})?a.jsx(Ia,v({ref:t},o)):a.jsx(ja,v({ref:t},o))}),Oa=6048e5,nh=864e5,Ra=6e4,Ea=36e5,rh=1e3,rs=Symbol.for("constructDateFrom");function Ie(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&rs in e?e[rs](n):e instanceof Date?new e.constructor(n):new Date(n)}function J(e,n){return Ie(n||e,e)}function En(e,n,t){const r=J(e,t==null?void 0:t.in);return isNaN(n)?Ie((t==null?void 0:t.in)||e,NaN):(n&&r.setDate(r.getDate()+n),r)}function Aa(e,n,t){return Ie(e,+J(e)+n)}function sh(e,n,t){return Aa(e,n*1e3)}function ah(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setTime(r.getTime()+n*Ra),r}function oh(e,n,t){return Aa(e,n*Ea)}function ih(e,n,t){return En(e,n*7,t)}function Fa(e,n,t){const r=J(e,t==null?void 0:t.in);if(isNaN(n))return Ie(e,NaN);if(!n)return r;const s=r.getDate(),o=Ie(e,r.getTime());o.setMonth(r.getMonth()+n+1,0);const i=o.getDate();return s>=i?o:(r.setFullYear(o.getFullYear(),o.getMonth(),s),r)}function lh(e,n,t){return Fa(e,n*12,t)}function ss(e,n){const t=J(e,n==null?void 0:n.in);return t.setHours(23,59,59,999),t}let ch={};function jt(){return ch}function dh(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.weekStartsOn)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=J(e,n==null?void 0:n.in),o=s.getDay(),i=(o<r?-7:0)+6-(o-r);return s.setDate(s.getDate()+i),s.setHours(23,59,59,999),s}function as(e,n){const t=J(e,n==null?void 0:n.in),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t}const uh={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hh=(e,n,t)=>{let r;const s=uh[e];return typeof s=="string"?r=s:n===1?r=s.one:r=s.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function Yn(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const mh={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},fh={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ph={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gh={date:Yn({formats:mh,defaultWidth:"full"}),time:Yn({formats:fh,defaultWidth:"full"}),dateTime:Yn({formats:ph,defaultWidth:"full"})},xh={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yh=(e,n,t,r)=>xh[e];function nn(e){return(n,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,c=t!=null&&t.width?String(t.width):i;s=e.formattingValues[c]||e.formattingValues[i]}else{const i=e.defaultWidth,c=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[c]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(n):n;return s[o]}}const bh={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wh={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},vh={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Th={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Dh={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ph={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Sh=(e,n)=>{const t=Number(e),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Mh={ordinalNumber:Sh,era:nn({values:bh,defaultWidth:"wide"}),quarter:nn({values:wh,defaultWidth:"wide",argumentCallback:e=>e-1}),month:nn({values:vh,defaultWidth:"wide"}),day:nn({values:Th,defaultWidth:"wide"}),dayPeriod:nn({values:Dh,defaultWidth:"wide",formattingValues:Ph,defaultFormattingWidth:"wide"})};function rn(e){return(n,t={})=>{const r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=n.match(s);if(!o)return null;const i=o[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?kh(c,x=>x.test(i)):Ch(c,x=>x.test(i));let d;d=e.valueCallback?e.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const u=n.slice(i.length);return{value:d,rest:u}}}function Ch(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function kh(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Ih(e){return(n,t={})=>{const r=n.match(e.matchPattern);if(!r)return null;const s=r[0],o=n.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=t.valueCallback?t.valueCallback(i):i;const c=n.slice(s.length);return{value:i,rest:c}}}const jh=/^(\d+)(th|st|nd|rd)?/i,Oh=/\d+/i,Rh={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Eh={any:[/^b/i,/^(a|c)/i]},Ah={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fh={any:[/1/i,/2/i,/3/i,/4/i]},Nh={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lh={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vh={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Bh={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$h={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zh={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wh={ordinalNumber:Ih({matchPattern:jh,parsePattern:Oh,valueCallback:e=>parseInt(e,10)}),era:rn({matchPatterns:Rh,defaultMatchWidth:"wide",parsePatterns:Eh,defaultParseWidth:"any"}),quarter:rn({matchPatterns:Ah,defaultMatchWidth:"wide",parsePatterns:Fh,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rn({matchPatterns:Nh,defaultMatchWidth:"wide",parsePatterns:Lh,defaultParseWidth:"any"}),day:rn({matchPatterns:Vh,defaultMatchWidth:"wide",parsePatterns:Bh,defaultParseWidth:"any"}),dayPeriod:rn({matchPatterns:$h,defaultMatchWidth:"any",parsePatterns:zh,defaultParseWidth:"any"})},br={code:"en-US",formatDistance:hh,formatLong:gh,formatRelative:yh,localize:Mh,match:Wh,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tn(e){const n=J(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function hn(e,...n){const t=Ie.bind(null,n.find(r=>typeof r=="object"));return n.map(t)}function on(e,n){const t=J(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function _h(e,n,t){const[r,s]=hn(t==null?void 0:t.in,e,n),o=on(r),i=on(s),c=+o-Tn(o),l=+i-Tn(i);return Math.round((c-l)/nh)}function Na(e,n){const t=J(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}function Hh(e,n){const t=J(e,n==null?void 0:n.in);return _h(t,Na(t))+1}function xt(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.weekStartsOn)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=J(e,n==null?void 0:n.in),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function qt(e,n){return xt(e,{...n,weekStartsOn:1})}function La(e,n){const t=J(e,n==null?void 0:n.in),r=t.getFullYear(),s=Ie(t,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const o=qt(s),i=Ie(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const c=qt(i);return t.getTime()>=o.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}function Yh(e,n){const t=La(e,n),r=Ie(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),qt(r)}function Va(e,n){const t=J(e,n==null?void 0:n.in),r=+qt(t)-+Yh(t);return Math.round(r/Oa)+1}function wr(e,n){var u,x,y,m;const t=J(e,n==null?void 0:n.in),r=t.getFullYear(),s=jt(),o=(n==null?void 0:n.firstWeekContainsDate)??((x=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(y=s.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??1,i=Ie((n==null?void 0:n.in)||e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const c=xt(i,n),l=Ie((n==null?void 0:n.in)||e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const d=xt(l,n);return+t>=+c?r+1:+t>=+d?r:r-1}function Uh(e,n){var c,l,d,u;const t=jt(),r=(n==null?void 0:n.firstWeekContainsDate)??((l=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((u=(d=t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=wr(e,n),o=Ie((n==null?void 0:n.in)||e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),xt(o,n)}function vr(e,n){const t=J(e,n==null?void 0:n.in),r=+xt(t,n)-+Uh(t,n);return Math.round(r/Oa)+1}function De(e,n){const t=e<0?"-":"",r=Math.abs(e).toString().padStart(n,"0");return t+r}const wt={y(e,n){const t=e.getFullYear(),r=t>0?t:1-t;return De(n==="yy"?r%100:r,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):De(t+1,2)},d(e,n){return De(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return De(e.getHours()%12||12,n.length)},H(e,n){return De(e.getHours(),n.length)},m(e,n){return De(e.getMinutes(),n.length)},s(e,n){return De(e.getSeconds(),n.length)},S(e,n){const t=n.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,t-3));return De(s,n.length)}},Lt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},os={G:function(e,n,t){const r=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return t.ordinalNumber(s,{unit:"year"})}return wt.y(e,n)},Y:function(e,n,t,r){const s=wr(e,r),o=s>0?s:1-s;if(n==="YY"){const i=o%100;return De(i,2)}return n==="Yo"?t.ordinalNumber(o,{unit:"year"}):De(o,n.length)},R:function(e,n){const t=La(e);return De(t,n.length)},u:function(e,n){const t=e.getFullYear();return De(t,n.length)},Q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(r);case"QQ":return De(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,n,t){const r=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(r);case"qq":return De(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,n,t){const r=e.getMonth();switch(n){case"M":case"MM":return wt.M(e,n);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(e,n,t){const r=e.getMonth();switch(n){case"L":return String(r+1);case"LL":return De(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(e,n,t,r){const s=vr(e,r);return n==="wo"?t.ordinalNumber(s,{unit:"week"}):De(s,n.length)},I:function(e,n,t){const r=Va(e);return n==="Io"?t.ordinalNumber(r,{unit:"week"}):De(r,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):wt.d(e,n)},D:function(e,n,t){const r=Hh(e);return n==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):De(r,n.length)},E:function(e,n,t){const r=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(e,n,t,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return De(o,2);case"eo":return t.ordinalNumber(o,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(e,n,t,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return De(o,n.length);case"co":return t.ordinalNumber(o,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(e,n,t){const r=e.getDay(),s=r===0?7:r;switch(n){case"i":return String(s);case"ii":return De(s,n.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(e,n,t){const s=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,n,t){const r=e.getHours();let s;switch(r===12?s=Lt.noon:r===0?s=Lt.midnight:s=r/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,n,t){const r=e.getHours();let s;switch(r>=17?s=Lt.evening:r>=12?s=Lt.afternoon:r>=4?s=Lt.morning:s=Lt.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let r=e.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return wt.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):wt.H(e,n)},K:function(e,n,t){const r=e.getHours()%12;return n==="Ko"?t.ordinalNumber(r,{unit:"hour"}):De(r,n.length)},k:function(e,n,t){let r=e.getHours();return r===0&&(r=24),n==="ko"?t.ordinalNumber(r,{unit:"hour"}):De(r,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):wt.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):wt.s(e,n)},S:function(e,n){return wt.S(e,n)},X:function(e,n,t){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(n){case"X":return ls(r);case"XXXX":case"XX":return St(r);case"XXXXX":case"XXX":default:return St(r,":")}},x:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"x":return ls(r);case"xxxx":case"xx":return St(r);case"xxxxx":case"xxx":default:return St(r,":")}},O:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+is(r,":");case"OOOO":default:return"GMT"+St(r,":")}},z:function(e,n,t){const r=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+is(r,":");case"zzzz":default:return"GMT"+St(r,":")}},t:function(e,n,t){const r=Math.trunc(+e/1e3);return De(r,n.length)},T:function(e,n,t){return De(+e,n.length)}};function is(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?t+String(s):t+String(s)+n+De(o,2)}function ls(e,n){return e%60===0?(e>0?"-":"+")+De(Math.abs(e)/60,2):St(e,n)}function St(e,n=""){const t=e>0?"-":"+",r=Math.abs(e),s=De(Math.trunc(r/60),2),o=De(r%60,2);return t+s+n+o}const cs=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Ba=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},qh=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],r=t[1],s=t[2];if(!s)return cs(e,n);let o;switch(r){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",cs(r,n)).replace("{{time}}",Ba(s,n))},Dn={p:Ba,P:qh},Gh=/^D+$/,Qh=/^Y+$/,Xh=["D","DD","YY","YYYY"];function $a(e){return Gh.test(e)}function za(e){return Qh.test(e)}function er(e,n,t){const r=Kh(e,n,t);if(console.warn(r),Xh.includes(e))throw new RangeError(r)}function Kh(e,n,t){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function Zh(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Wa(e){return!(!Zh(e)&&typeof e!="number"||isNaN(+J(e)))}const Jh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,em=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tm=/^'([^]*?)'?$/,nm=/''/g,rm=/[a-zA-Z]/;function sm(e,n,t){var u,x,y,m,h,T,p,g;const r=jt(),s=(t==null?void 0:t.locale)??r.locale??br,o=(t==null?void 0:t.firstWeekContainsDate)??((x=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:x.firstWeekContainsDate)??r.firstWeekContainsDate??((m=(y=r.locale)==null?void 0:y.options)==null?void 0:m.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((T=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:T.weekStartsOn)??r.weekStartsOn??((g=(p=r.locale)==null?void 0:p.options)==null?void 0:g.weekStartsOn)??0,c=J(e,t==null?void 0:t.in);if(!Wa(c))throw new RangeError("Invalid time value");let l=n.match(em).map(w=>{const M=w[0];if(M==="p"||M==="P"){const D=Dn[M];return D(w,s.formatLong)}return w}).join("").match(Jh).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const M=w[0];if(M==="'")return{isToken:!1,value:am(w)};if(os[M])return{isToken:!0,value:w};if(M.match(rm))throw new RangeError("Format string contains an unescaped latin alphabet character `"+M+"`");return{isToken:!1,value:w}});s.localize.preprocessor&&(l=s.localize.preprocessor(c,l));const d={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(w=>{if(!w.isToken)return w.value;const M=w.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&za(M)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&$a(M))&&er(M,n,String(e));const D=os[M[0]];return D(c,M,s.localize,d)}).join("")}function am(e){const n=e.match(tm);return n?n[1].replace(nm,"'"):e}function om(e,n){return J(e,n==null?void 0:n.in).getDate()}function _a(e,n){const t=J(e,n==null?void 0:n.in),r=t.getFullYear(),s=t.getMonth(),o=Ie(t,0);return o.setFullYear(r,s+1,0),o.setHours(0,0,0,0),o.getDate()}function im(e,n){return J(e,n==null?void 0:n.in).getHours()}function lm(e,n){return J(e,n==null?void 0:n.in).getMinutes()}function cm(e,n){return J(e,n==null?void 0:n.in).getMonth()}function dm(e){return J(e).getSeconds()}function um(e){return J(e).getMilliseconds()}function hm(e,n){return J(e,n==null?void 0:n.in).getFullYear()}function Un(e,n){return+J(e)>+J(n)}function qn(e,n){return+J(e)<+J(n)}function mm(e,n){return+J(e)==+J(n)}function fm(e,n,t){const[r,s]=hn(t==null?void 0:t.in,e,n);return+on(r)==+on(s)}function pm(e,n,t){const[r,s]=hn(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()}function gm(e,n,t){const[r,s]=hn(t==null?void 0:t.in,e,n);return r.getFullYear()===s.getFullYear()&&r.getMonth()===s.getMonth()}function ds(e,n){const t=J(e,n==null?void 0:n.in);return t.setMinutes(0,0,0),t}function xm(e,n,t){const[r,s]=hn(t==null?void 0:t.in,e,n);return+ds(r)==+ds(s)}function ym(){return Object.assign({},jt())}function bm(e,n){const t=wm(n)?new n(0):Ie(n,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}function wm(e){var n;return typeof e=="function"&&((n=e.prototype)==null?void 0:n.constructor)===e}const vm=10;class Ha{constructor(){Y(this,"subPriority",0)}validate(n,t){return!0}}class Tm extends Ha{constructor(n,t,r,s,o){super(),this.value=n,this.validateValue=t,this.setValue=r,this.priority=s,o&&(this.subPriority=o)}validate(n,t){return this.validateValue(n,this.value,t)}set(n,t,r){return this.setValue(n,t,this.value,r)}}class Dm extends Ha{constructor(t,r){super();Y(this,"priority",vm);Y(this,"subPriority",-1);this.context=t||(s=>Ie(r,s))}set(t,r){return r.timestampIsSet?t:Ie(t,bm(t,this.context))}}class be{run(n,t,r,s){const o=this.parse(n,t,r,s);return o?{setter:new Tm(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(n,t,r){return!0}}class Pm extends be{constructor(){super(...arguments);Y(this,"priority",140);Y(this,"incompatibleTokens",["R","u","t","T"])}parse(t,r,s){switch(r){case"G":case"GG":case"GGG":return s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"});case"GGGGG":return s.era(t,{width:"narrow"});case"GGGG":default:return s.era(t,{width:"wide"})||s.era(t,{width:"abbreviated"})||s.era(t,{width:"narrow"})}}set(t,r,s){return r.era=s,t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}const Fe={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},mt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ne(e,n){return e&&{value:n(e.value),rest:e.rest}}function je(e,n){const t=n.match(e);return t?{value:parseInt(t[0],10),rest:n.slice(t[0].length)}:null}function ft(e,n){const t=n.match(e);if(!t)return null;if(t[0]==="Z")return{value:0,rest:n.slice(1)};const r=t[1]==="+"?1:-1,s=t[2]?parseInt(t[2],10):0,o=t[3]?parseInt(t[3],10):0,i=t[5]?parseInt(t[5],10):0;return{value:r*(s*Ea+o*Ra+i*rh),rest:n.slice(t[0].length)}}function Ya(e){return je(Fe.anyDigitsSigned,e)}function Ee(e,n){switch(e){case 1:return je(Fe.singleDigit,n);case 2:return je(Fe.twoDigits,n);case 3:return je(Fe.threeDigits,n);case 4:return je(Fe.fourDigits,n);default:return je(new RegExp("^\\d{1,"+e+"}"),n)}}function Pn(e,n){switch(e){case 1:return je(Fe.singleDigitSigned,n);case 2:return je(Fe.twoDigitsSigned,n);case 3:return je(Fe.threeDigitsSigned,n);case 4:return je(Fe.fourDigitsSigned,n);default:return je(new RegExp("^-?\\d{1,"+e+"}"),n)}}function Tr(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Ua(e,n){const t=n>0,r=t?n:1-n;let s;if(r<=50)s=e||100;else{const o=r+50,i=Math.trunc(o/100)*100,c=e>=o%100;s=e+i-(c?100:0)}return t?s:1-s}function qa(e){return e%400===0||e%4===0&&e%100!==0}class Sm extends be{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,r,s){const o=i=>({year:i,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ne(Ee(4,t),o);case"yo":return Ne(s.ordinalNumber(t,{unit:"year"}),o);default:return Ne(Ee(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s){const o=t.getFullYear();if(s.isTwoDigitYear){const c=Ua(s.year,o);return t.setFullYear(c,0,1),t.setHours(0,0,0,0),t}const i=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}}class Mm extends be{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,r,s){const o=i=>({year:i,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ne(Ee(4,t),o);case"Yo":return Ne(s.ordinalNumber(t,{unit:"year"}),o);default:return Ne(Ee(r.length,t),o)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,s,o){const i=wr(t,o);if(s.isTwoDigitYear){const l=Ua(s.year,i);return t.setFullYear(l,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),xt(t,o)}const c=!("era"in r)||r.era===1?s.year:1-s.year;return t.setFullYear(c,0,o.firstWeekContainsDate),t.setHours(0,0,0,0),xt(t,o)}}class Cm extends be{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,r){return Pn(r==="R"?4:r.length,t)}set(t,r,s){const o=Ie(t,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),qt(o)}}class km extends be{constructor(){super(...arguments);Y(this,"priority",130);Y(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,r){return Pn(r==="u"?4:r.length,t)}set(t,r,s){return t.setFullYear(s,0,1),t.setHours(0,0,0,0),t}}class Im extends be{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"Q":case"QQ":return Ee(r.length,t);case"Qo":return s.ordinalNumber(t,{unit:"quarter"});case"QQQ":return s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(t,{width:"wide",context:"formatting"})||s.quarter(t,{width:"abbreviated",context:"formatting"})||s.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class jm extends be{constructor(){super(...arguments);Y(this,"priority",120);Y(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"q":case"qq":return Ee(r.length,t);case"qo":return s.ordinalNumber(t,{unit:"quarter"});case"qqq":return s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(t,{width:"wide",context:"standalone"})||s.quarter(t,{width:"abbreviated",context:"standalone"})||s.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,s){return t.setMonth((s-1)*3,1),t.setHours(0,0,0,0),t}}class Om extends be{constructor(){super(...arguments);Y(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Y(this,"priority",110)}parse(t,r,s){const o=i=>i-1;switch(r){case"M":return Ne(je(Fe.month,t),o);case"MM":return Ne(Ee(2,t),o);case"Mo":return Ne(s.ordinalNumber(t,{unit:"month"}),o);case"MMM":return s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(t,{width:"wide",context:"formatting"})||s.month(t,{width:"abbreviated",context:"formatting"})||s.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}class Rm extends be{constructor(){super(...arguments);Y(this,"priority",110);Y(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,r,s){const o=i=>i-1;switch(r){case"L":return Ne(je(Fe.month,t),o);case"LL":return Ne(Ee(2,t),o);case"Lo":return Ne(s.ordinalNumber(t,{unit:"month"}),o);case"LLL":return s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(t,{width:"wide",context:"standalone"})||s.month(t,{width:"abbreviated",context:"standalone"})||s.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.setMonth(s,1),t.setHours(0,0,0,0),t}}function Em(e,n,t){const r=J(e,t==null?void 0:t.in),s=vr(r,t)-n;return r.setDate(r.getDate()-s*7),J(r,t==null?void 0:t.in)}class Am extends be{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,r,s){switch(r){case"w":return je(Fe.week,t);case"wo":return s.ordinalNumber(t,{unit:"week"});default:return Ee(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s,o){return xt(Em(t,s,o),o)}}function Fm(e,n,t){const r=J(e,t==null?void 0:t.in),s=Va(r,t)-n;return r.setDate(r.getDate()-s*7),r}class Nm extends be{constructor(){super(...arguments);Y(this,"priority",100);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,r,s){switch(r){case"I":return je(Fe.week,t);case"Io":return s.ordinalNumber(t,{unit:"week"});default:return Ee(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,s){return qt(Fm(t,s))}}const Lm=[31,28,31,30,31,30,31,31,30,31,30,31],Vm=[31,29,31,30,31,30,31,31,30,31,30,31];class Bm extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subPriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"d":return je(Fe.date,t);case"do":return s.ordinalNumber(t,{unit:"date"});default:return Ee(r.length,t)}}validate(t,r){const s=t.getFullYear(),o=qa(s),i=t.getMonth();return o?r>=1&&r<=Vm[i]:r>=1&&r<=Lm[i]}set(t,r,s){return t.setDate(s),t.setHours(0,0,0,0),t}}class $m extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"subpriority",1);Y(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,r,s){switch(r){case"D":case"DD":return je(Fe.dayOfYear,t);case"Do":return s.ordinalNumber(t,{unit:"date"});default:return Ee(r.length,t)}}validate(t,r){const s=t.getFullYear();return qa(s)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,s){return t.setMonth(0,s),t.setHours(0,0,0,0),t}}function Dr(e,n,t){var x,y,m,h;const r=jt(),s=(t==null?void 0:t.weekStartsOn)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((h=(m=r.locale)==null?void 0:m.options)==null?void 0:h.weekStartsOn)??0,o=J(e,t==null?void 0:t.in),i=o.getDay(),l=(n%7+7)%7,d=7-s,u=n<0||n>6?n-(i+d)%7:(l+d)%7-(i+d)%7;return En(o,u,t)}class zm extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,r,s){switch(r){case"E":case"EE":case"EEE":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Dr(t,s,o),t.setHours(0,0,0,0),t}}class Wm extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,r,s,o){const i=c=>{const l=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Ne(Ee(r.length,t),i);case"eo":return Ne(s.ordinalNumber(t,{unit:"day"}),i);case"eee":return s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeeee":return s.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Dr(t,s,o),t.setHours(0,0,0,0),t}}class _m extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,r,s,o){const i=c=>{const l=Math.floor((c-1)/7)*7;return(c+o.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Ne(Ee(r.length,t),i);case"co":return Ne(s.ordinalNumber(t,{unit:"day"}),i);case"ccc":return s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"ccccc":return s.day(t,{width:"narrow",context:"standalone"});case"cccccc":return s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(t,{width:"wide",context:"standalone"})||s.day(t,{width:"abbreviated",context:"standalone"})||s.day(t,{width:"short",context:"standalone"})||s.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,s,o){return t=Dr(t,s,o),t.setHours(0,0,0,0),t}}function Hm(e,n){const t=J(e,n==null?void 0:n.in).getDay();return t===0?7:t}function Ym(e,n,t){const r=J(e,t==null?void 0:t.in),s=Hm(r,t),o=n-s;return En(r,o,t)}class Um extends be{constructor(){super(...arguments);Y(this,"priority",90);Y(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,r,s){const o=i=>i===0?7:i;switch(r){case"i":case"ii":return Ee(r.length,t);case"io":return s.ordinalNumber(t,{unit:"day"});case"iii":return Ne(s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiii":return Ne(s.day(t,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Ne(s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Ne(s.day(t,{width:"wide",context:"formatting"})||s.day(t,{width:"abbreviated",context:"formatting"})||s.day(t,{width:"short",context:"formatting"})||s.day(t,{width:"narrow",context:"formatting"}),o)}}validate(t,r){return r>=1&&r<=7}set(t,r,s){return t=Ym(t,s),t.setHours(0,0,0,0),t}}class qm extends be{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,r,s){switch(r){case"a":case"aa":case"aaa":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Tr(s),0,0,0),t}}class Gm extends be{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,r,s){switch(r){case"b":case"bb":case"bbb":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Tr(s),0,0,0),t}}class Qm extends be{constructor(){super(...arguments);Y(this,"priority",80);Y(this,"incompatibleTokens",["a","b","t","T"])}parse(t,r,s){switch(r){case"B":case"BB":case"BBB":return s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(t,{width:"wide",context:"formatting"})||s.dayPeriod(t,{width:"abbreviated",context:"formatting"})||s.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,s){return t.setHours(Tr(s),0,0,0),t}}class Xm extends be{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,r,s){switch(r){case"h":return je(Fe.hour12h,t);case"ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ee(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,s){const o=t.getHours()>=12;return o&&s<12?t.setHours(s+12,0,0,0):!o&&s===12?t.setHours(0,0,0,0):t.setHours(s,0,0,0),t}}class Km extends be{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,r,s){switch(r){case"H":return je(Fe.hour23h,t);case"Ho":return s.ordinalNumber(t,{unit:"hour"});default:return Ee(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,s){return t.setHours(s,0,0,0),t}}class Zm extends be{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,r,s){switch(r){case"K":return je(Fe.hour11h,t);case"Ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ee(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,s){return t.getHours()>=12&&s<12?t.setHours(s+12,0,0,0):t.setHours(s,0,0,0),t}}class Jm extends be{constructor(){super(...arguments);Y(this,"priority",70);Y(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,r,s){switch(r){case"k":return je(Fe.hour24h,t);case"ko":return s.ordinalNumber(t,{unit:"hour"});default:return Ee(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,s){const o=s<=24?s%24:s;return t.setHours(o,0,0,0),t}}class ef extends be{constructor(){super(...arguments);Y(this,"priority",60);Y(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"m":return je(Fe.minute,t);case"mo":return s.ordinalNumber(t,{unit:"minute"});default:return Ee(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setMinutes(s,0,0),t}}class tf extends be{constructor(){super(...arguments);Y(this,"priority",50);Y(this,"incompatibleTokens",["t","T"])}parse(t,r,s){switch(r){case"s":return je(Fe.second,t);case"so":return s.ordinalNumber(t,{unit:"second"});default:return Ee(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,s){return t.setSeconds(s,0),t}}class nf extends be{constructor(){super(...arguments);Y(this,"priority",30);Y(this,"incompatibleTokens",["t","T"])}parse(t,r){const s=o=>Math.trunc(o*Math.pow(10,-r.length+3));return Ne(Ee(r.length,t),s)}set(t,r,s){return t.setMilliseconds(s),t}}class rf extends be{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","x"])}parse(t,r){switch(r){case"X":return ft(mt.basicOptionalMinutes,t);case"XX":return ft(mt.basic,t);case"XXXX":return ft(mt.basicOptionalSeconds,t);case"XXXXX":return ft(mt.extendedOptionalSeconds,t);case"XXX":default:return ft(mt.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Ie(t,t.getTime()-Tn(t)-s)}}class sf extends be{constructor(){super(...arguments);Y(this,"priority",10);Y(this,"incompatibleTokens",["t","T","X"])}parse(t,r){switch(r){case"x":return ft(mt.basicOptionalMinutes,t);case"xx":return ft(mt.basic,t);case"xxxx":return ft(mt.basicOptionalSeconds,t);case"xxxxx":return ft(mt.extendedOptionalSeconds,t);case"xxx":default:return ft(mt.extended,t)}}set(t,r,s){return r.timestampIsSet?t:Ie(t,t.getTime()-Tn(t)-s)}}class af extends be{constructor(){super(...arguments);Y(this,"priority",40);Y(this,"incompatibleTokens","*")}parse(t){return Ya(t)}set(t,r,s){return[Ie(t,s*1e3),{timestampIsSet:!0}]}}class of extends be{constructor(){super(...arguments);Y(this,"priority",20);Y(this,"incompatibleTokens","*")}parse(t){return Ya(t)}set(t,r,s){return[Ie(t,s),{timestampIsSet:!0}]}}const lf={G:new Pm,y:new Sm,Y:new Mm,R:new Cm,u:new km,Q:new Im,q:new jm,M:new Om,L:new Rm,w:new Am,I:new Nm,d:new Bm,D:new $m,E:new zm,e:new Wm,c:new _m,i:new Um,a:new qm,b:new Gm,B:new Qm,h:new Xm,H:new Km,K:new Zm,k:new Jm,m:new ef,s:new tf,S:new nf,X:new rf,x:new sf,t:new af,T:new of},cf=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,df=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uf=/^'([^]*?)'?$/,hf=/''/g,mf=/\S/,ff=/[a-zA-Z]/;function pf(e,n,t,r){var p,g,w,M,D,j,I,O;const s=()=>Ie((r==null?void 0:r.in)||t,NaN),o=ym(),i=(r==null?void 0:r.locale)??o.locale??br,c=(r==null?void 0:r.firstWeekContainsDate)??((g=(p=r==null?void 0:r.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??o.firstWeekContainsDate??((M=(w=o.locale)==null?void 0:w.options)==null?void 0:M.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((j=(D=r==null?void 0:r.locale)==null?void 0:D.options)==null?void 0:j.weekStartsOn)??o.weekStartsOn??((O=(I=o.locale)==null?void 0:I.options)==null?void 0:O.weekStartsOn)??0;if(!n)return e?s():J(t,r==null?void 0:r.in);const d={firstWeekContainsDate:c,weekStartsOn:l,locale:i},u=[new Dm(r==null?void 0:r.in,t)],x=n.match(df).map(b=>{const C=b[0];if(C in Dn){const R=Dn[C];return R(b,i.formatLong)}return b}).join("").match(cf),y=[];for(let b of x){!(r!=null&&r.useAdditionalWeekYearTokens)&&za(b)&&er(b,n,e),!(r!=null&&r.useAdditionalDayOfYearTokens)&&$a(b)&&er(b,n,e);const C=b[0],R=lf[C];if(R){const{incompatibleTokens:N}=R;if(Array.isArray(N)){const z=y.find(L=>N.includes(L.token)||L.token===C);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${b}\` at the same time`)}else if(R.incompatibleTokens==="*"&&y.length>0)throw new RangeError(`The format string mustn't contain \`${b}\` and any other token at the same time`);y.push({token:C,fullToken:b});const S=R.run(e,b,i.match,d);if(!S)return s();u.push(S.setter),e=S.rest}else{if(C.match(ff))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");if(b==="''"?b="'":C==="'"&&(b=gf(b)),e.indexOf(b)===0)e=e.slice(b.length);else return s()}}if(e.length>0&&mf.test(e))return s();const m=u.map(b=>b.priority).sort((b,C)=>C-b).filter((b,C,R)=>R.indexOf(b)===C).map(b=>u.filter(C=>C.priority===b).sort((C,R)=>R.subPriority-C.subPriority)).map(b=>b[0]);let h=J(t,r==null?void 0:r.in);if(isNaN(+h))return s();const T={};for(const b of m){if(!b.validate(h,d))return s();const C=b.set(h,T,d);Array.isArray(C)?(h=C[0],Object.assign(T,C[1])):h=C}return h}function gf(e){return e.match(uf)[1].replace(hf,"'")}function xf(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setDate(n),r}function yf(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setHours(n),r}function bf(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setMinutes(n),r}function wf(e,n,t){const r=J(e,t==null?void 0:t.in),s=r.getFullYear(),o=r.getDate(),i=Ie(e,0);i.setFullYear(s,n,15),i.setHours(0,0,0,0);const c=_a(i);return r.setMonth(n,Math.min(o,c)),r}function vf(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setSeconds(n),r}function Tf(e,n,t){const r=J(e,t==null?void 0:t.in);return r.setMilliseconds(n),r}function Df(e,n,t){const r=J(e,t==null?void 0:t.in);return isNaN(+r)?Ie(e,NaN):(r.setFullYear(n),r)}function Pf(e,n){const t=J(e,n==null?void 0:n.in);return t.setDate(1),t.setHours(0,0,0,0),t}function Sf(e,n){const t=J(e,n==null?void 0:n.in),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mf(e,n,t){const r=+J(e,t==null?void 0:t.in),[s,o]=[+J(n.start,t==null?void 0:t.in),+J(n.end,t==null?void 0:t.in)].sort((i,c)=>i-c);return r>=s&&r<=o}const Cf={y:{sectionType:"year",contentType:"digit",maxLength:4},yy:"year",yyy:{sectionType:"year",contentType:"digit",maxLength:4},yyyy:"year",M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMMM:{sectionType:"month",contentType:"letter"},MMM:{sectionType:"month",contentType:"letter"},L:{sectionType:"month",contentType:"digit",maxLength:2},LL:"month",LLL:{sectionType:"month",contentType:"letter"},LLLL:{sectionType:"month",contentType:"letter"},d:{sectionType:"day",contentType:"digit",maxLength:2},dd:"day",do:{sectionType:"day",contentType:"digit-with-letter"},E:{sectionType:"weekDay",contentType:"letter"},EE:{sectionType:"weekDay",contentType:"letter"},EEE:{sectionType:"weekDay",contentType:"letter"},EEEE:{sectionType:"weekDay",contentType:"letter"},EEEEE:{sectionType:"weekDay",contentType:"letter"},i:{sectionType:"weekDay",contentType:"digit",maxLength:1},ii:"weekDay",iii:{sectionType:"weekDay",contentType:"letter"},iiii:{sectionType:"weekDay",contentType:"letter"},e:{sectionType:"weekDay",contentType:"digit",maxLength:1},ee:"weekDay",eee:{sectionType:"weekDay",contentType:"letter"},eeee:{sectionType:"weekDay",contentType:"letter"},eeeee:{sectionType:"weekDay",contentType:"letter"},eeeeee:{sectionType:"weekDay",contentType:"letter"},c:{sectionType:"weekDay",contentType:"digit",maxLength:1},cc:"weekDay",ccc:{sectionType:"weekDay",contentType:"letter"},cccc:{sectionType:"weekDay",contentType:"letter"},ccccc:{sectionType:"weekDay",contentType:"letter"},cccccc:{sectionType:"weekDay",contentType:"letter"},a:"meridiem",aa:"meridiem",aaa:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},kf={year:"yyyy",month:"LLLL",monthShort:"MMM",dayOfMonth:"d",dayOfMonthFull:"do",weekday:"EEEE",weekdayShort:"EEEEEE",hours24h:"HH",hours12h:"hh",meridiem:"aa",minutes:"mm",seconds:"ss",fullDate:"PP",keyboardDate:"P",shortDate:"MMM d",normalDate:"d MMMM",normalDateWithWeekday:"EEE, MMM d",fullTime12h:"hh:mm aa",fullTime24h:"HH:mm",keyboardDateTime12h:"P hh:mm aa",keyboardDateTime24h:"P HH:mm"};class If{constructor(n){this.isMUIAdapter=!0,this.isTimezoneCompatible=!1,this.lib=void 0,this.locale=void 0,this.formats=void 0,this.formatTokenMap=Cf,this.escapedCharacters={start:"'",end:"'"},this.longFormatters=void 0,this.date=i=>typeof i>"u"?new Date:i===null?null:new Date(i),this.getInvalidDate=()=>new Date("Invalid Date"),this.getTimezone=()=>"default",this.setTimezone=i=>i,this.toJsDate=i=>i,this.getCurrentLocaleCode=()=>this.locale.code,this.is12HourCycleInCurrentLocale=()=>/a/.test(this.locale.formatLong.time({width:"short"})),this.expandFormat=i=>{const c=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;return i.match(c).map(l=>{const d=l[0];if(d==="p"||d==="P"){const u=this.longFormatters[d];return u(l,this.locale.formatLong)}return l}).join("")},this.formatNumber=i=>i,this.getDayOfWeek=i=>i.getDay()+1;const{locale:t,formats:r,longFormatters:s,lib:o}=n;this.locale=t,this.formats=v({},kf,r),this.longFormatters=s,this.lib=o||"date-fns"}}class jf extends If{constructor({locale:n,formats:t}={}){super({locale:n??br,formats:t,longFormatters:Dn}),this.parse=(r,s)=>r===""?null:pf(r,s,new Date,{locale:this.locale}),this.isValid=r=>r==null?!1:Wa(r),this.format=(r,s)=>this.formatByString(r,this.formats[s]),this.formatByString=(r,s)=>sm(r,s,{locale:this.locale}),this.isEqual=(r,s)=>r===null&&s===null?!0:r===null||s===null?!1:mm(r,s),this.isSameYear=(r,s)=>pm(r,s),this.isSameMonth=(r,s)=>gm(r,s),this.isSameDay=(r,s)=>fm(r,s),this.isSameHour=(r,s)=>xm(r,s),this.isAfter=(r,s)=>Un(r,s),this.isAfterYear=(r,s)=>Un(r,as(s)),this.isAfterDay=(r,s)=>Un(r,ss(s)),this.isBefore=(r,s)=>qn(r,s),this.isBeforeYear=(r,s)=>qn(r,this.startOfYear(s)),this.isBeforeDay=(r,s)=>qn(r,this.startOfDay(s)),this.isWithinRange=(r,[s,o])=>Mf(r,{start:s,end:o}),this.startOfYear=r=>Na(r),this.startOfMonth=r=>Pf(r),this.startOfWeek=r=>xt(r,{locale:this.locale}),this.startOfDay=r=>on(r),this.endOfYear=r=>as(r),this.endOfMonth=r=>Sf(r),this.endOfWeek=r=>dh(r,{locale:this.locale}),this.endOfDay=r=>ss(r),this.addYears=(r,s)=>lh(r,s),this.addMonths=(r,s)=>Fa(r,s),this.addWeeks=(r,s)=>ih(r,s),this.addDays=(r,s)=>En(r,s),this.addHours=(r,s)=>oh(r,s),this.addMinutes=(r,s)=>ah(r,s),this.addSeconds=(r,s)=>sh(r,s),this.getYear=r=>hm(r),this.getMonth=r=>cm(r),this.getDate=r=>om(r),this.getHours=r=>im(r),this.getMinutes=r=>lm(r),this.getSeconds=r=>dm(r),this.getMilliseconds=r=>um(r),this.setYear=(r,s)=>Df(r,s),this.setMonth=(r,s)=>wf(r,s),this.setDate=(r,s)=>xf(r,s),this.setHours=(r,s)=>yf(r,s),this.setMinutes=(r,s)=>bf(r,s),this.setSeconds=(r,s)=>vf(r,s),this.setMilliseconds=(r,s)=>Tf(r,s),this.getDaysInMonth=r=>_a(r),this.getWeekArray=r=>{const s=this.startOfWeek(this.startOfMonth(r)),o=this.endOfWeek(this.endOfMonth(r));let i=0,c=s;const l=[];for(;this.isBefore(c,o);){const d=Math.floor(i/7);l[d]=l[d]||[],l[d].push(c),c=this.addDays(c,1),i+=1}return l},this.getWeekNumber=r=>vr(r,{locale:this.locale}),this.getYearRange=([r,s])=>{const o=this.startOfYear(r),i=this.endOfYear(s),c=[];let l=o;for(;this.isBefore(l,i);)c.push(l),l=this.addYears(l,1);return c}}}const Of=Ue(a.jsx("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"})),Rf=()=>{const e=yt(),{incidents:n}=Pe(c=>c.analyzer.rawData),t=Pe(c=>c.analyzer.filters.incidentTypes),r=f.useMemo(()=>{const c=new Set;return n.forEach(l=>{l.incidentType&&c.add(l.incidentType)}),Array.from(c).sort()},[n]),s=c=>{const l=t||[],d=l.includes(c)?l.filter(u=>u!==c):[...l,c];e(Fn(d.length>0?d:null))},o=()=>{e(Fn(null))},i=()=>{e(Fn(r))};return a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Incident Types"}),a.jsxs(A,{children:[a.jsx(We,{size:"small",onClick:i,children:"Select All"}),a.jsx(We,{size:"small",onClick:o,children:"Clear"})]})]}),r.length===0?a.jsx(P,{variant:"body2",color:"text.secondary",children:"No incident types available in the data."}):a.jsx(Cs,{children:a.jsx(q,{container:!0,spacing:1,children:r.map(c=>a.jsx(q,{size:6,children:a.jsx(nr,{control:a.jsx(tr,{checked:(t==null?void 0:t.includes(c))||!1,onChange:()=>s(c),size:"small"}),label:a.jsx(P,{variant:"body2",children:c})})},c))})})]})},Ef=()=>{const e=yt(),{incidents:n}=Pe(c=>c.analyzer.rawData),t=Pe(c=>c.analyzer.filters.units),r=f.useMemo(()=>{const c=new Set;return n.forEach(l=>{l.respondingUnit&&c.add(l.respondingUnit)}),Array.from(c).sort()},[n]),s=c=>{const l=t||[],d=l.includes(c)?l.filter(u=>u!==c):[...l,c];e(Nn(d.length>0?d:null))},o=()=>{e(Nn(null))},i=()=>{e(Nn(r))};return a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Responding Units"}),a.jsxs(A,{children:[a.jsx(We,{size:"small",onClick:i,children:"Select All"}),a.jsx(We,{size:"small",onClick:o,children:"Clear"})]})]}),r.length===0?a.jsx(P,{variant:"body2",color:"text.secondary",children:"No responding unit data available."}):a.jsx(Cs,{children:a.jsx(q,{container:!0,spacing:1,children:r.map(c=>a.jsx(q,{size:6,children:a.jsx(nr,{control:a.jsx(tr,{checked:(t==null?void 0:t.includes(c))||!1,onChange:()=>s(c),size:"small"}),label:a.jsx(P,{variant:"body2",children:c})})},c))})})]})},Af=()=>{const e=yt(),n=Pe(l=>l.analyzer.filters.dateRange),{incidents:t}=Pe(l=>l.analyzer.rawData),[r,s]=f.useState({min:null,max:null});f.useEffect(()=>{if(t.length>0){const l=t.map(d=>d.incidentDate).filter(d=>d).map(d=>new Date(d));if(l.length>0){const d=new Date(Math.min(...l.map(x=>x.getTime()))),u=new Date(Math.max(...l.map(x=>x.getTime())));s({min:d,max:u})}}},[t]);const o=l=>{if(l){const d=n?n[1]:null;e(An(d?[l,d]:null))}},i=l=>{if(l){const d=n?n[0]:null;e(An(d?[d,l]:null))}},c=()=>{e(An(null))};return a.jsx(Bs,{dateAdapter:jf,children:a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[a.jsx(P,{variant:"subtitle2",children:"Date Range"}),a.jsx(We,{size:"small",onClick:c,children:"Clear"})]}),a.jsxs(q,{container:!0,spacing:2,children:[a.jsx(q,{size:6,children:a.jsx(ns,{label:"Start Date",value:n?n[0]:void 0,onChange:o,minDate:r.min??void 0,maxDate:r.max??void 0,slotProps:{textField:{size:"small",fullWidth:!0,variant:"outlined"}}})}),a.jsx(q,{size:6,children:a.jsx(ns,{label:"End Date",value:n?n[1]:void 0,onChange:i,minDate:r.min??void 0,maxDate:r.max??void 0,slotProps:{textField:{size:"small",fullWidth:!0,variant:"outlined"}}})})]}),r.min&&r.max&&a.jsxs(P,{variant:"caption",color:"text.secondary",sx:{mt:1,display:"block"},children:["Data range: ",r.min.toLocaleDateString()," to ",r.max.toLocaleDateString()]})]})})},Ff=()=>{const e=yt(),n=Pe(s=>s.analyzer.filters.timeOfDay),t=[{label:"Morning (6AM-12PM)",value:[6,12]},{label:"Afternoon (12PM-6PM)",value:[12,18]},{label:"Evening (6PM-12AM)",value:[18,24]},{label:"Night (12AM-6AM)",value:[0,6]}],r=s=>{const o=n&&n[0]===s[0]&&n[1]===s[1]?null:s;e(io(o))};return a.jsxs(A,{children:[a.jsx(P,{variant:"subtitle2",gutterBottom:!0,children:"Time of Day"}),a.jsx(Wo,{direction:"row",spacing:1,sx:{flexWrap:"wrap",gap:1},children:t.map(s=>a.jsx(Xe,{label:s.label,clickable:!0,onClick:()=>r(s.value),color:n&&n[0]===s.value[0]&&n[1]===s.value[1]?"primary":"default",variant:n&&n[0]===s.value[0]&&n[1]===s.value[1]?"filled":"outlined"},s.label))})]})},Nf=()=>{const e=yt(),n=Pe(i=>i.analyzer.filters),{incidents:t}=Pe(i=>i.analyzer.rawData),r=f.useMemo(()=>n.dateRange!==null||n.incidentTypes!==null||n.units!==null||n.geographicBounds!==null||n.timeOfDay!==null||n.priority!==null,[n]),s=f.useMemo(()=>r?t.filter(i=>{if(n.dateRange){const c=new Date(i.incidentDate),[l,d]=n.dateRange;if(c<l||c>d)return!1}if(n.incidentTypes&&i.incidentType&&!n.incidentTypes.includes(i.incidentType)||n.units&&i.respondingUnit&&!n.units.includes(i.respondingUnit))return!1;if(n.timeOfDay&&i.incidentTime){const c=i.incidentTime,l=parseInt(c.split(":")[0],10);if(l<n.timeOfDay[0]||l>=n.timeOfDay[1])return!1}return!(n.priority&&i.priority&&!n.priority.includes(i.priority))}).length:t.length,[t,n,r]),o=()=>{e(oo())};return a.jsxs(A,{sx:{p:3},children:[a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[a.jsxs(P,{variant:"h6",children:[a.jsx(Of,{sx:{verticalAlign:"middle",mr:1}}),"Filters"]}),a.jsx(We,{variant:"outlined",color:"primary",startIcon:a.jsx(zo,{}),disabled:!r,onClick:o,children:"Reset All"})]}),r&&a.jsxs(Bt,{severity:"info",sx:{mb:3},children:["Showing ",s," of ",t.length," incidents after applying filters"]}),a.jsxs(q,{container:!0,spacing:3,children:[a.jsx(q,{size:{xs:12,md:6},children:a.jsx(Ae,{variant:"outlined",sx:{p:2},children:a.jsx(Af,{})})}),a.jsx(q,{size:{xs:12,md:6},children:a.jsx(Ae,{variant:"outlined",sx:{p:2},children:a.jsx(Ff,{})})}),a.jsx(q,{size:{xs:12,md:6},children:a.jsx(Ae,{variant:"outlined",sx:{p:2},children:a.jsx(Rf,{})})}),a.jsx(q,{size:{xs:12,md:6},children:a.jsx(Ae,{variant:"outlined",sx:{p:2},children:a.jsx(Ef,{})})})]}),a.jsx(A,{sx:{mt:3},children:a.jsxs(jo,{children:[a.jsx(Oo,{expandIcon:a.jsx(Ro,{}),children:a.jsx(P,{children:"Saved Filters"})}),a.jsx(Eo,{children:a.jsx(A,{sx:{display:"flex",justifyContent:"center",p:2},children:a.jsx(P,{variant:"body2",color:"text.secondary",children:"Saved filters feature coming soon"})})})]})})]})},Lf=Ue(a.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"})),Vf=Ue(a.jsx("path",{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"})),us=[{id:"excel",name:"Excel Workbook (.xlsx)",description:"Detailed spreadsheet with multiple tabs for incidents, statistics, and charts",icon:a.jsx(Lf,{sx:{color:"#2E7D32"}})},{id:"csv",name:"CSV File (.csv)",description:"Simple comma-separated values file that can be opened in any spreadsheet application",icon:a.jsx(Vf,{sx:{color:"#1976D2"}})},{id:"pdf",name:"PDF Report (.pdf)",description:"Formatted report with tables, charts and statistics",icon:a.jsx(Ho,{sx:{color:"#D32F2F"}})}],Bf=[{id:"summary",name:"Summary Statistics",description:"Overall response time metrics and KPIs",icon:a.jsx(Yo,{})},{id:"incidents",name:"Incident Details",description:"Detailed table of all incidents and response times",icon:a.jsx(Uo,{})},{id:"map",name:"Geographic Analysis",description:"Map and location-based analysis (PDF only)",icon:a.jsx(Lo,{})}],$f=()=>{var p;const{incidents:e}=Pe(g=>g.analyzer.rawData),{responseTimeStats:n}=Pe(g=>g.analyzer.calculatedMetrics),t=Pe(g=>g.analyzer.filters),[r,s]=f.useState("excel"),[o,i]=f.useState(["summary","incidents"]),[c,l]=f.useState(!1),[d,u]=f.useState({success:!1,message:"",open:!1}),x=g=>{const w=[...o],M=w.indexOf(g);M===-1?w.push(g):w.splice(M,1),i(w)},y=async()=>{const g=await Mr(()=>import("./xlsx-DkH2s96g.js"),[]),w=g.utils.book_new();if(w.Props={Title:"Response Time Analysis Report",Subject:"Incident Response Times",Author:"FireEMS Response Time Analyzer",CreatedDate:new Date},o.includes("summary")&&n){const D=[["Response Time Statistics","","","",""],["Metric","Mean","Median","90th Percentile","Standard Deviation"],["Dispatch Time",n.mean.dispatchTime||"N/A",n.median.dispatchTime||"N/A",n.ninetiethPercentile.dispatchTime||"N/A",n.standardDeviation.dispatchTime||"N/A"],["Turnout Time",n.mean.turnoutTime||"N/A",n.median.turnoutTime||"N/A",n.ninetiethPercentile.turnoutTime||"N/A",n.standardDeviation.turnoutTime||"N/A"],["Travel Time",n.mean.travelTime||"N/A",n.median.travelTime||"N/A",n.ninetiethPercentile.travelTime||"N/A",n.standardDeviation.travelTime||"N/A"],["Total Response Time",n.mean.totalResponseTime||"N/A",n.median.totalResponseTime||"N/A",n.ninetiethPercentile.totalResponseTime||"N/A",n.standardDeviation.totalResponseTime||"N/A"],["","","","",""],["Report Generated:",new Date().toLocaleString(),"","",""],["Total Incidents:",e.length.toString(),"","",""]];(t.dateRange||t.incidentTypes||t.units||t.timeOfDay)&&(D.push(["","","","",""]),D.push(["Applied Filters:","","","",""]),t.dateRange&&D.push(["Date Range:",`${t.dateRange[0].toLocaleDateString()} to ${t.dateRange[1].toLocaleDateString()}`,"","",""]),t.incidentTypes&&D.push(["Incident Types:",t.incidentTypes.join(", "),"","",""]),t.units&&D.push(["Units:",t.units.join(", "),"","",""]),t.timeOfDay&&D.push(["Time of Day:",`${t.timeOfDay[0]}:00 to ${t.timeOfDay[1]}:00`,"","",""]));const j=g.utils.aoa_to_sheet(D),I=[{wch:20},{wch:20},{wch:20},{wch:20},{wch:20}];j["!cols"]=I,g.utils.book_append_sheet(w,j,"Summary Statistics")}if(o.includes("incidents")){const D=e.map(O=>{const b=tt(O);return{"Incident ID":O.incidentId,Date:O.incidentDate,Time:O.incidentTime||"",Type:O.incidentType||"","Responding Unit":O.respondingUnit||"",Address:O.address||"",Location:O.latitude&&O.longitude?`${O.latitude}, ${O.longitude}`:"","Dispatch Time (s)":b.dispatchTime||"","Turnout Time (s)":b.turnoutTime||"","Travel Time (s)":b.travelTime||"","Total Response Time (s)":b.totalResponseTime||"","Scene Time (s)":b.sceneTime||"","Total Incident Time (s)":b.totalIncidentTime||""}}),j=g.utils.json_to_sheet(D),I=[{wch:15},{wch:12},{wch:10},{wch:15},{wch:15},{wch:25},{wch:20},{wch:15},{wch:15},{wch:15},{wch:20},{wch:15},{wch:20}];j["!cols"]=I,g.utils.book_append_sheet(w,j,"Incident Details")}const M=`response_time_analysis_${Date.now()}.xlsx`;return g.writeFile(w,M),{success:!0,filename:M}},m=async()=>{const g=e.map(b=>{const C=tt(b);return{"Incident ID":b.incidentId,Date:b.incidentDate,Time:b.incidentTime||"",Type:b.incidentType||"","Responding Unit":b.respondingUnit||"",Address:b.address||"",Location:b.latitude&&b.longitude?`${b.latitude}, ${b.longitude}`:"","Dispatch Time (s)":C.dispatchTime||"","Turnout Time (s)":C.turnoutTime||"","Travel Time (s)":C.travelTime||"","Total Response Time (s)":C.totalResponseTime||"","Scene Time (s)":C.sceneTime||"","Total Incident Time (s)":C.totalIncidentTime||""}}),w=await Mr(()=>import("./xlsx-DkH2s96g.js"),[]),M=w.utils.json_to_sheet(g),D=w.utils.sheet_to_csv(M),j=new Blob([D],{type:"text/csv;charset=utf-8;"}),I=URL.createObjectURL(j),O=document.createElement("a");return O.href=I,O.setAttribute("download",`response_time_analysis_${Date.now()}.csv`),document.body.appendChild(O),O.click(),document.body.removeChild(O),{success:!0,filename:`response_time_analysis_${Date.now()}.csv`}},h=()=>({success:!0,filename:`response_time_analysis_${Date.now()}.pdf`}),T=async()=>{if(!e.length){u({success:!1,message:"No data to export",open:!0});return}l(!0);try{let g;switch(r){case"excel":g=await y();break;case"csv":g=await m();break;case"pdf":g=h();break;default:throw new Error("Unsupported export format")}u({success:!0,message:`Data exported successfully as ${r.toUpperCase()} file: ${g.filename}`,open:!0})}catch(g){console.error("Export error:",g),u({success:!1,message:`Error exporting data: ${g instanceof Error?g.message:"Unknown error"}`,open:!0})}finally{l(!1)}};return a.jsxs(A,{sx:{p:3},children:[a.jsx(P,{variant:"h6",gutterBottom:!0,children:"Export Analysis Results"}),a.jsxs(q,{container:!0,spacing:3,children:[a.jsx(q,{size:{xs:12,md:6},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2,height:"100%"},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Export Format"}),a.jsx(Qn,{children:us.map(g=>a.jsx(Ae,{variant:"outlined",sx:{mb:1,p:1,bgcolor:r===g.id?"action.selected":"background.paper",cursor:"pointer","&:hover":{bgcolor:"action.hover"}},onClick:()=>s(g.id),children:a.jsxs(Gn,{children:[a.jsx(Ao,{children:g.icon}),a.jsx(Fo,{primary:g.name,secondary:g.description})]})},g.id))})]})}),a.jsx(q,{size:{xs:12,md:6},children:a.jsxs(Ae,{variant:"outlined",sx:{p:2,height:"100%"},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Include In Export"}),a.jsx(Qn,{children:Bf.map(g=>a.jsx(Gn,{dense:!0,children:a.jsx(nr,{control:a.jsx(tr,{checked:o.includes(g.id),onChange:()=>x(g.id),disabled:g.id==="map"&&r!=="pdf"}),label:a.jsxs(A,{children:[a.jsxs(A,{sx:{display:"flex",alignItems:"center"},children:[g.icon,a.jsx(P,{variant:"body1",sx:{ml:1},children:g.name})]}),a.jsx(P,{variant:"body2",color:"text.secondary",children:g.description})]}),sx:{width:"100%"}})},g.id))})]})})]}),a.jsxs(Ae,{variant:"outlined",sx:{p:2,mt:3},children:[a.jsx(P,{variant:"subtitle1",gutterBottom:!0,children:"Export Summary"}),a.jsxs(q,{container:!0,spacing:2,children:[a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Total Records"}),a.jsxs(P,{variant:"body1",children:[e.length," incidents"]})]}),a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Format"}),a.jsx(P,{variant:"body1",children:((p=us.find(g=>g.id===r))==null?void 0:p.name)||r})]}),a.jsxs(q,{size:{xs:12,sm:4},children:[a.jsx(P,{variant:"body2",color:"text.secondary",children:"Estimated File Size"}),a.jsx(P,{variant:"body1",children:r==="excel"?`~${Math.ceil(e.length*.5)} KB`:r==="csv"?`~${Math.ceil(e.length*.3)} KB`:r==="pdf"?`~${Math.ceil(e.length*.7+(o.includes("map")?500:0))} KB`:"Unknown"})]})]}),a.jsx(A,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:a.jsx(We,{variant:"contained",color:"primary",startIcon:c?a.jsx(ms,{size:20}):a.jsx(_o,{}),onClick:T,disabled:c||!o.length,children:c?"Exporting...":"Export Data"})})]}),a.jsx(No,{open:d.open,autoHideDuration:6e3,onClose:()=>u({...d,open:!1}),children:a.jsx(Bt,{onClose:()=>u({...d,open:!1}),severity:d.success?"success":"error",children:d.message})})]})},Gf=({initialData:e})=>{const n=yt(),{rawData:t,ui:r}=Pe(m=>m.analyzer),[s,o]=f.useState("none");f.useEffect(()=>{document.title="FireEMS Response Time Analyzer"},[]),f.useEffect(()=>{if(e&&e.length>0){console.log("ðŸ” INITIAL DATA DEBUG - Data received from formatter:"),console.log("Number of records:",e.length),console.log("First record field names:",Object.keys(e[0])),console.log("First record sample:",e[0]),console.log("First record incidentTime:",e[0].incidentTime),console.log("First record Call Receive Time:",e[0]["Call Receive Time"]),console.log("ðŸ” END INITIAL DATA DEBUG"),c(e,"formatter");return}const m=sessionStorage.getItem("fireEmsExportedData");if(m)try{const h=JSON.parse(m);if(console.log("Session data found:",h),h.data&&Array.isArray(h.data)&&h.data.length>0){console.log("ANALYZER DEBUG - Raw session data:",m),console.log("ANALYZER DEBUG - Parsed session data:",h),console.log("Sample record from session:",h.data[0]),console.log("ANALYZER DATA CHECK - All field names in first record:"),console.log(Object.keys(h.data[0]));const T=h.data[0],p=T.hasOwnProperty("incidentId")&&T.hasOwnProperty("incidentDate"),g=T.hasOwnProperty("Incident ID")&&T.hasOwnProperty("Incident Date");console.log("ðŸ” DATA FORMAT DETECTION:"),console.log("ðŸ” Has normalized fields (incidentId, incidentDate):",p),console.log("ðŸ” Has original fields (Incident ID, Incident Date):",g),console.log("ðŸ” Sample incidentTime value:",T.incidentTime),console.log("ðŸ” Sample incidentTime type:",typeof T.incidentTime),console.log('ðŸ” Sample "Call Received Date/Time" value:',T["Call Received Date/Time"]),console.log('ðŸ” Sample "Call Received Time" value (legacy):',T["Call Received Time"]),console.log("ðŸ” CHATGPT DEBUG - Full first record before processing:",JSON.stringify(T,null,2));let w;p&&!g?(console.log("âœ… USING PRE-NORMALIZED DATA FROM DATATRANSFORMER - SKIPPING FIELD NORMALIZATION"),w=h.data):(console.log("ðŸ”§ APPLYING FIELD NORMALIZATION FOR RAW DATA"),w=i(h.data)),c(w,"session");return}else console.error("Invalid data structure in session storage",h)}catch(h){console.error("Error parsing session data",h)}else console.log("No data found in session storage")},[e]);const i=m=>(console.log("ðŸ“ NORMALIZE FIELD NAMES - Function called with",m.length,"records"),m.map((h,T)=>{const p={},g={"Incident ID":"incidentId","Incident Date":"incidentDate","Call Received Date/Time":"incidentTime","Call Receive Time":"incidentTime","Call Received Time":"incidentTime","Incident Time":"incidentTime","Dispatch Time":"dispatchTime","En Route Time":"enRouteTime","Arrival Time":"arrivalTime","Clear Time":"clearTime","Incident Type":"incidentType",Latitude:"latitude",Longitude:"longitude",Address:"address","call receive time":"incidentTime","incident time":"incidentTime","dispatch time":"dispatchTime","turnout, time":"enRouteTime","travel time":"travelTime","total response, time":"totalResponseTime","incident type":"incidentType",type:"incidentType",location:"location",Location:"location",unit:"unit",Unit:"unit","turnout time":"enRouteTime","response time":"totalResponseTime","total response time":"totalResponseTime","en route time":"enRouteTime","enroute time":"enRouteTime","arrival time":"arrivalTime","clear time":"clearTime","incident id":"incidentId","incident date":"incidentDate",date:"incidentDate",time:"incidentTime"},w=["incidentTime","incidentId","incidentDate"];w.forEach(D=>{const j=Object.entries(g).filter(([I,O])=>O===D).map(([I,O])=>I);for(const I of j)if(h[I]!==void 0&&h[I]!==null&&h[I]!==""){p[D]=h[I],console.log(`PRIORITY_FIELD_MAPPING: "${I}" -> "${D}" = "${h[I]}"`);break}!p[D]&&h[D]!==void 0&&h[D]!==null&&h[D]!==""&&(p[D]=h[D],console.log(`PRIORITY_FIELD_MAPPING: "${D}" (already camelCase) = "${h[D]}"`))}),Object.entries(g).forEach(([D,j])=>{w.includes(j)&&p[j]!==void 0||(h[D]!==void 0&&h[D]!==null&&h[D]!==""?(p[j]=h[D],console.log(`FIELD_MAPPING: "${D}" -> "${j}" = "${h[D]}"`)):h[j]!==void 0&&h[j]!==null&&h[j]!==""&&(p[j]=h[j],console.log(`FIELD_MAPPING: "${j}" (already camelCase) = "${h[j]}"`)))}),Object.entries(h).forEach(([D,j])=>{if(!(Object.values(g).includes(D)||Object.keys(g).includes(D)))if(D.includes(" ")){const I=D.toLowerCase().split(" ").map((O,b)=>b===0?O:O.charAt(0).toUpperCase()+O.slice(1)).join("");p[I]=j}else p[D]=j}),console.log("=== FIELD MAPPING DEBUG FOR RECORD",T,"==="),console.log("ORIGINAL_FIELD_NAMES:",Object.keys(h)),console.log("ORIGINAL_RECORD_SAMPLE:",h),console.log("NORMALIZED_FIELD_NAMES:",Object.keys(p)),console.log("NORMALIZED_RECORD_SAMPLE:",p),console.log("=== END FIELD MAPPING DEBUG ==="),console.log("=== INCIDENT TIME DEBUG ==="),console.log('Original "Call Receive Time":',h["Call Receive Time"]),console.log('Original "call receive time":',h["call receive time"]),console.log('Original "Incident Time":',h["Incident Time"]),console.log('Original "incident time":',h["incident time"]),console.log("Normalized incidentTime:",p.incidentTime),console.log("=== END INCIDENT TIME DEBUG ===");const M=Object.keys(h).filter(D=>D.toLowerCase().includes("location")||D.toLowerCase().includes("lat")||D.toLowerCase().includes("lon")||D.toLowerCase().includes("coordinate"));if(console.log("LOCATION_RELATED_FIELDS_FOUND:",M),p.location&&typeof p.location=="string"){const D=p.location.split(",");if(D.length===2){const j=parseFloat(D[0].trim()),I=parseFloat(D[1].trim());!isNaN(j)&&!isNaN(I)?(p.latitude=j,p.longitude=I,console.log(`Parsed location "${p.location}" -> lat: ${j}, lng: ${I}`)):console.warn(`Could not parse location: ${p.location}`)}}return p})),c=(m,h)=>{n(lo());try{console.log("ðŸ”„ LOAD DATA - Starting field normalization"),console.log("Raw data before normalization (first record):",m[0]),console.log("Raw data field names:",Object.keys(m[0]));const T=i(m);T.length>0&&(console.log("ðŸ”„ LOAD DATA - After normalization (first record):",T[0]),console.log("ðŸ”„ LOAD DATA - Normalized field names:",Object.keys(T[0])),console.log("ðŸ”„ LOAD DATA - incidentTime value:",T[0].incidentTime)),n(co(T));const p=ii(T);n(uo(p)),o(h)}catch(T){const p=T instanceof Error?T.message:"Unknown error loading data";n(ho(p))}},l=(m,h)=>{n(mo(h))},[d,u]=f.useState(!1),[x,y]=f.useState(!1);return t.isLoading?a.jsxs(A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"60vh"},children:[a.jsx(ms,{size:60}),a.jsx(P,{variant:"h6",sx:{ml:2},children:"Loading incident data..."})]}):t.error?a.jsxs(A,{sx:{p:3},children:[a.jsxs(Bt,{severity:"error",sx:{mb:2},children:["Error loading data: ",t.error]}),a.jsx(We,{variant:"contained",color:"primary",onClick:()=>window.location.reload(),children:"Reload Page"})]}):t.incidents.length?a.jsxs(A,{sx:{p:3},children:[a.jsxs(Ae,{sx:{p:3,mb:3},children:[a.jsx(P,{variant:"h5",gutterBottom:!0,children:"Response Time Analyzer"}),a.jsxs(A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[a.jsxs(P,{variant:"subtitle1",children:["Analyzing ",t.incidents.length," incidents",s==="formatter"&&" (from Data Formatter)",s==="session"&&" (from previous session)"]}),a.jsxs(A,{children:[a.jsx(We,{variant:"outlined",color:"secondary",sx:{mr:1},onClick:()=>{u(!d),d||y(!1)},children:d?"Hide Filters":"Show Filters"}),a.jsx(We,{variant:"outlined",color:"secondary",sx:{mr:1},onClick:()=>{y(!x),x||u(!1)},children:x?"Hide Export":"Export Results"}),a.jsx(We,{variant:"outlined",color:"primary",children:"Load New Data"})]})]}),a.jsx(Bt,{severity:"success",sx:{mb:3},children:"Data loaded successfully. Use the tabs below to explore different views."})]}),d&&a.jsx(Ae,{sx:{p:2,mb:3},children:a.jsx(Nf,{})}),x&&a.jsx(Ae,{sx:{p:2,mb:3},children:a.jsx($f,{})}),a.jsx(A,{sx:{borderBottom:1,borderColor:"divider",mb:3},children:a.jsxs(Vo,{value:r.selectedView,onChange:l,"aria-label":"analyzer view tabs",children:[a.jsx(Qt,{label:"Dashboard",value:"dashboard"}),a.jsx(Qt,{label:"Timeline",value:"timeline"}),a.jsx(Qt,{label:"Map",value:"map"}),a.jsx(Qt,{label:"Incidents",value:"table"}),a.jsx(Qt,{label:"Statistics",value:"statistics"})]})}),a.jsxs(A,{children:[r.selectedView==="dashboard"&&a.jsx(Pi,{}),r.selectedView==="timeline"&&a.jsxs(A,{children:[a.jsx(Mi,{}),a.jsx(Os,{})]}),r.selectedView==="map"&&a.jsx(Rs,{}),r.selectedView==="table"&&a.jsx(Es,{}),r.selectedView==="statistics"&&a.jsx(js,{})]})]}):a.jsx(A,{sx:{p:3},children:a.jsxs(Ae,{sx:{p:3},children:[a.jsx(P,{variant:"h5",gutterBottom:!0,children:"Response Time Analyzer"}),a.jsx(Bt,{severity:"info",sx:{mb:3},children:"No incident data loaded. Please use the Data Formatter to send incident data to this tool."}),a.jsx(P,{variant:"body1",paragraph:!0,children:"The Response Time Analyzer calculates and visualizes response time metrics for fire and EMS incidents. You can send data to this tool from the Data Formatter's export screen."}),a.jsx(We,{variant:"contained",color:"primary",onClick:()=>window.location.href="/data-formatter",children:"Go to Data Formatter"})]})})};export{Gf as default};
