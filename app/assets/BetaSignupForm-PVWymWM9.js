import{r as n,df as m,de as f,j as e,t as b,d9 as W,v as c,H as F,I as k,K as M,G as a,W as o,O as S,a9 as A,aa as I,dg as D}from"./index-Bx2vtpU_.js";const q=()=>{const[t,d]=n.useState({departmentName:"",contactName:"",email:"",state:"",phone:"",position:""}),[h,x]=n.useState(!1),[p,l]=n.useState(null),[j,u]=n.useState(""),[y,v]=n.useState(!1);n.useEffect(()=>{m.formView(),f.betaFormView()},[]);const N=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],s=r=>i=>{y||(v(!0),m.formStart()),d(w=>({...w,[r]:i.target.value}))},g=()=>!!(t.departmentName.trim()&&t.contactName.trim()&&t.email.trim()&&t.state),C=async r=>{if(r.preventDefault(),!g()){l("error"),u("Please fill in all required fields.");return}x(!0),l(null),m.formSubmit(t.departmentName,t.state),f.betaFormSubmit();try{if((await fetch("/api/beta-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,timestamp:new Date().toISOString(),source:"landing_page",userAgent:navigator.userAgent})})).ok)l("success"),u("Thank you! We'll be in touch soon with beta access details."),m.formSuccess(),D({departmentName:t.departmentName,state:t.state,email:t.email,source:"landing_page"}),d({departmentName:"",contactName:"",email:"",state:"",phone:"",position:""});else throw new Error("Failed to submit form")}catch(i){console.error("Form submission error:",i),l("error"),u("Something went wrong. Please try again or contact us directly."),m.formError(i instanceof Error?i.message:"Unknown error")}finally{x(!1)}};return e.jsx(b,{id:"beta-signup-form",sx:{py:{xs:8,md:12},bgcolor:"primary.main",color:"white",background:"linear-gradient(135deg, #1565c0 0%, #0d47a1 100%)"},children:e.jsxs(W,{maxWidth:"md",children:[e.jsxs(b,{sx:{textAlign:"center",mb:6},children:[e.jsx(c,{variant:"h2",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:"bold",mb:3},children:"Request Beta Access"}),e.jsx(c,{variant:"h6",sx:{opacity:.9,lineHeight:1.6,maxWidth:"600px",mx:"auto"},children:"Join select fire departments testing the future of fire service analytics. Free during beta with direct input on feature development."})]}),e.jsx(F,{sx:{maxWidth:"600px",mx:"auto",borderRadius:4,boxShadow:"0 16px 48px rgba(0,0,0,0.2)"},children:e.jsxs(k,{sx:{p:4},children:[p&&e.jsx(M,{severity:p,sx:{mb:3},onClose:()=>l(null),children:j}),e.jsx("form",{onSubmit:C,children:e.jsxs(a,{container:!0,spacing:3,children:[e.jsx(a,{item:!0,xs:12,children:e.jsx(o,{fullWidth:!0,label:"Fire Department Name",required:!0,value:t.departmentName,onChange:s("departmentName"),placeholder:"e.g., Metro Fire District"})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Your Name",required:!0,value:t.contactName,onChange:s("contactName"),placeholder:"Chief John Smith"})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Position/Title",value:t.position,onChange:s("position"),placeholder:"Fire Chief, Assistant Chief, etc."})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Email Address",type:"email",required:!0,value:t.email,onChange:s("email"),placeholder:"chief@metrofire.gov"})}),e.jsx(a,{item:!0,xs:12,sm:6,children:e.jsx(o,{fullWidth:!0,label:"Phone Number",value:t.phone,onChange:s("phone"),placeholder:"(555) 123-4567"})}),e.jsx(a,{item:!0,xs:12,children:e.jsxs(o,{fullWidth:!0,select:!0,label:"State",required:!0,value:t.state,onChange:s("state"),children:[e.jsx(S,{value:"",children:"Select State"}),N.map(r=>e.jsx(S,{value:r,children:r},r))]})}),e.jsx(a,{item:!0,xs:12,children:e.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:h||!g(),sx:{py:2,fontSize:"1.2rem",fontWeight:"bold",bgcolor:"#ff6b35","&:hover":{bgcolor:"#e55a2b",transform:"translateY(-2px)"},"&:disabled":{bgcolor:"rgba(255,255,255,0.3)"},transition:"all 0.3s ease-in-out"},children:h?e.jsxs(e.Fragment,{children:[e.jsx(I,{size:24,sx:{mr:2,color:"white"}}),"Submitting..."]}):"Request Beta Invite"})})]})}),e.jsx(c,{variant:"body2",sx:{textAlign:"center",mt:3,color:"text.secondary",fontSize:"0.9rem"},children:"We respect your privacy. Your information is only used for beta program communication and will never be shared."})]})})]})})};export{q as default};
