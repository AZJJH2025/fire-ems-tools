import{r as o,df as m,de as S,j as e,t as h,d9 as W,v as d,H as k,I as z,K as F,G as r,W as l,O as j,a9 as A,aa as M,dg as I}from"./index-CBGrwvoJ.js";const P=()=>{const[t,x]=o.useState({departmentName:"",contactName:"",email:"",state:"",phone:"",position:""}),[g,p]=o.useState(!1),[b,s]=o.useState(null),[y,c]=o.useState(""),[v,N]=o.useState(!1);o.useEffect(()=>{m.formView(),S.betaFormView()},[]);const w=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"],n=i=>a=>{v||(N(!0),m.formStart()),x(u=>({...u,[i]:a.target.value}))},f=()=>!!(t.departmentName.trim()&&t.contactName.trim()&&t.email.trim()&&t.state),C=async i=>{if(i.preventDefault(),!f()){s("error"),c("Please fill in all required fields.");return}p(!0),s(null),m.formSubmit(t.departmentName,t.state),S.betaFormSubmit();try{const a=await fetch("/api/beta-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...t,timestamp:new Date().toISOString(),source:"landing_page",userAgent:navigator.userAgent})});if(a.ok)s("success"),c("Thank you! We'll be in touch soon with beta access details."),m.formSuccess(),I({departmentName:t.departmentName,state:t.state,email:t.email,source:"landing_page"}),x({departmentName:"",contactName:"",email:"",state:"",phone:"",position:""});else{const u=await a.json();a.status===409?(s("success"),c(u.message||"This email is already on our beta list. We'll be in touch soon!")):(s("error"),c(u.error||"Something went wrong. Please try again or contact us directly."));return}}catch(a){console.error("Form submission error:",a),s("error"),c("Something went wrong. Please try again or contact us directly."),m.formError(a instanceof Error?a.message:"Unknown error")}finally{p(!1)}};return e.jsx(h,{id:"beta-signup-form",sx:{py:{xs:8,md:12},bgcolor:"primary.main",color:"white",background:"linear-gradient(135deg, #1565c0 0%, #0d47a1 100%)"},children:e.jsxs(W,{maxWidth:"md",children:[e.jsxs(h,{sx:{textAlign:"center",mb:6},children:[e.jsx(d,{variant:"h2",sx:{fontSize:{xs:"2rem",md:"3rem"},fontWeight:"bold",mb:3},children:"Request Beta Access"}),e.jsxs(d,{variant:"h6",sx:{opacity:.9,lineHeight:1.6,maxWidth:"600px",mx:"auto"},children:["Join select fire departments testing the future of fire service analytics.",e.jsx("strong",{children:"Selected departments receive 6 months of premium access â€” 100% free"})," with direct input on feature development."]})]}),e.jsx(k,{sx:{maxWidth:"600px",mx:"auto",borderRadius:4,boxShadow:"0 16px 48px rgba(0,0,0,0.2)"},children:e.jsxs(z,{sx:{p:4},children:[b&&e.jsx(F,{severity:b,sx:{mb:3},onClose:()=>s(null),children:y}),e.jsxs(h,{sx:{mb:3,p:2,bgcolor:"rgba(25, 118, 210, 0.1)",borderRadius:2,border:"1px solid rgba(25, 118, 210, 0.3)"},children:[e.jsx(d,{variant:"body1",sx:{color:"primary.main",fontWeight:"bold",textAlign:"center",fontSize:"1.1rem"},children:"ðŸŽ¯ Selected departments receive 6 months of premium access â€” 100% free"}),e.jsx(d,{variant:"body2",sx:{color:"text.secondary",textAlign:"center",mt:1},children:"Prove ROI and value with zero investment. No contracts, no commitments."})]}),e.jsx("form",{onSubmit:C,children:e.jsxs(r,{container:!0,spacing:3,children:[e.jsx(r,{size:{xs:12},children:e.jsx(l,{fullWidth:!0,label:"Fire Department Name",required:!0,value:t.departmentName,onChange:n("departmentName"),placeholder:"e.g., Metro Fire District"})}),e.jsx(r,{size:{xs:12,sm:6},children:e.jsx(l,{fullWidth:!0,label:"Your Name",required:!0,value:t.contactName,onChange:n("contactName"),placeholder:"Chief John Smith"})}),e.jsx(r,{size:{xs:12,sm:6},children:e.jsx(l,{fullWidth:!0,label:"Position/Title",value:t.position,onChange:n("position"),placeholder:"Fire Chief, Assistant Chief, etc."})}),e.jsx(r,{size:{xs:12,sm:6},children:e.jsx(l,{fullWidth:!0,label:"Email Address",type:"email",required:!0,value:t.email,onChange:n("email"),placeholder:"chief@metrofire.gov"})}),e.jsx(r,{size:{xs:12,sm:6},children:e.jsx(l,{fullWidth:!0,label:"Phone Number",value:t.phone,onChange:n("phone"),placeholder:"(555) 123-4567"})}),e.jsx(r,{size:{xs:12},children:e.jsxs(l,{fullWidth:!0,select:!0,label:"State",required:!0,value:t.state,onChange:n("state"),children:[e.jsx(j,{value:"",children:"Select State"}),w.map(i=>e.jsx(j,{value:i,children:i},i))]})}),e.jsx(r,{size:{xs:12},children:e.jsx(A,{type:"submit",fullWidth:!0,variant:"contained",size:"large",disabled:g||!f(),sx:{py:2,fontSize:"1.2rem",fontWeight:"bold",bgcolor:"#ff6b35","&:hover":{bgcolor:"#e55a2b",transform:"translateY(-2px)"},"&:disabled":{bgcolor:"rgba(255,255,255,0.3)"},transition:"all 0.3s ease-in-out"},children:g?e.jsxs(e.Fragment,{children:[e.jsx(M,{size:24,sx:{mr:2,color:"white"}}),"Submitting..."]}):"Request Beta Invite"})})]})}),e.jsx(d,{variant:"body2",sx:{textAlign:"center",mt:3,color:"text.secondary",fontSize:"0.9rem"},children:"We respect your privacy. Your information is only used for beta program communication and will never be shared."})]})})]})})};export{P as default};
